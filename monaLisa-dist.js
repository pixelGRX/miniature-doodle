!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(k,L){"use strict";function y(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function m(e){return null!=e&&e===e.window}var t=[],j=Object.getPrototypeOf,s=t.slice,F=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},z=t.push,q=t.indexOf,$={},B=$.toString,V=$.hasOwnProperty,U=V.toString,H=U.call(Object),v={},S=k.document,Q={type:!0,src:!0,nonce:!0,noModule:!0};function G(e,t,n){var i,r,o=(n=n||S).createElement("script");if(o.text=e,t)for(i in Q)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function f(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[B.call(e)]||"object":typeof e}var _=function(e,t){return new _.fn.init(e,t)};function W(e){var t=!!e&&"length"in e&&e.length,n=f(e);return!y(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}_.fn=_.prototype={jquery:"3.5.1",constructor:_,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=_.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return _.each(this,e)},map:function(n){return this.pushStack(_.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:z,sort:t.sort,splice:t.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,o=arguments[0]||{},a=1,s=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||y(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(c&&n&&(_.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],r=i&&!Array.isArray(r)?[]:i||_.isPlainObject(r)?r:{},i=!1,o[t]=_.extend(c,r,n)):void 0!==n&&(o[t]=n));return o},_.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==B.call(e)||(e=j(e))&&("function"!=typeof(e=V.call(e,"constructor")&&e.constructor)||U.call(e)!==H))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){G(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(W(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(W(Object(e))?_.merge(t,"string"==typeof e?[e]:e):z.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(W(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return F(a)},guid:1,support:v}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=t[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});function i(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i}function X(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(L){function h(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function j(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function F(){k()}var e,d,w,o,z,p,q,$,x,c,l,k,S,n,_,f,i,r,m,E="sizzle"+ +new Date,u=L.document,C=0,B=0,V=M(),U=M(),H=M(),v=M(),Q=function(e,t){return e===t&&(l=!0),0},G={}.hasOwnProperty,t=[],W=t.pop,X=t.push,T=t.push,K=t.slice,y=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Y="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",J="\\["+a+"*("+s+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+a+"*\\]",Z=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",ee=new RegExp(a+"+","g"),g=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),te=new RegExp("^"+a+"*,"+a+"*"),ne=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),ie=new RegExp(a+"|>"),re=new RegExp(Z),oe=new RegExp("^"+s+"$"),b={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+Y+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},ae=/HTML$/i,se=/^(?:input|select|textarea|button)$/i,ce=/^h\d$/i,A=/^[^{]+\{\s*\[native \w/,le=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ue=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\([^\\r\\n\\f])","g"),he=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,de=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{T.apply(t=K.call(u.childNodes),u.childNodes),t[u.childNodes.length].nodeType}catch(e){T={apply:t.length?function(e,t){X.apply(e,K.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function I(e,t,n,i){var r,o,a,s,c,l,u=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&(k(t),t=t||S,_)){if(11!==h&&(s=le.exec(e)))if(r=s[1]){if(9===h){if(!(l=t.getElementById(r)))return n;if(l.id===r)return n.push(l),n}else if(u&&(l=u.getElementById(r))&&m(t,l)&&l.id===r)return n.push(l),n}else{if(s[2])return T.apply(n,t.getElementsByTagName(e)),n;if((r=s[3])&&d.getElementsByClassName&&t.getElementsByClassName)return T.apply(n,t.getElementsByClassName(r)),n}if(d.qsa&&!v[e+" "]&&(!f||!f.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(l=e,u=t,1===h&&(ie.test(e)||ne.test(e))){for((u=ue.test(e)&&ve(t.parentNode)||t)===t&&d.scope||((a=t.getAttribute("id"))?a=a.replace(he,j):t.setAttribute("id",a=E)),o=(c=p(e)).length;o--;)c[o]=(a?"#"+a:":scope")+" "+R(c[o]);l=c.join(",")}try{return T.apply(n,u.querySelectorAll(l)),n}catch(t){v(e,!0)}finally{a===E&&t.removeAttribute("id")}}}return $(e.replace(g,"$1"),t,n,i)}function M(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function P(e){return e[E]=!0,e}function D(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function pe(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&de(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function N(a){return P(function(o){return o=+o,P(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=I.support={},z=I.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!ae.test(t||e&&e.nodeName||"HTML")},k=I.setDocument=function(e){var e=e?e.ownerDocument||e:u;return e!=S&&9===e.nodeType&&e.documentElement&&(n=(S=e).documentElement,_=!z(S),u!=S&&(e=S.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",F,!1):e.attachEvent&&e.attachEvent("onunload",F)),d.scope=D(function(e){return n.appendChild(e).appendChild(S.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=D(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=D(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=A.test(S.getElementsByClassName),d.getById=D(function(e){return n.appendChild(e).id=E,!S.getElementsByName||!S.getElementsByName(E).length}),d.getById?(w.filter.ID=function(e){var t=e.replace(O,h);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&_)return(t=t.getElementById(e))?[t]:[]}):(w.filter.ID=function(e){var t=e.replace(O,h);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&_)return t.getElementsByClassName(e)},i=[],f=[],(d.qsa=A.test(S.querySelectorAll))&&(D(function(e){var t;n.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\["+a+"*(?:value|"+Y+")"),e.querySelectorAll("[id~="+E+"-]").length||f.push("~="),(t=S.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+a+"*name"+a+"*="+a+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||f.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll("\\\f"),f.push("[\\r\\n\\f]")}),D(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")})),(d.matchesSelector=A.test(r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&D(function(e){d.disconnectedMatch=r.call(e,"*"),r.call(e,"[s!='']:x"),i.push("!=",Z)}),f=f.length&&new RegExp(f.join("|")),i=i.length&&new RegExp(i.join("|")),e=A.test(n.compareDocumentPosition),m=e||A.test(n.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=e?function(e,t){return e===t?(l=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==S||e.ownerDocument==u&&m(u,e)?-1:t==S||t.ownerDocument==u&&m(u,t)?1:c?y(c,e)-y(c,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return l=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e==S?-1:t==S?1:r?-1:o?1:c?y(c,e)-y(c,t):0;if(r===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?fe(a[i],s[i]):a[i]==u?-1:s[i]==u?1:0}),S},I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(k(e),d.matchesSelector&&_&&!v[t+" "]&&(!i||!i.test(t))&&(!f||!f.test(t)))try{var n=r.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){v(t,!0)}return 0<I(t,S,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=S&&k(e),m(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=S&&k(e);var n=w.attrHandle[t.toLowerCase()],n=n&&G.call(w.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==n?n:d.attributes||!_?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},I.escape=function(e){return(e+"").replace(he,j)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},I.uniqueSort=function(e){var t,n=[],i=0,r=0;if(l=!d.detectDuplicates,c=!d.sortStable&&e.slice(0),e.sort(Q),l){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return c=null,e},o=I.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(w=I.selectors={cacheLength:50,createPseudo:P,match:b,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,h),e[3]=(e[3]||e[4]||e[5]||"").replace(O,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return b.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&re.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=I.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,v){var g="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,c,l=g!=y?"nextSibling":"previousSibling",u=e.parentNode,h=b&&e.nodeName.toLowerCase(),d=!n&&!b,p=!1;if(u){if(g){for(;l;){for(a=e;a=a[l];)if(b?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;c=l="only"===f&&!c&&"nextSibling"}return!0}if(c=[y?u.firstChild:u.lastChild],y&&d){for(p=(s=(i=(r=(o=(a=u)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===C&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[l]||(p=s=0)||c.pop();)if(1===a.nodeType&&++p&&a===e){r[f]=[C,s,p];break}}else if(!1===(p=d?s=(i=(r=(o=(a=e)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===C&&i[1]:p))for(;(a=++s&&a&&a[l]||(p=s=0)||c.pop())&&((b?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++p||(d&&((r=(o=a[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]=[C,p]),a!==e)););return(p-=v)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[E]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?P(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=y(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:P(function(e){var i=[],r=[],s=q(e.replace(g,"$1"));return s[E]?P(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:P(function(t){return function(e){return 0<I(t,e).length}}),contains:P(function(t){return t=t.replace(O,h),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:P(function(n){return oe.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,h).toLowerCase(),function(e){var t;do{if(t=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=L.location&&L.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ce.test(e.nodeName)},input:function(e){return se.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:N(function(){return[0]}),last:N(function(e,t){return[t-1]}),eq:N(function(e,t,n){return[n<0?n+t:n]}),even:N(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:N(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:N(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:N(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ge(){}function R(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(a,e,t){var s=e.dir,c=e.next,l=c||s,u=t&&"parentNode"===l,h=B++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n);return!1}:function(e,t,n){var i,r,o=[C,h];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(r=(r=e[E]||(e[E]={}))[e.uniqueID]||(r[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[s]||e;else{if((i=r[l])&&i[0]===C&&i[1]===h)return o[2]=i[2];if((r[l]=o)[2]=a(e,t,n))return!0}return!1}}function be(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function we(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)!(o=e[s])||n&&!n(o,i,r)||(a.push(o),l&&t.push(s));return a}function xe(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,c=ye(function(e){return e===i},a,!0),l=ye(function(e){return-1<y(i,e)},a,!0),u=[function(e,t,n){e=!o&&(n||t!==x)||((i=t).nodeType?c:l)(e,t,n);return i=null,e}];s<r;s++)if(t=w.relative[e[s].type])u=[ye(be(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return function e(p,f,m,v,g,t){return v&&!v[E]&&(v=e(v)),g&&!g[E]&&(g=e(g,t)),P(function(e,t,n,i){var r,o,a,s=[],c=[],l=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)I(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),h=!p||!e&&f?u:we(u,s,p,n,i),d=m?g||(e?p:l||v)?[]:t:h;if(m&&m(h,d,n,i),v)for(r=we(d,c),v(r,[],n,i),o=r.length;o--;)(a=r[o])&&(d[c[o]]=!(h[c[o]]=a));if(e){if(g||p){if(g){for(r=[],o=d.length;o--;)(a=d[o])&&r.push(h[o]=a);g(null,d=[],r,i)}for(o=d.length;o--;)(a=d[o])&&-1<(r=g?y(e,a):s[o])&&(e[r]=!(t[r]=a))}}else d=we(d===t?d.splice(l,d.length):d),g?g(null,t,d,i):T.apply(t,d)})}(1<s&&be(u),1<s&&R(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(g,"$1"),t,s<n&&xe(e.slice(s,n)),n<r&&xe(e=e.slice(n)),n<r&&R(e))}u.push(t)}return be(u)}return ge.prototype=w.filters=w.pseudos,w.setFilters=new ge,p=I.tokenize=function(e,t){var n,i,r,o,a,s,c,l=U[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],c=w.preFilter;a;){for(o in n&&!(i=te.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ne.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(g," ")}),a=a.slice(n.length)),w.filter)!(i=b[o].exec(a))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):U(e,s).slice(0)},q=I.compile=function(e,t){var n,v,g,y,b,i,r=[],o=[],a=H[e+" "];if(!a){for(n=(t=t||p(e)).length;n--;)((a=xe(t[n]))[E]?r:o).push(a);(a=H(e,(y=0<(g=r).length,b=0<(v=o).length,i=function(e,t,n,i,r){var o,a,s,c=0,l="0",u=e&&[],h=[],d=x,p=e||b&&w.find.TAG("*",r),f=C+=null==d?1:Math.random()||.1,m=p.length;for(r&&(x=t==S||t||r);l!==m&&null!=(o=p[l]);l++){if(b&&o){for(a=0,t||o.ownerDocument==S||(k(o),n=!_);s=v[a++];)if(s(o,t||S,n)){i.push(o);break}r&&(C=f)}y&&((o=!s&&o)&&c--,e&&u.push(o))}if(c+=l,y&&l!==c){for(a=0;s=g[a++];)s(u,h,t,n);if(e){if(0<c)for(;l--;)u[l]||h[l]||(h[l]=W.call(i));h=we(h)}T.apply(i,h),r&&!e&&0<h.length&&1<c+g.length&&I.uniqueSort(i)}return r&&(C=f,x=d),u},y?P(i):i))).selector=e}return a},$=I.select=function(e,t,n,i){var r,o,a,s,c,l="function"==typeof e&&e,u=!i&&p(e=l.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&_&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(O,h),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=b.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((c=w.find[s])&&(i=c(a.matches[0].replace(O,h),ue.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&R(o))break;return T.apply(n,i),n}}return(l||q(e,u))(i,t,!_,n,!t||ue.test(e)&&ve(t.parentNode)||t),n},d.sortStable=E.split("").sort(Q).join("")===E,d.detectDuplicates=!!l,k(),d.sortDetached=D(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),D(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&D(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),D(function(e){return null==e.getAttribute("disabled")})||pe(Y,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),I}(k),K=(_.find=e,_.expr=e.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=e.uniqueSort,_.text=e.getText,_.isXMLDoc=e.isXML,_.contains=e.contains,_.escapeSelector=e.escape,_.expr.match.needsContext);function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Y=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(e,n,i){return y(n)?_.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?_.grep(e,function(e){return e===n!==i}):"string"!=typeof n?_.grep(e,function(e){return-1<q.call(n,e)!==i}):_.filter(n,e,i)}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)_.find(e,r[t],n);return 1<i?_.uniqueSort(n):n},filter:function(e){return this.pushStack(J(this,e||[],!1))},not:function(e){return this.pushStack(J(this,e||[],!0))},is:function(e){return!!J(this,"string"==typeof e&&K.test(e)?_(e):e||[],!1).length}});var Z,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=((_.fn.init=function(e,t,n){if(!e)return this;if(n=n||Z,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ee.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),Y.test(i[1])&&_.isPlainObject(t))for(var i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=S.getElementById(i[2]))&&(this[0]=n,this.length=1),this}).prototype=_.fn,Z=_(S),/^(?:parents|prev(?:Until|All))/),ne={children:!0,contents:!0,next:!0,prev:!0};function ie(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&_(e);if(!K.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&_.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?_.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?q.call(_(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return ie(e,"nextSibling")},prev:function(e){return ie(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return X((e.parentNode||{}).firstChild,e)},children:function(e){return X(e.firstChild)},contents:function(e){return null!=e.contentDocument&&j(e.contentDocument)?e.contentDocument:(c(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},function(i,r){_.fn[i]=function(e,t){var n=_.map(this,r,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=_.filter(t,n)),1<this.length&&(ne[i]||_.uniqueSort(n),te.test(i)&&n.reverse()),this.pushStack(n)}});var E=/[^\x20\t\r\n\f]+/g;function u(e){return e}function re(e){throw e}function oe(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},_.each(e.match(E)||[],function(e,t){n[t]=!0}),n):_.extend({},i);function r(){for(s=s||i.once,a=o=!0;l.length;u=-1)for(t=l.shift();++u<c.length;)!1===c[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=c.length,t=!1);i.memory||(t=!1),o=!1,s&&(c=t?[]:"")}var o,t,a,s,c=[],l=[],u=-1,h={add:function(){return c&&(t&&!o&&(u=c.length-1,l.push(t)),function n(e){_.each(e,function(e,t){y(t)?i.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==f(t)&&n(t)})}(arguments),t&&!o&&r()),this},remove:function(){return _.each(arguments,function(e,t){for(var n;-1<(n=_.inArray(t,c,n));)c.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<_.inArray(e,c):0<c.length},empty:function(){return c=c&&[],this},disable:function(){return s=l=[],c=t="",this},disabled:function(){return!c},lock:function(){return s=l=[],t||o||(c=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o||r()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},_.extend({Deferred:function(e){var o=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return _.Deferred(function(i){_.each(o,function(e,t){var n=y(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var c=0;function l(r,o,a,s){return function(){function e(){var e,t;if(!(r<c)){if((e=a.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,l(c,o,u,s),l(c,o,re,s)):(c++,t.call(e,l(c,o,u,s),l(c,o,re,s),l(c,o,u,o.notifyWith))):(a!==u&&(n=void 0,i=[e]),(s||o.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,t.stackTrace),c<=r+1&&(a!==re&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(_.Deferred.getStackHook&&(t.stackTrace=_.Deferred.getStackHook()),k.setTimeout(t))}}return _.Deferred(function(e){o[0][3].add(l(0,e,y(i)?i:u,e.notifyWith)),o[1][3].add(l(0,e,y(t)?t:u)),o[2][3].add(l(0,e,y(n)?n:re))}).promise()},promise:function(e){return null!=e?_.extend(e,a):a}},s={};return _.each(o,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=s.call(arguments),a=_.Deferred();if(n<=1&&(oe(e,a.done(t(i)).resolve,a.reject,!n),"pending"===a.state()||y(o[i]&&o[i].then)))return a.then();for(;i--;)oe(o[i],t(i),a.reject);return a.promise()}});var ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,se=(_.Deferred.exceptionHook=function(e,t){k.console&&k.console.warn&&e&&ae.test(e.name)&&k.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},_.readyException=function(e){k.setTimeout(function(){throw e})},_.Deferred());function ce(){S.removeEventListener("DOMContentLoaded",ce),k.removeEventListener("load",ce),_.ready()}_.fn.ready=function(e){return se.then(e).catch(function(e){_.readyException(e)}),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0)!==e&&0<--_.readyWait||se.resolveWith(S,[_])}}),_.ready.then=se.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?k.setTimeout(_.ready):(S.addEventListener("DOMContentLoaded",ce),k.addEventListener("load",ce));function h(e,t,n,i,r,o,a){var s=0,c=e.length,l=null==n;if("object"===f(n))for(s in r=!0,n)h(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),t=l?a?(t.call(e,i),null):(l=t,function(e,t,n){return l.call(_(e),n)}):t))for(;s<c;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):c?t(e[0],n):o}var le=/^-ms-/,ue=/-([a-z])/g;function he(e,t){return t.toUpperCase()}function b(e){return e.replace(le,"ms-").replace(ue,he)}function g(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function de(){this.expando=_.expando+de.uid++}de.uid=1,de.prototype={cache:function(e){var t=e[this.expando];return t||(t={},g(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[b(t)]=n;else for(i in t)r[b(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(b):(t=b(t))in i?[t]:t.match(E)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!_.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!_.isEmptyObject(e)}};var w=new de,l=new de,pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,fe=/[A-Z]/g;function me(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(fe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:pe.test(r)?JSON.parse(r):r)}catch(e){}l.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return l.hasData(e)||w.hasData(e)},data:function(e,t,n){return l.access(e,t,n)},removeData:function(e,t){l.remove(e,t)},_data:function(e,t,n){return w.access(e,t,n)},_removeData:function(e,t){w.remove(e,t)}}),_.fn.extend({data:function(n,e){var t,i,r,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){l.set(this,n)}):h(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=l.get(o,n))||void 0!==(t=me(o,n))?t:void 0;this.each(function(){l.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=l.get(o),1===o.nodeType&&!w.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=b(i.slice(5)),me(o,i,r[i]));w.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){l.remove(this,e)})}}),_.extend({queue:function(e,t,n){var i;if(e)return i=w.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=w.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.length,r=n.shift(),o=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){_.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w.get(e,n)||w.access(e,n,{empty:_.Callbacks("once memory").add(function(){w.remove(e,[t+"queue",n])})})}}),_.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?_.queue(this[0],t):void 0===n?this:this.each(function(){var e=_.queue(this,t,n);_._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&_.dequeue(this,t)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(a,[a])}var i,r=1,o=_.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=w.get(a[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});function ve(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C(e)&&"none"===_.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ge=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),d=["Top","Right","Bottom","Left"],x=S.documentElement,C=function(e){return _.contains(e.ownerDocument,e)},ye={composed:!0};x.getRootNode&&(C=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(ye)===e.ownerDocument});function be(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return _.css(e,t,"")},c=s(),l=n&&n[3]||(_.cssNumber[t]?"":"px"),u=e.nodeType&&(_.cssNumber[t]||"px"!==l&&+c)&&ge.exec(_.css(e,t));if(u&&u[3]!==l){for(l=l||u[3],u=+(c/=2)||1;a--;)_.style(e,t,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;_.style(e,t,(u*=2)+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var we={};function T(e,t){for(var n,i,r,o,a,s,c=[],l=0,u=e.length;l<u;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(c[l]=w.get(i,"display")||null,c[l]||(i.style.display="")),""===i.style.display&&ve(i)&&(c[l]=(s=o=r=void 0,o=i.ownerDocument,a=i.nodeName,(s=we[a])||(r=o.body.appendChild(o.createElement(a)),s=_.css(r,"display"),r.parentNode.removeChild(r),we[a]=s="none"===s?"block":s)))):"none"!==n&&(c[l]="none",w.set(i,"display",n)));for(l=0;l<u;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}_.fn.extend({show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ve(this)?_(this).show():_(this).hide()})}});var xe=/^(?:checkbox|radio)$/i,ke=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Se=/^$|^module$|\/(?:java|ecma)script/i,n=S.createDocumentFragment().appendChild(S.createElement("div")),A=((P=S.createElement("input")).setAttribute("type","radio"),P.setAttribute("checked","checked"),P.setAttribute("name","t"),n.appendChild(P),v.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",v.option=!!n.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function O(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&c(e,t)?_.merge([e],n):n}function _e(e,t){for(var n=0,i=e.length;n<i;n++)w.set(e[n],"globalEval",!t||w.get(t[n],"globalEval"))}A.tbody=A.tfoot=A.colgroup=A.caption=A.thead,A.th=A.td,v.option||(A.optgroup=A.option=[1,"<select multiple='multiple'>","</select>"]);var Ee=/<|&#?\w+;/;function Ce(e,t,n,i,r){for(var o,a,s,c,l,u=t.createDocumentFragment(),h=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===f(o))_.merge(h,o.nodeType?[o]:o);else if(Ee.test(o)){for(a=a||u.appendChild(t.createElement("div")),s=(ke.exec(o)||["",""])[1].toLowerCase(),s=A[s]||A._default,a.innerHTML=s[1]+_.htmlPrefilter(o)+s[2],l=s[0];l--;)a=a.lastChild;_.merge(h,a.childNodes),(a=u.firstChild).textContent=""}else h.push(t.createTextNode(o));for(u.textContent="",d=0;o=h[d++];)if(i&&-1<_.inArray(o,i))r&&r.push(o);else if(c=C(o),a=O(u.appendChild(o),"script"),c&&_e(a),n)for(l=0;o=a[l++];)Se.test(o.type||"")&&n.push(o);return u}var Te=/^key/,Ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oe=/^([^.]*)(?:\.(.+)|)/;function a(){return!0}function p(){return!1}function Ie(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function Me(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Me(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=p;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return _().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=_.guid++)),e.each(function(){_.event.add(this,t,r,i,n)})}function Pe(e,r,o){o?(w.set(e,r,!1),_.event.add(e,r,{namespace:!1,handler:function(e){var t,n,i=w.get(this,r);if(1&e.isTrigger&&this[r]){if(i.length)(_.event.special[r]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),w.set(this,r,i),t=o(this,r),this[r](),i!==(n=w.get(this,r))||t?w.set(this,r,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else i.length&&(w.set(this,r,{value:_.event.trigger(_.extend(i[0],_.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===w.get(e,r)&&_.event.add(e,r,a)}_.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,p,f=w.get(t);if(g(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_.find.matchesSelector(x,r),n.guid||(n.guid=_.guid++),(s=f.events)||(s=f.events=Object.create(null)),(a=f.handle)||(a=f.handle=function(e){return void 0!==_&&_.event.triggered!==e.type?_.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(E)||[""]).length;c--;)h=p=(d=Oe.exec(e[c])||[])[1],d=(d[2]||"").split(".").sort(),h&&(l=_.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=_.event.special[h]||{},p=_.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:d.join(".")},o),(u=s[h])||((u=s[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,i,d,a)||t.addEventListener&&t.addEventListener(h,a)),l.add&&(l.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),r?u.splice(u.delegateCount++,0,p):u.push(p),_.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,c,l,u,h,d,p,f,m,v=w.hasData(e)&&w.get(e);if(v&&(c=v.events)){for(l=(t=(t||"").match(E)||[""]).length;l--;)if(p=m=(s=Oe.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=_.event.special[p]||{},d=c[p=(i?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||_.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)_.event.remove(e,p+t[l],n,i,!0);_.isEmptyObject(c)&&w.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a=new Array(arguments.length),s=_.event.fix(e),e=(w.get(this,"events")||Object.create(null))[s.type]||[],c=_.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(o=_.event.handlers.call(this,s,e),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(r=((_.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?-1<_(r,this).index(l):_.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(t,e){Object.defineProperty(_.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return xe.test(e.type)&&e.click&&c(e,"input")&&Pe(e,"click",a),!1},trigger:function(e){e=this||e;return xe.test(e.type)&&e.click&&c(e,"input")&&Pe(e,"click"),!0},_default:function(e){e=e.target;return xe.test(e.type)&&e.click&&c(e,"input")&&w.get(e,"click")||c(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?a:p,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=a,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ae.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(e,t){_.event.special[e]={setup:function(){return Pe(this,e,Ie),!1},trigger:function(){return Pe(this,e),!0},delegateType:t}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){_.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||_.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),_.fn.extend({on:function(e,t,n,i){return Me(this,e,t,n,i)},one:function(e,t,n,i){return Me(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){_.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var De=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,i,r,o;if(1===t.nodeType){if(w.hasData(e)&&(o=w.get(e).events))for(r in w.remove(t,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)_.event.add(t,r,o[r][n]);l.hasData(e)&&(e=l.access(e),e=_.extend({},e),l.set(t,e))}}function I(n,i,r,o){i=F(i);var e,t,a,s,c,l,u=0,h=n.length,d=h-1,p=i[0],f=y(p);if(f||1<h&&"string"==typeof p&&!v.checkClone&&Ne.test(p))return n.each(function(e){var t=n.eq(e);f&&(i[0]=p.call(this,e,t.html())),I(t,i,r,o)});if(h&&(t=(e=Ce(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=_.map(O(e,"script"),je)).length;u<h;u++)c=e,u!==d&&(c=_.clone(c,!0,!0),s&&_.merge(a,O(c,"script"))),r.call(n[u],c,u);if(s)for(l=a[a.length-1].ownerDocument,_.map(a,Fe),u=0;u<s;u++)c=a[u],Se.test(c.type||"")&&!w.access(c,"globalEval")&&_.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):G(c.textContent.replace(Re,""),c,l))}return n}function qe(e,t,n){for(var i,r=t?_.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(O(i)),i.parentNode&&(n&&C(i)&&_e(O(i,"script")),i.parentNode.removeChild(i));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s,c,l,u=e.cloneNode(!0),h=C(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=O(u),i=0,r=(o=O(e)).length;i<r;i++)s=o[i],"input"===(l=(c=a[i]).nodeName.toLowerCase())&&xe.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(t)if(n)for(o=o||O(e),a=a||O(u),i=0,r=o.length;i<r;i++)ze(o[i],a[i]);else ze(e,u);return 0<(a=O(u,"script")).length&&_e(a,!h&&O(e,"script")),u},cleanData:function(e){for(var t,n,i,r=_.event.special,o=0;void 0!==(n=e[o]);o++)if(g(n)){if(t=n[w.expando]){if(t.events)for(i in t.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);n[w.expando]=void 0}n[l.expando]&&(n[l.expando]=void 0)}}}),_.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return h(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return I(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Le(this,e)).insertBefore(e,t.firstChild)})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(O(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return h(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!A[(ke.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(O(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return I(this,arguments,function(e){var t=this.parentNode;_.inArray(this,n)<0&&(_.cleanData(O(this)),t&&t.replaceChild(e,this))},n)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){_.fn[e]=function(e){for(var t,n=[],i=_(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),_(i[o])[a](t),z.apply(n,t.get());return this.pushStack(n)}});function $e(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:k).getComputedStyle(e)}function Be(e,t,n){var i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=r[i];return n}var Ve,Ue,He,Qe,Ge,We,Xe,r,Ke=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Ye=new RegExp(d.join("|"),"i");function Je(e,t,n){var i,r,o=e.style;return(n=n||$e(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||C(e)||(r=_.style(e,t)),!v.pixelBoxStyles()&&Ke.test(r)&&Ye.test(t)&&(e=o.width,t=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=e,o.minWidth=t,o.maxWidth=i)),void 0!==r?r+"":r}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function et(){var e;r&&(Xe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",r.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",x.appendChild(Xe).appendChild(r),e=k.getComputedStyle(r),Ve="1%"!==e.top,We=12===tt(e.marginLeft),r.style.right="60%",Qe=36===tt(e.right),Ue=36===tt(e.width),r.style.position="absolute",He=12===tt(r.offsetWidth/3),x.removeChild(Xe),r=null)}function tt(e){return Math.round(parseFloat(e))}Xe=S.createElement("div"),(r=S.createElement("div")).style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===r.style.backgroundClip,_.extend(v,{boxSizingReliable:function(){return et(),Ue},pixelBoxStyles:function(){return et(),Qe},pixelPosition:function(){return et(),Ve},reliableMarginLeft:function(){return et(),We},scrollboxSize:function(){return et(),He},reliableTrDimensions:function(){var e,t,n;return null==Ge&&(e=S.createElement("table"),t=S.createElement("tr"),n=S.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",x.appendChild(e).appendChild(t).appendChild(n),n=k.getComputedStyle(t),Ge=3<parseInt(n.height),x.removeChild(e)),Ge}}));var nt=["Webkit","Moz","ms"],it=S.createElement("div").style,rt={};function ot(e){return _.cssProps[e]||rt[e]||(e in it?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if((e=nt[n]+t)in it)return e}(e)||e)}var at=/^(none|table(?!-c[ea]).+)/,st=/^--/,ct={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var i=ge.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ht(e,t,n,i,r,o){var a="width"===t?1:0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=_.css(e,n+d[a],!0,r)),i?("content"===n&&(c-=_.css(e,"padding"+d[a],!0,r)),"margin"!==n&&(c-=_.css(e,"border"+d[a]+"Width",!0,r))):(c+=_.css(e,"padding"+d[a],!0,r),"padding"!==n?c+=_.css(e,"border"+d[a]+"Width",!0,r):s+=_.css(e,"border"+d[a]+"Width",!0,r));return!i&&0<=o&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function dt(e,t,n){var i=$e(e),r=(!v.boxSizingReliable()||n)&&"border-box"===_.css(e,"boxSizing",!1,i),o=r,a=Je(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&c(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===_.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===_.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ht(e,t,n||(r?"border":"content"),o,i,a)+"px"}function o(e,t,n,i,r){return new o.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=Je(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=b(t),c=st.test(t),l=e.style;if(c||(t=ot(s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"==(o=typeof n)&&(r=ge.exec(n))&&r[1]&&(n=be(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(_.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var r,o=b(t);return st.test(t)||(t=ot(o)),"normal"===(r=void 0===(r=(o=_.cssHooks[t]||_.cssHooks[o])&&"get"in o?o.get(e,!0,n):r)?Je(e,t,i):r)&&t in lt&&(r=lt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each(["height","width"],function(e,a){_.cssHooks[a]={get:function(e,t,n){if(t)return!at.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?dt(e,a,n):Be(e,ct,function(){return dt(e,a,n)})},set:function(e,t,n){var i=$e(e),r=!v.scrollboxSize()&&"absolute"===i.position,o=(r||n)&&"border-box"===_.css(e,"boxSizing",!1,i),n=n?ht(e,a,n,o,i):0;return o&&r&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-ht(e,a,"border",!1,i)-.5)),n&&(o=ge.exec(t))&&"px"!==(o[3]||"px")&&(e.style[a]=t,t=_.css(e,a)),ut(0,t,n)}}}),_.cssHooks.marginLeft=Ze(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(r,o){_.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+d[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(_.cssHooks[r+o].set=ut)}),_.fn.extend({css:function(e,t){return h(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=$e(e),r=t.length;a<r;a++)o[t[a]]=_.css(e,t[a],!1,i);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)},e,t,1<arguments.length)}}),((_.Tween=o).prototype={constructor:o,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var e=o.propHooks[this.prop];return(e&&e.get?e:o.propHooks._default).get(this)},run:function(e){var t,n=o.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:o.propHooks._default).set(this),this}}).init.prototype=o.prototype,(o.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=_.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=o.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=o.prototype.init,_.fx.step={};var M,pt,P,ft=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function vt(){pt&&(!1===S.hidden&&k.requestAnimationFrame?k.requestAnimationFrame(vt):k.setTimeout(vt,_.fx.interval),_.fx.tick())}function gt(){return k.setTimeout(function(){M=void 0}),M=Date.now()}function yt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=d[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function bt(e,t,n){for(var i,r=(D.tweeners[t]||[]).concat(D.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function D(r,e,t){var n,o,i,a,s,c,l,u=0,h=D.prefilters.length,d=_.Deferred().always(function(){delete p.elem}),p=function(){if(o)return!1;for(var e=M||gt(),e=Math.max(0,f.startTime+f.duration-e),t=1-(e/f.duration||0),n=0,i=f.tweens.length;n<i;n++)f.tweens[n].run(t);return d.notifyWith(r,[f,t,e]),t<1&&i?e:(i||d.notifyWith(r,[f,1,0]),d.resolveWith(r,[f]),!1)},f=d.promise({elem:r,props:_.extend({},e),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},t),originalProperties:e,originalOptions:t,startTime:M||gt(),duration:t.duration,tweens:[],createTween:function(e,t){t=_.Tween(r,f.opts,e,t,f.opts.specialEasing[e]||f.opts.easing);return f.tweens.push(t),t},stop:function(e){var t=0,n=e?f.tweens.length:0;if(o)return this;for(o=!0;t<n;t++)f.tweens[t].run(1);return e?(d.notifyWith(r,[f,1,0]),d.resolveWith(r,[f,e])):d.rejectWith(r,[f,e]),this}}),m=f.props,v=m,g=f.opts.specialEasing;for(i in v)if(s=g[a=b(i)],c=v[i],Array.isArray(c)&&(s=c[1],c=v[i]=c[0]),i!==a&&(v[a]=c,delete v[i]),(l=_.cssHooks[a])&&"expand"in l)for(i in c=l.expand(c),delete v[a],c)i in v||(v[i]=c[i],g[i]=s);else g[a]=s;for(;u<h;u++)if(n=D.prefilters[u].call(f,r,m,f.opts))return y(n.stop)&&(_._queueHooks(f.elem,f.opts.queue).stop=n.stop.bind(n)),n;return _.map(m,bt,f),y(f.opts.start)&&f.opts.start.call(r,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),_.fx.timer(_.extend(p,{elem:r,anim:f,queue:f.opts.queue})),f}_.Animation=_.extend(D,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,ge.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=y(e)?(t=e,["*"]):e.match(E)).length;i<r;i++)n=e[i],D.tweeners[n]=D.tweeners[n]||[],D.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,c,l,u="width"in t||"height"in t,h=this,d={},p=e.style,f=e.nodeType&&ve(e),m=w.get(e,"fxshow");for(i in n.queue||(null==(a=_._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,_.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||_.style(e,i)}if((c=!_.isEmptyObject(t))||!_.isEmptyObject(d))for(i in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=w.get(e,"display")),"none"===(u=_.css(e,"display"))&&(l?u=l:(T([e],!0),l=e.style.display||l,u=_.css(e,"display"),T([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===_.css(e,"float")&&(c||(h.done(function(){p.display=l}),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),c=!1,d)c||(m?"hidden"in m&&(f=m.hidden):m=w.access(e,"fxshow",{display:l}),o&&(m.hidden=!f),f&&T([e],!0),h.done(function(){for(i in f||T([e]),w.remove(e,"fxshow"),d)_.style(e,i,d[i])})),c=bt(f?m[i]:0,i,h),i in m||(m[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?D.prefilters.unshift(e):D.prefilters.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _.fx.speeds?i.duration=_.fx.speeds[i.duration]:i.duration=_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=D(this,_.extend({},t),a);(o||w.get(this,"finish"))&&e.stop(!0)}var o=_.isEmptyObject(t),a=_.speed(e,n,i);return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=_.timers,i=w.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&mt.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||_.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=w.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=_.timers,o=n?n.length:0;for(t.finish=!0,_.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),_.each(["toggle","show","hide"],function(e,i){var r=_.fn[i];_.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(yt(i,!0),e,t,n)}}),_.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){_.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(M=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),M=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){pt||(pt=!0,vt())},_.fx.stop=function(){pt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(i,e){return i=_.fx&&_.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=k.setTimeout(e,i);t.stop=function(){k.clearTimeout(n)}})},P=S.createElement("input"),n=S.createElement("select").appendChild(S.createElement("option")),P.type="checkbox",v.checkOn=""!==P.value,v.optSelected=n.selected,(P=S.createElement("input")).value="t",P.type="radio",v.radioValue="t"===P.value;var wt,xt=_.expr.attrHandle,kt=(_.fn.extend({attr:function(e,t){return h(this,_.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_.prop(e,t,n):(1===o&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=_.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!v.radioValue&&"radio"===t&&c(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(E);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||_.find.attr;xt[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=xt[o],xt[o]=i,i=null!=a(e,t,n)?o:null,xt[o]=r),i}}),/^(?:input|select|textarea|button)$/i),St=/^(?:a|area)$/i;function N(e){return(e.match(E)||[]).join(" ")}function R(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(E)||[]}_.fn.extend({prop:function(e,t){return h(this,_.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(t=_.propFix[t]||t,r=_.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(_.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(t){var e,n,i,r,o,a,s=0;if(y(t))return this.each(function(e){_(this).addClass(t.call(this,e,R(this)))});if((e=_t(t)).length)for(;n=this[s++];)if(a=R(n),i=1===n.nodeType&&" "+N(a)+" "){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a!==(a=N(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0;if(y(t))return this.each(function(e){_(this).removeClass(t.call(this,e,R(this)))});if(!arguments.length)return this.attr("class","");if((e=_t(t)).length)for(;n=this[s++];)if(a=R(n),i=1===n.nodeType&&" "+N(a)+" "){for(o=0;r=e[o++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a!==(a=N(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,t){var o=typeof r,a="string"==o||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):y(r)?this.each(function(e){_(this).toggleClass(r.call(this,e,R(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=_(this),i=_t(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=o||((e=R(this))&&w.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&w.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+N(R(t))+" ").indexOf(i))return!0;return!1}});function Et(e){e.stopPropagation()}var Ct=/\r/g,Tt=(_.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=y(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,_(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=_.map(e,function(e){return null==e?"":e+""})),(n=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(Ct,""):null==e?"":e:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:N(_.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?i+1:n.length,s=i<0?a:r?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!c(t.parentNode,"optgroup"))){if(t=_(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,o=_.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<_.inArray(_.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<_.inArray(_(e).val(),t)}},v.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in k,/^(?:focusinfocus|focusoutblur)$/),At=(_.extend(_.event,{trigger:function(e,t,n,i){var r,o,a,s,c,l,u,h=[n||S],d=V.call(e,"type")?e.type:e,p=V.call(e,"namespace")?e.namespace.split("."):[],f=u=o=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+_.event.triggered)&&(-1<d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),s=d.indexOf(":")<0&&"on"+d,(e=e[_.expando]?e:new _.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:_.makeArray(t,[e]),l=_.event.special[d]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!m(n)){for(a=l.delegateType||d,Tt.test(a+d)||(f=f.parentNode);f;f=f.parentNode)h.push(f),o=f;o===(n.ownerDocument||S)&&h.push(o.defaultView||o.parentWindow||k)}for(r=0;(f=h[r++])&&!e.isPropagationStopped();)u=f,e.type=1<r?a:l.bindType||d,(c=(w.get(f,"events")||Object.create(null))[e.type]&&w.get(f,"handle"))&&c.apply(f,t),(c=s&&f[s])&&c.apply&&g(f)&&(e.result=c.apply(f,t),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),t)||!g(n)||s&&y(n[d])&&!m(n)&&((o=n[s])&&(n[s]=null),_.event.triggered=d,e.isPropagationStopped()&&u.addEventListener(d,Et),n[d](),e.isPropagationStopped()&&u.removeEventListener(d,Et),_.event.triggered=void 0,o&&(n[s]=o)),e.result}},simulate:function(e,t,n){n=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(n,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),v.focusin||_.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){_.event.simulate(i,e.target,_.event.fix(e))}_.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=w.access(e,i);t||e.addEventListener(n,r,!0),w.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=w.access(e,i)-1;t?w.access(e,i,t):(e.removeEventListener(n,r,!0),w.remove(e,i))}}}),k.location),Ot={guid:Date.now()},It=/\?/,Mt=(_.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new k.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+e),t},/\[\]$/),Pt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;_.param=function(e,t){function n(e,t){t=y(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,o){if(Array.isArray(e))_.each(e,function(e,t){r||Mt.test(i)?o(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==f(e))o(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,o)}(i,e[i],t,n);return r.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&Nt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!xe.test(e))}).map(function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}});var Rt=/%20/g,Lt=/#.*$/,jt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,qt=/^\/\//,$t={},Bt={},Vt="*/".concat("*"),Ut=S.createElement("a");function Ht(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(E)||[];if(y(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Qt(t,i,r,o){var a={},s=t===Bt;function c(e){var n;return a[e]=!0,_.each(t[e]||[],function(e,t){t=t(i,r,o);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),c(t),!1)}),n}return c(i.dataTypes[0])||!a["*"]&&c("*")}function Gt(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&_.extend(!0,e,i),e}Ut.href=At.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,_.ajaxSettings),t):Gt(_.ajaxSettings,e)},ajaxPrefilter:Ht($t),ajaxTransport:Ht(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var c,l,u,n,h,d,p,i,r,f=_.ajaxSetup({},t=t||{}),m=f.context||f,v=f.context&&(m.nodeType||m.jquery)?_(m):_.event,g=_.Deferred(),y=_.Callbacks("once memory"),b=f.statusCode||{},o={},a={},s="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(d){if(!n)for(n={};t=Ft.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?u:null},setRequestHeader:function(e,t){return null==d&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==d&&(f.mimeType=e),this},statusCode:function(e){if(e)if(d)w.always(e[w.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return c&&c.abort(e),x(0,e),this}};if(g.promise(w),f.url=((e||f.url||At.href)+"").replace(qt,At.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(E)||[""],null==f.crossDomain){r=S.createElement("a");try{r.href=f.url,r.href=r.href,f.crossDomain=Ut.protocol+"//"+Ut.host!=r.protocol+"//"+r.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=_.param(f.data,f.traditional)),Qt($t,f,t,w),d)return w;for(i in(p=_.event&&f.global)&&0==_.active++&&_.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!zt.test(f.type),l=f.url.replace(Lt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Rt,"+")):(r=f.url.slice(l.length),f.data&&(f.processData||"string"==typeof f.data)&&(l+=(It.test(l)?"&":"?")+f.data,delete f.data),!1===f.cache&&(l=l.replace(jt,"$1"),r=(It.test(l)?"&":"?")+"_="+Ot.guid+++r),f.url=l+r),f.ifModified&&(_.lastModified[l]&&w.setRequestHeader("If-Modified-Since",_.lastModified[l]),_.etag[l]&&w.setRequestHeader("If-None-Match",_.etag[l])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(m,w,f)||d))return w.abort();if(s="abort",y.add(f.complete),w.done(f.success),w.fail(f.error),c=Qt(Bt,f,t,w)){if(w.readyState=1,p&&v.trigger("ajaxSend",[w,f]),d)return w;f.async&&0<f.timeout&&(h=k.setTimeout(function(){w.abort("timeout")},f.timeout));try{d=!1,c.send(o,x)}catch(e){if(d)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,n,i){var r,o,a,s=t;d||(d=!0,h&&k.clearTimeout(h),c=void 0,u=i||"",w.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,r,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(f,w,n)),!i&&-1<_.inArray("script",f.dataTypes)&&(f.converters["text script"]=function(){}),a=function(e,t,n,i){var r,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(f,a,w,i),i?(f.ifModified&&((n=w.getResponseHeader("Last-Modified"))&&(_.lastModified[l]=n),(n=w.getResponseHeader("etag"))&&(_.etag[l]=n)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,i=!(o=a.error))):(o=s,!e&&s||(s="error",e<0&&(e=0))),w.status=e,w.statusText=(t||s)+"",i?g.resolveWith(m,[r,s,w]):g.rejectWith(m,[w,s,o]),w.statusCode(b),b=void 0,p&&v.trigger(i?"ajaxSuccess":"ajaxError",[w,f,i?r:o]),y.fireWith(m,[w,s]),p&&(v.trigger("ajaxComplete",[w,f]),--_.active||_.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,r){_[r]=function(e,t,n,i){return y(t)&&(i=i||n,n=t,t=void 0),_.ajax(_.extend({url:e,type:r,dataType:i,data:t,success:n},_.isPlainObject(e)&&e))}}),_.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){return this[0]&&(y(e)&&(e=e.call(this[0])),e=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){_(this).wrapInner(n.call(this,e))}):this.each(function(){var e=_(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){_(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Xt=_.ajaxSettings.xhr();v.cors=!!Xt&&"withCredentials"in Xt,v.ajax=Xt=!!Xt,_.ajaxTransport(function(r){var o,a;if(v.cors||Xt&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Wt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),a=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&k.setTimeout(function(){o&&a()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),_.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=_("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(i[0])},abort:function(){r&&r()}}});var Kt=[],Yt=/(=)\?(?=&|$)|\?\?/,Jt=(_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||_.expando+"_"+Ot.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+i):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||_.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=k[i],k[i]=function(){o=arguments},n.always(function(){void 0===r?_(k).removeProp(i):k[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(i)),o&&y(r)&&r(o[0]),o=r=void 0}),"script"}),v.createHTMLDocument=((e=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(i)):t=S),i=!n&&[],(n=Y.exec(e))?[t.createElement(n[1])]:(n=Ce([e],t,i),i&&i.length&&_(i).remove(),_.merge([],n.childNodes)));var i},_.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=N(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},_.expr.pseudos.animated=function(t){return _.grep(_.timers,function(e){return t===e.elem}).length},_.offset={setOffset:function(e,t,n){var i,r,o,a,s=_.css(e,"position"),c=_(e),l={};"static"===s&&(e.style.position="relative"),o=c.offset(),i=_.css(e,"top"),a=_.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(r=(s=c.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(a)||0),null!=(t=y(t)?t.call(e,n,_.extend({},o)):t).top&&(l.top=t.top-o.top+r),null!=t.left&&(l.left=t.left-o.left+s),"using"in t?t.using.call(e,l):("number"==typeof l.top&&(l.top+="px"),"number"==typeof l.left&&(l.left+="px"),c.css(l))}},_.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(i,"marginTop",!0),left:t.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||x})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;_.fn[t]=function(e){return h(this,function(e,t,n){var i;if(m(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),_.each(["top","left"],function(e,n){_.cssHooks[n]=Ze(v.pixelPosition,function(e,t){if(t)return t=Je(e,n),Ke.test(t)?_(e).position()[n]+"px":t})}),_.each({Height:"height",Width:"width"},function(a,s){_.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,o){_.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return h(this,function(e,t,n){var i;return m(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?_.css(e,t,r):_.style(e,t,n,r)},s,n?e:void 0,n)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){_.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g),Zt=(_.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||_.guid++,i},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=c,_.isFunction=y,_.isWindow=m,_.camelCase=b,_.type=f,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Jt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _}),k.jQuery),en=k.$;return _.noConflict=function(e){return k.$===_&&(k.$=en),e&&k.jQuery===_&&(k.jQuery=Zt),_},void 0===L&&(k.jQuery=k.$=_),_}),(()=>{var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function p(e,a,s,c){return new(s=s||Promise)(function(n,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((c=c.apply(e,a||[])).next())})}function f(i,r){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(i,c)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function S(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function m(t,n){return new Promise(function(e){return setTimeout(e,t,n)})}function l(e,t){try{var n=e();n&&"function"==typeof n.then?n.then(function(e){return t(!0,e)},function(e){return t(!1,e)}):t(!0,n)}catch(e){t(!1,e)}}function u(r,o,a){return void 0===a&&(a=16),p(this,void 0,void 0,function(){var t,n,i;return f(this,function(e){switch(e.label){case 0:t=Date.now(),n=0,e.label=1;case 1:return n<r.length?(o(r[n],n),(i=Date.now())>=t+a?(t=i,[4,m(0)]):[3,3]):[3,4];case 2:e.sent(),e.label=3;case 3:return++n,[3,1];case 4:return[2]}})})}function h(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function v(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:[e[1]<<(t-=32)|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t]}function g(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function y(e,t){return[e[0]^t[0],e[1]^t[1]]}function b(e){return e=y(e,[0,e[0]>>>1]),e=y(e=d(e,[4283543511,3981806797]),[0,e[0]>>>1]),y(e=d(e,[3301882366,444984403]),[0,e[0]>>>1])}function i(e){return parseInt(e)}function n(e){return parseFloat(e)}function o(e,t){return"number"==typeof e&&isNaN(e)?t:e}function w(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}function x(e,t){return void 0===t&&(t=1),1<=Math.abs(t)?Math.round(e/t)*t:(t=1/t,Math.round(e*t)/t)}function k(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function L(r,a,o){var s=Object.keys(r).filter(function(e){for(var t=o,n=e,i=0,r=t.length;i<r;++i)if(t[i]===n)return!1;return!0}),c=Array(s.length);return u(s,function(e,t){var n,o,i;c[t]=(n=r[e],o=a,i=new Promise(function(i){var r=Date.now();l(n.bind(null,o),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,o=Date.now()-r;return e[0]?"function"!=typeof(n=e[1])?i(function(){return{value:n,duration:o}}):void i(function(){return new Promise(function(i){var r=Date.now();l(n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o+Date.now()-r;if(!e[0])return i({error:k(e[1]),duration:n});i({value:e[1],duration:n})})})}):i(function(){return{error:k(e[1]),duration:o}})})}),function(){return i.then(function(e){return e()})})}),function(){return p(this,void 0,void 0,function(){var i,t,n,r,o,a;return f(this,function(e){switch(e.label){case 0:for(i={},t=0,n=s;t<n.length;t++)r=n[t],i[r]=void 0;o=Array(s.length),a=function(){var n;return f(this,function(e){switch(e.label){case 0:return n=!0,[4,u(s,function(t,e){o[e]||(c[e]?o[e]=c[e]().then(function(e){return i[t]=e}):n=!1)})];case 1:return e.sent(),n?[2,"break"]:[4,m(1)];case 2:return e.sent(),[2]}})},e.label=1;case 1:return[5,a()];case 2:if("break"===e.sent())return[3,4];e.label=3;case 3:return[3,1];case 4:return[4,Promise.all(o)];case 5:return e.sent(),[2,i]}})})}}function a(){var e=window,t=navigator;return 4<=w(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])}function _(){var e=window,t=navigator;return 5<=w(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])}function E(){var e=window,t=navigator;return 4<=w(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])}function C(){var e=window;return 3<=w(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])}function T(){var e,t=_(),n=(e=window,4<=w(["buildID"in navigator,"MozAppearance"in(null!=(n=null==(n=document.documentElement)?void 0:n.style)?n:{}),"onmozfullscreenchange"in e,"mozInnerScreenX"in e,"CSSMozDocumentRule"in e,"CanvasCaptureMediaStream"in e]));if(t||n)return 2<=w(["onorientationchange"in(e=window),"orientation"in e,t&&!("SharedWorker"in e),n&&/android/i.test(navigator.appVersion)])}function A(e){var t=new Error(e);return t.name=e,t}function e(t,c,n){var i;return void 0===n&&(n=50),p(this,void 0,void 0,function(){var a,s;return f(this,function(e){switch(e.label){case 0:a=document,e.label=1;case 1:return a.body?[3,3]:[4,m(n)];case 2:return e.sent(),[3,1];case 3:s=a.createElement("iframe"),e.label=4;case 4:return e.trys.push([4,,10,11]),[4,new Promise(function(e,t){function n(){i=!0,e()}var i=!1,r=(s.onload=n,s.onerror=function(e){i=!0,t(e)},s.style),o=(r.setProperty("display","block","important"),r.position="absolute",r.top="0",r.left="0",r.visibility="hidden",c&&"srcdoc"in s?s.srcdoc=c:s.src="about:blank",a.body.appendChild(s),function(){var e;i||("complete"===(null==(e=null==(e=s.contentWindow)?void 0:e.document)?void 0:e.readyState)?n():setTimeout(o,10))});o()})];case 5:e.sent(),e.label=6;case 6:return null!=(i=null==(i=s.contentWindow)?void 0:i.document)&&i.body?[3,8]:[4,m(n)];case 7:return e.sent(),[3,6];case 8:return[4,t(s,s.contentWindow)];case 9:return[2,e.sent()];case 10:return null!=(i=s.parentNode)&&i.removeChild(s),[7];case 11:return[2]}})})}var s,c,O=["monospace","sans-serif","serif"],j=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function F(e){return e.toDataURL()}function I(){var e=screen;return[o(n(e.availTop),null),o(n(e.width)-n(e.availWidth)-o(n(e.availLeft),0),null),o(n(e.height)-n(e.availHeight)-o(n(e.availTop),0),null),o(n(e.availLeft),null)]}function M(e){for(var t=0;t<4;++t)if(e[t])return;return 1}var P={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function z(e){e.style.setProperty("display","block","important")}function q(e){return matchMedia("(inverted-colors: "+e+")").matches}function $(e){return matchMedia("(forced-colors: "+e+")").matches}function t(e){return matchMedia("(prefers-contrast: "+e+")").matches}function B(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function V(e){return matchMedia("(dynamic-range: "+e+")").matches}function D(){return 0}var N=Math,R={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},U={fonts:function(){return e(function(e,t){var i=t.document;function r(e){var t=i.createElement("span"),n=t.style;return n.position="absolute",n.top="0",n.left="0",n.fontFamily=e,t.textContent="mmMwWLliI0O&1",o.appendChild(t),t}(t=i.body).style.fontSize="48px";var o=i.createElement("div"),a={},s={},n=O.map(r),c=function(){for(var e={},t=0,n=j;t<n.length;t++)!function(t){e[t]=O.map(function(e){return r("'"+t+"',"+e)})}(n[t]);return e}();t.appendChild(o);for(var l=0;l<O.length;l++)a[O[l]]=n[l].offsetWidth,s[O[l]]=n[l].offsetHeight;return j.filter(function(e){return n=c[e],O.some(function(e,t){return n[t].offsetWidth!==a[e]||n[t].offsetHeight!==s[e]});var n})})},domBlockers:function(e){var d=(void 0===e?{}:e).debug;return p(this,void 0,void 0,function(){var l,u,h;return f(this,function(e){switch(e.label){case 0:return E()||T()?(u=Object.keys(P),[4,function(c){var l;return p(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return f(this,function(e){switch(e.label){case 0:for(t=document,n=t.createElement("div"),i=new Array(c.length),r={},z(n),s=0;s<c.length;++s)o=function(u){for(var e=function(){function e(e,t){o[e]=o[e]||[],o[e].push(t)}for(var t,n="Unexpected syntax '"+u+"'",i=/^\s*([a-z-]*)(.*)$/i.exec(u),r=i[1]||void 0,o={},a=/([.:#][\w-]+|\[.+?\])/gi;;){var s=a.exec(i[2]);if(!s)break;var c=s[0];switch(c[0]){case".":e("class",c.slice(1));break;case"#":e("id",c.slice(1));break;case"[":var l=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(!l)throw new Error(n);e(l[1],null!=(l=null!=(t=l[4])?t:l[5])?l:"");break;default:throw new Error(n)}}return[r,o]}(),t=e[0],n=e[1],i=document.createElement(null!=t?t:"div"),r=0,o=Object.keys(n);r<o.length;r++){var a=o[r],s=n[a].join(" ");if("style"===a){l=void 0;h=void 0;d=void 0;p=void 0;f=void 0;var c=i.style;for(var l=0,h=s.split(";");l<h.length;l++){var d,p=h[l],f=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(p);f&&(d=f[1],p=f[2],f=f[4],c.setProperty(d,p,f||""))}}else i.setAttribute(a,s)}return i}(c[s]),z(a=t.createElement("div")),a.appendChild(o),n.appendChild(a),i[s]=o;e.label=1;case 1:return t.body?[3,3]:[4,m(50)];case 2:return e.sent(),[3,1];case 3:t.body.appendChild(n);try{for(s=0;s<c.length;++s)i[s].offsetParent||(r[c[s]]=!0)}finally{null!=(l=n.parentNode)&&l.removeChild(n)}return[2,r]}})})}((h=[]).concat.apply(h,u.map(function(e){return P[e]})))]):[2,void 0];case 1:if(l=e.sent(),d){var t=l;for(var n="DOM blockers debug:\n```",i=0,r=Object.keys(P);i<r.length;i++){var o=r[i];n+="\n"+o+":";for(var a=0,s=P[o];a<s.length;a++){var c=s[a];n+="\n  "+c+" "+(t[c]?"ð«":"â¡ï¸")}}console.log(n+"\n```")}return(u=u.filter(function(e){return w((e=P[e]).map(function(e){return l[e]}))>.6*e.length})).sort(),[2,u]}})})},fontPreferences:function(){return void 0===k&&(k=4e3),e(function(e,t){for(var n=t.document,i=n.body,r=i.style,o=(r.width=k+"px",r.webkitTextSizeAdjust=r.textSizeAdjust="none",_()?i.style.zoom=""+1/t.devicePixelRatio:E()&&(i.style.zoom="reset"),(t=n.createElement("div")).textContent=S(Array(k/20<<0)).map(function(){return"word"}).join(" "),i.appendChild(t),n),a=i,s={},c={},l=0,u=Object.keys(R);l<u.length;l++){var h=u[l],d=R[h],p=d[0],f=void 0===p?{}:p,p=d[1],d=void 0===p?"mmMwWLliI0fiflO&1":p,m=o.createElement("span");m.textContent=d,m.style.whiteSpace="nowrap";for(var v=0,g=Object.keys(f);v<g.length;v++){var y=g[v],b=f[y];void 0!==b&&(m.style[y]=b)}s[h]=m,a.appendChild(o.createElement("br")),a.appendChild(m)}for(var w=0,x=Object.keys(R);w<x.length;w++)c[h=x[w]]=s[h].getBoundingClientRect().width;return c},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var k},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(E()&&!C()&&!(3<=w(["DOMRectList"in(n=window),"RTCPeerConnectionIceEvent"in n,"SVGGeometryElement"in n,"ontransitioncancel"in n])))return-1;var n=(e=new t(1,5e3,44100)).createOscillator(),s=(n.type="triangle",n.frequency.value=1e4,(t=e.createDynamicsCompressor()).threshold.value=-50,t.knee.value=40,t.ratio.value=12,t.attack.value=0,t.release.value=.25,n.connect(t),t.connect(e.destination),n.start(0),e),c=function(){},i=(e=[new Promise(function(t,n){var e=!1,i=0,r=0;function o(){setTimeout(function(){return n(A("timeout"))},Math.min(500,r+5e3-Date.now()))}s.oncomplete=function(e){return t(e.renderedBuffer)};function a(){try{switch(s.startRendering(),s.state){case"running":r=Date.now(),e&&o();break;case"suspended":document.hidden||i++,e&&3<=i?n(A("suspended")):setTimeout(a,500)}}catch(e){n(e)}}a(),c=function(){e||(e=!0,0<r&&o())}}),c])[1],r=e[0].then(function(e){for(var t=e.getChannelData(0).subarray(4500),n=0,i=0;i<t.length;++i)n+=Math.abs(t[i]);return n},function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e});return r.catch(function(){}),function(){return i(),r}},screenFrame:function(){var e=this,i=function(){var t,e=this;return void 0===c&&(t=function(){var e=I();c=M(e)?setTimeout(t,2500):void(s=e)})(),function(){return p(e,void 0,void 0,function(){var n;return f(this,function(e){switch(e.label){case 0:return M(n=I())?s?[2,S(s)]:(t=document).fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement?[4,((t=document).exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t)]:[3,2]:[3,2];case 1:e.sent(),n=I(),e.label=2;case 2:return M(n)||(s=n),[2,n]}var t})})}}();return function(){return p(e,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,i()];case 1:return t=e.sent(),[2,[(n=function(e){return null===e?null:x(e,10)})(t[0]),n(t[1]),n(t[2]),n(t[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;return void 0!==n&&t.push([n]),Array.isArray(e.languages)?_()&&3<=w([!("MediaSettingsRange"in(n=window)),"RTCEncodedAudioFrame"in n,""+n.Intl=="[object Intl]",""+n.Reflect=="[object Reflect]"])||t.push(e.languages):"string"==typeof e.languages&&(e=e.languages)&&t.push(e.split(",")),t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return o(n(navigator.deviceMemory),void 0)},screenResolution:function(){function e(e){return o(i(e),null)}var t=screen;return(t=[e(t.width),e(t.height)]).sort().reverse(),t},hardwareConcurrency:function(){return o(i(navigator.hardwareConcurrency),void 0)},timezone:function(){var e=null==(e=window.Intl)?void 0:e.DateTimeFormat;if(e){var t=(new e).resolvedOptions().timeZone;if(t)return t}return t=(new Date).getFullYear(),"UTC"+(0<=(t=-Math.max(n(new Date(t,0,1).getTimezoneOffset()),n(new Date(t,6,1).getTimezoneOffset())))?"+":"")+Math.abs(t)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!a()&&(e=window,t=navigator,!(3<=w(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t]))||a()))try{return!!window.indexedDB}catch(e){return!0}var e,t},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&E()&&!C()?function(){if("iPad"===navigator.platform)return 1;var e=(e=screen).width/e.height;return 2<=w(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,.65<e&&e<1.53])}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i){for(var r=[],o=0;o<i.length;++o){var a=i[o];r.push({type:a.type,suffixes:a.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:r})}}return t}},canvas:function(){(n=document.createElement("canvas")).width=1,n.height=1;var e=[n,n.getContext("2d")],t=e[0],n=e[1];return n&&t.toDataURL?{winding:((e=n).rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")),geometry:function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var r=(a=i[n])[0],o=a[1],a=a[2];t.fillStyle=r,t.beginPath(),t.arc(o,a,40,0,2*Math.PI,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd"),F(e)}(t,n),text:(e=n,(n=t).width=240,n.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"',t="Cwm fjordbank gly "+String.fromCharCode(55357,56835),e.fillText(t,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(t,4,45),F(n))}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=i(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var i=n[t],r=window[i];r&&"object"==typeof r&&e.push(i)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: "+n+")").matches)return n}},invertedColors:function(){return!!q("inverted")||!q("none")&&void 0},forcedColors:function(){return!!$("active")||!$("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}},contrast:function(){return t("no-preference")?0:t("high")||t("more")?1:t("low")||t("less")?-1:t("forced")?10:void 0},reducedMotion:function(){return!!B("reduce")||!B("no-preference")&&void 0},hdr:function(){return!!V("high")||!V("standard")&&void 0},math:function(){var e=N.acos||D,t=N.acosh||D,n=N.asin||D,i=N.asinh||D,r=N.atanh||D,o=N.atan||D,a=N.sin||D,s=N.sinh||D,c=N.cos||D,l=N.cosh||D,u=N.tan||D,h=N.tanh||D,d=N.exp||D,p=N.expm1||D,f=N.log1p||D;return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:N.log(1e154+N.sqrt(1e308)),asin:n(.12312423423423424),asinh:i(1),asinhPf:N.log(1+N.sqrt(2)),atanh:r(.5),atanhPf:N.log(3)/2,atan:o(.5),sin:a(-1e300),sinh:s(1),sinhPf:N.exp(1)-1/N.exp(1)/2,cos:c(10.000000000123),cosh:l(1),coshPf:(N.exp(1)+1/N.exp(1))/2,tan:u(-1e300),tanh:h(1),tanhPf:(N.exp(2)-1)/(N.exp(2)+1),exp:d(1),expm1:p(1),expm1Pf:N.exp(1)-1,log1p:f(10),log1pPf:N.log(11),powPI:N.pow(N.PI,-100)}}};function H(e){return JSON.stringify(e,function(e,t){return t instanceof Error?r({name:(n=t).name,message:n.message,stack:null==(i=n.stack)?void 0:i.split("\n")},n):t;var n,i},2)}function Q(e){for(var t=function(e){for(var t="",n=0,i=Object.keys(e).sort();n<i.length;n++){var r=i[n],o=(o=e[r]).error?"error":JSON.stringify(o.value);t+=(t?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+o}return t}(e),e=void 0,n=(t=t||"").length%16,i=t.length-n,r=[0,e=e||0],o=[0,e],a=[0,0],s=[0,0],c=[2277735313,289559509],l=[1291169091,658871167],u=0;u<i;u+=16)a=[255&t.charCodeAt(u+4)|(255&t.charCodeAt(u+5))<<8|(255&t.charCodeAt(u+6))<<16|(255&t.charCodeAt(u+7))<<24,255&t.charCodeAt(u)|(255&t.charCodeAt(u+1))<<8|(255&t.charCodeAt(u+2))<<16|(255&t.charCodeAt(u+3))<<24],s=[255&t.charCodeAt(u+12)|(255&t.charCodeAt(u+13))<<8|(255&t.charCodeAt(u+14))<<16|(255&t.charCodeAt(u+15))<<24,255&t.charCodeAt(u+8)|(255&t.charCodeAt(u+9))<<8|(255&t.charCodeAt(u+10))<<16|(255&t.charCodeAt(u+11))<<24],a=v(a=d(a,c),31),r=h(r=v(r=y(r,a=d(a,l)),27),o),r=h(d(r,[0,5]),[0,1390208809]),s=v(s=d(s,l),33),o=h(o=v(o=y(o,s=d(s,c)),31),r),o=h(d(o,[0,5]),[0,944331445]);switch(a=[0,0],s=[0,0],n){case 15:s=y(s,g([0,t.charCodeAt(u+14)],48));case 14:s=y(s,g([0,t.charCodeAt(u+13)],40));case 13:s=y(s,g([0,t.charCodeAt(u+12)],32));case 12:s=y(s,g([0,t.charCodeAt(u+11)],24));case 11:s=y(s,g([0,t.charCodeAt(u+10)],16));case 10:s=y(s,g([0,t.charCodeAt(u+9)],8));case 9:s=d(s=y(s,[0,t.charCodeAt(u+8)]),l),o=y(o,s=d(s=v(s,33),c));case 8:a=y(a,g([0,t.charCodeAt(u+7)],56));case 7:a=y(a,g([0,t.charCodeAt(u+6)],48));case 6:a=y(a,g([0,t.charCodeAt(u+5)],40));case 5:a=y(a,g([0,t.charCodeAt(u+4)],32));case 4:a=y(a,g([0,t.charCodeAt(u+3)],24));case 3:a=y(a,g([0,t.charCodeAt(u+2)],16));case 2:a=y(a,g([0,t.charCodeAt(u+1)],8));case 1:a=d(a=y(a,[0,t.charCodeAt(u)]),c),r=y(r,a=d(a=v(a,31),l))}return r=h(r=y(r,[0,t.length]),o=y(o,[0,t.length])),o=h(o,r),r=h(r=b(r),o=b(o)),o=h(o,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function G(l,u){var h=Date.now();return{get:function(c){return p(this,void 0,void 0,function(){var o,a,s;return f(this,function(e){switch(e.label){case 0:return o=Date.now(),[4,l()];case 1:return t=a=e.sent(),s={get visitorId(){return n=void 0===n?Q(this.components):n},set visitorId(e){n=e},confidence:(i=x(.99+.01*(r=t,r=T()?.4:E()?C()?.5:.3:(r=r.platform.value||"",/^Win/.test(r)?.6:/^Mac/.test(r)?.5:.7)),1e-4),{score:r,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+i)}),components:t,version:"3.3.3"},(u||null!=c&&c.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+s.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(o-h)+"\nvisitorId: "+s.visitorId+"\ncomponents: "+H(a)+"\n```"),[2,s]}var t,n,i,r})})}}}window.FingerprintJS={load:function(e){var r=(e=void 0===e?{}:e).delayFallback,o=e.debug;return e.monitoring,p(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,(void 0===(i=r)&&(i=50),void 0===(t=2*(i=i))&&(t=1/0),(n=window.requestIdleCallback)?new Promise(function(e){return n.call(window,function(){return e()},{timeout:t})}):m(Math.min(i,t)))];case 1:return e.sent(),[2,G(L(U,{debug:o},[]),o)]}var t,n,i})})},hashComponents:Q,componentsToDebugString:H}})(),console.log("Here we go!");var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var f,b,w,x,F,Q,Ce,Oe,Ue,Be,n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function r(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(o<3?r(a):3<o?r(t,n,a):r(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function o(e,a,s,c){return new(s=s||Promise)(function(n,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((c=c.apply(e,a||[])).next())})}function s(i,r){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(i,c)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function a(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||((i=i||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const c=i=>e=>{var t,n;return"function"==typeof e?(e=>(window.customElements.define(i,e),e))(e):(t=i,{kind:e,elements:n}=e,{kind:e,elements:n,finisher(e){window.customElements.define(t,e)}})},l=(t,n)=>"method"!==n.kind||!n.descriptor||"value"in n.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:n.key,initializer(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher(e){e.createProperty(n.key,t)}}:{...n,finisher(e){e.createProperty(n.key,t)}};function u(n){return(e,t)=>void 0!==t?void e.constructor.createProperty(t,n):l(n,e)}function h(e){return u({...e,state:!0})}const d=({finisher:r,descriptor:o})=>(e,t)=>{var n;if(void 0===t){const t=null!=(n=e.originalKey)?n:e.key,i=null!=o?{kind:"method",placement:"prototype",key:t,descriptor:o(e.key)}:{...e,key:t};return null!=r&&(i.finisher=function(e){r(e,t)}),i}{const n=e.constructor;void 0!==o&&Object.defineProperty(e,t,o(t)),null!=r&&r(n,t)}};function p(n,i){return d({descriptor:e=>{const t={get(){var e;return null!=(e=null==(e=this.renderRoot)?void 0:e.querySelector(n))?e:null},enumerable:!0,configurable:!0};if(i){const i="symbol"==typeof e?Symbol():"__"+e;t.get=function(){var e;return void 0===this[i]&&(this[i]=null!=(e=null==(e=this.renderRoot)?void 0:e.querySelector(n))?e:null),this[i]}}return t}})}const v=null!=(null==(f=window.HTMLSlotElement)?void 0:f.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter(e=>e.nodeType===Node.ELEMENT_NODE);function m(r){const{slot:o,selector:a}=null!=r?r:{};return d({descriptor:e=>({get(){var e;const t="slot"+(o?`[name=${o}]`:":not([name])"),n=null==(e=this.renderRoot)?void 0:e.querySelector(t),i=null!=n?v(n,r):[];return a?i.filter(e=>e.matches(a)):i},enumerable:!0,configurable:!0})})}const y=Symbol("mixins/connect-event"),g=(e,t)=>new CustomEvent(e,{composed:!0,bubbles:!0,cancelable:!0,detail:t});!function(e){e[e.emergency=0]="emergency",e[e.alert=1]="alert",e[e.critical=2]="critical",e[e.error=3]="error",e[e.warning=4]="warning",e[e.notice=5]="notice",e[e.info=6]="info",e[e.debug=7]="debug",e[e.none=8]="none"}(b=b||{}),function(e){e.Eager="eager",e.Action="action",e.Lazy="lazy",e.Preload="preload"}(w=w||{}),function(e){e.Get="get",e.Post="post",e.Dialog="dialog",e.Log="log"}(x=x||{});let _=class extends function(e){if(y in e)return e;class t extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),window.queueMicrotask(()=>this.dispatchConnectEvent())}dispatchConnectEvent(){var e;if(this.isConnected)return e=this.makeConnectEvent(),this.dispatchEvent(e),e}makeConnectEvent(){throw new Error("FaceplateEvent makeConnectEvent() method not implemented!")}}return t[y]=!0,t}(HTMLElement){makeConnectEvent(){const e=this.getAttribute("level");let t;if(e){const n=e.toLowerCase();if(!Object.hasOwnProperty.call(b,n))return g("faceplate-error",new Error(`Unknown level value "${e}" specified on <faceplate-alert> element`));const i=parseInt(n,10);t=isNaN(i)?b[n]:i}const n=this.getAttribute("message"),i=this.getAttribute("name"),r=this.getAttribute("meta"),o=this.getAttribute("count"),a={level:t,name:i||void 0,message:n||void 0,meta:r||void 0,count:null===o?1:parseInt(o),originalAlert:this};return g("faceplate-alert",a)}};_=r([c("faceplate-alert")],_);const E=function(){const i=new WeakMap;let r=!1;return{get isDirty(){return r},register(e,t){const n=i.get(e);n&&!n.has(t)?n.add(t):n||i.set(e,new Set([t])),r=!0},unregister(e,t){const n=i.get(e);n&&n.has(t)&&(n.delete(t),r=!0)},getRegisteredElements(e){e=i.get(e);return r=!1,e},unregisterAll(e){i.delete(e),r=!0}}}(),S=function(){const t=new Set,n=e=>t.has(e.constructor);return{registerAncestorClass(e){t.add(e)},connectToAncestor:e=>async function(e,t){let n=e;for(;n.parentElement;)if((n=n.parentElement).tagName.includes("-")){const e=n.tagName.toLowerCase();if(customElements.get(e)||await customElements.whenDefined(e),t(n))return n}}(e,n)}}(),k=S.registerAncestorClass,T=S.connectToAncestor,C={fromAttribute(e){if(e in b)return b[e]},toAttribute(e){if(e in b)return b[e]}};function O(e,t,n,i){return{level:e,message:t,meta:n[0]&&"string"==typeof n[0]?n.join("\n"):void 0,count:i}}const A=Symbol("mixins/alert-reporter"),I=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,M=Symbol(),P=new Map;class D{constructor(e,t){if(this._$cssResult$=!0,t!==M)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){let e=P.get(this.cssText);return I&&void 0===e&&(P.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const N=e=>new D("string"==typeof e?e:e+"",M),R=(i,...e)=>{e=1===i.length?i[0]:e.reduce((e,t,n)=>e+(()=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})()+i[n+1],i[0]);return new D(e,M)},L=I?e=>e:t=>{if(t instanceof CSSStyleSheet){let e="";for(const n of t.cssRules)e+=n.cssText;return N(e)}return t},j=window.trustedTypes,$=j?j.emptyScript:"",z=window.reactiveElementPolyfillSupport,V={toAttribute(e,t){switch(t){case Boolean:e=e?$:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},q=(e,t)=>t!==e&&(t==t||e==e),U={attribute:!0,type:String,converter:V,reflect:!1,hasChanged:q};class B extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){null==this.l&&(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();const n=[];return this.elementProperties.forEach((e,t)=>{e=this._$Eh(t,e);void 0!==e&&(this._$Eu.set(e,t),n.push(e))}),n}static createProperty(e,t=U){var n;t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e)||(n="symbol"==typeof e?Symbol():"__"+e,void 0!==(n=this.getPropertyDescriptor(e,n,t))&&Object.defineProperty(this.prototype,e,n))}static getPropertyDescriptor(n,i,r){return{get(){return this[i]},set(e){var t=this[n];this[i]=e,this.requestUpdate(n,t,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||U}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of t)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){var n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(L(e))}else void 0!==e&&t.push(L(e));return t}static _$Eh(e,t){t=t.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Em(),this.requestUpdate(),null!=(e=this.constructor.l)&&e.forEach(e=>e(this))}addController(e){var t;(null!=(t=this._$Eg)?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&null!=(t=e.hostConnected)&&t.call(e)}removeController(e){var t;null!=(t=this._$Eg)&&t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])})}createRenderRoot(){var i,e,t=null!=(t=this.shadowRoot)?t:this.attachShadow(this.constructor.shadowRootOptions);return i=t,e=this.constructor.elementStyles,I?i.adoptedStyleSheets=e.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):e.forEach(e=>{const t=document.createElement("style"),n=window.litNonce;void 0!==n&&t.setAttribute("nonce",n),t.textContent=e.cssText,i.appendChild(t)}),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null!=(e=this._$Eg)&&e.forEach(e=>{var t;return null==(t=e.hostConnected)?void 0:t.call(e)})}enableUpdating(e){}disconnectedCallback(){var e;null!=(e=this._$Eg)&&e.forEach(e=>{var t;return null==(t=e.hostDisconnected)?void 0:t.call(e)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ES(e,t,n=U){var i,r=this.constructor._$Eh(e,n);void 0!==r&&!0===n.reflect&&(i=(null!=(i=null==(i=n.converter)?void 0:i.toAttribute)?i:V.toAttribute)(t,n.type),this._$Ei=e,null==i?this.removeAttribute(r):this.setAttribute(r,i),this._$Ei=null)}_$AK(e,t){var n;const i=this.constructor,r=i._$Eu.get(e);if(void 0!==r&&this._$Ei!==r){const e=i.getPropertyOptions(r),o=e.converter,a=null!=(n=null!=(n=null==(n=o)?void 0:n.fromAttribute)?n:"function"==typeof o?o:null)?n:V.fromAttribute;this._$Ei=r,this[r]=a(t,e.type),this._$Ei=null}}requestUpdate(e,t,n){let i=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||q)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Ei!==e&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(e){Promise.reject(e)}var e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((e,t)=>this[t]=e),this._$Et=void 0);let e=!1;var n=this._$AL;try{(e=this.shouldUpdate(n))?(this.willUpdate(n),null!=(t=this._$Eg)&&t.forEach(e=>{var t;return null==(t=e.hostUpdate)?void 0:t.call(e)}),this.update(n)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(n)}}willUpdate(e){}_$AE(e){var t;null!=(t=this._$Eg)&&t.forEach(e=>{var t;return null==(t=e.hostUpdated)?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){void 0!==this._$E_&&(this._$E_.forEach((e,t)=>this._$ES(t,this[t],e)),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}B.finalized=!0,B.elementProperties=new Map,B.elementStyles=[],B.shadowRootOptions={mode:"open"},null!=z&&z({ReactiveElement:B}),(null!=(F=globalThis.reactiveElementVersions)?F:globalThis.reactiveElementVersions=[]).push("1.2.1");const H=globalThis.trustedTypes,G=H?H.createPolicy("lit-html",{createHTML:e=>e}):void 0,W=`lit$${(Math.random()+"").slice(9)}$`,K="?"+W,Y=`<${K}>`,J=document,X=(e="")=>J.createComment(e),Z=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ee=Array.isArray,te=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ne=/-->/g,ie=/>/g,re=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,oe=/'/g,se=/"/g,ae=/^(?:script|style|textarea)$/i,ce=n=>(e,...t)=>({_$litType$:n,strings:e,values:t}),le=ce(1),ue=ce(2),he=Symbol.for("lit-noChange"),de=Symbol.for("lit-nothing"),pe=new WeakMap,fe=(e,t,n)=>{var i;const r=null!=(i=null==n?void 0:n.renderBefore)?i:t;let o=r._$litPart$;if(void 0===o){const e=null!=(i=null==n?void 0:n.renderBefore)?i:null;r._$litPart$=o=new be(t.insertBefore(X(),e),e,void 0,null!=n?n:{})}return o._$AI(e),o},ve=J.createTreeWalker(J,129,null,!1);class me{constructor({strings:t,_$litType$:n},e){let i,r=(this.parts=[],0),o=0;const a=t.length-1,s=this.parts,[c,l]=((o,e)=>{const a=o.length-1,s=[];let c,l=2===e?"<svg>":"",u=te;for(let r=0;r<a;r++){const a=o[r];let e,t,n=-1,i=0;for(;i<a.length&&(u.lastIndex=i,null!==(t=u.exec(a)));)i=u.lastIndex,u===te?"!--"===t[1]?u=ne:void 0!==t[1]?u=ie:void 0!==t[2]?(ae.test(t[2])&&(c=RegExp("</"+t[2],"g")),u=re):void 0!==t[3]&&(u=re):u===re?">"===t[0]?(u=null!=c?c:te,n=-1):void 0===t[1]?n=-2:(n=u.lastIndex-t[2].length,e=t[1],u=void 0===t[3]?re:'"'===t[3]?se:oe):u===se||u===oe?u=re:u===ne||u===ie?u=te:(u=re,c=void 0);var h=u===re&&o[r+1].startsWith("/>")?" ":"";l+=u===te?a+Y:0<=n?(s.push(e),a.slice(0,n)+"$lit$"+a.slice(n)+W+h):a+W+(-2===n?(s.push(void 0),r):h)}e=l+(o[a]||"<?>")+(2===e?"</svg>":"");if(Array.isArray(o)&&o.hasOwnProperty("raw"))return[void 0!==G?G.createHTML(e):e,s];throw Error("invalid template strings array")})(t,n);if(this.el=me.createElement(c,e),ve.currentNode=this.el.content,2===n){const t=this.el.content,n=t.firstChild;n.remove(),t.append(...n.childNodes)}for(;null!==(i=ve.nextNode())&&s.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const n of i.getAttributeNames())if(n.endsWith("$lit$")||n.startsWith(W)){const e=l[o++];if(t.push(n),void 0!==e){const t=i.getAttribute(e.toLowerCase()+"$lit$").split(W),n=/([.?@])?(.*)/.exec(e);s.push({type:1,index:r,name:n[2],strings:t,ctor:"."===n[1]?xe:"?"===n[1]?Ee:"@"===n[1]?Se:we})}else s.push({type:6,index:r})}for(const n of t)i.removeAttribute(n)}if(ae.test(i.tagName)){const t=i.textContent.split(W),n=t.length-1;if(0<n){i.textContent=H?H.emptyScript:"";for(let e=0;e<n;e++)i.append(t[e],X()),ve.nextNode(),s.push({type:2,index:++r});i.append(t[n],X())}}}else if(8===i.nodeType)if(i.data===K)s.push({type:2,index:r});else{let e=-1;for(;-1!==(e=i.data.indexOf(W,e+1));)s.push({type:7,index:r}),e+=W.length-1}r++}}static createElement(e,t){const n=J.createElement("template");return n.innerHTML=e,n}}function ye(e,t,n=e,i){var r;if(t===he)return t;let o=void 0!==i?null==(r=n._$Cl)?void 0:r[i]:n._$Cu;const a=Z(t)?void 0:t._$litDirective$;return(null==o?void 0:o.constructor)!==a&&(null!=(r=null==o?void 0:o._$AO)&&r.call(o,!1),void 0===a?o=void 0:(o=new a(e))._$AT(e,n,i),void 0!==i?(null!=(r=n._$Cl)?r:n._$Cl=[])[i]=o:n._$Cu=o),t=void 0!==o?ye(e,o._$AS(e,t.values),o,i):t}class ge{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var{el:{content:e},parts:n}=this._$AD,i=(null!=(i=null==t?void 0:t.creationScope)?i:J).importNode(e,!0);ve.currentNode=i;let r=ve.nextNode(),o=0,a=0,s=n[0];for(;void 0!==s;){if(o===s.index){let e;2===s.type?e=new be(r,r.nextSibling,this,t):1===s.type?e=new s.ctor(r,s.name,s.strings,this,t):6===s.type&&(e=new ke(r,this,t)),this.v.push(e),s=n[++a]}o!==(null==s?void 0:s.index)&&(r=ve.nextNode(),o++)}return i}m(e){let t=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class be{constructor(e,t,n,i){this.type=2,this._$AH=de,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cg=null==(e=null==i?void 0:i.isConnected)||e}get _$AU(){var e;return null!=(e=null==(e=this._$AM)?void 0:e._$AU)?e:this._$Cg}get parentNode(){let e=this._$AA.parentNode;var t=this._$AM;return e=void 0!==t&&11===e.nodeType?t.parentNode:e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ye(this,e,t),Z(e)?e===de||null==e||""===e?(this._$AH!==de&&this._$AR(),this._$AH=de):e!==this._$AH&&e!==he&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.S(e):(t=e,ee(t)||"function"==typeof(null==(t=t)?void 0:t[Symbol.iterator])?this.A(e):this.$(e))}M(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==de&&Z(this._$AH)?this._$AA.nextSibling.data=e:this.S(J.createTextNode(e)),this._$AH=e}T(e){var t;const{values:n,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=me.createElement(i.h,this.options)),i);if((null==(t=this._$AH)?void 0:t._$AD)===r)this._$AH.m(n);else{const e=new ge(r,this),t=e.p(this.options);e.m(n),this.S(t),this._$AH=e}}_$AC(e){let t=pe.get(e.strings);return void 0===t&&pe.set(e.strings,t=new me(e)),t}A(e){ee(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new be(this.M(X()),this.M(X()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for(null!=(n=this._$AP)&&n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cg=e,null!=(t=this._$AP)&&t.call(this,e))}}class we{constructor(e,t,n,i,r){this.type=1,this._$AH=de,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,2<n.length||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=de}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(n,i=this,r,o){var a=this.strings;let s=!1;if(void 0===a)n=ye(this,n,i,0),(s=!Z(n)||n!==this._$AH&&n!==he)&&(this._$AH=n);else{const o=n;let e,t;for(n=a[0],e=0;e<a.length-1;e++)(t=ye(this,o[r+e],i,e))===he&&(t=this._$AH[e]),s=s||(!Z(t)||t!==this._$AH[e]),t===de?n=de:n!==de&&(n+=(null!=t?t:"")+a[e+1]),this._$AH[e]=t}s&&!o&&this.k(n)}k(e){e===de?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class xe extends we{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===de?void 0:e}}const _e=H?H.emptyScript:"";class Ee extends we{constructor(){super(...arguments),this.type=4}k(e){e&&e!==de?this.element.setAttribute(this.name,_e):this.element.removeAttribute(this.name)}}class Se extends we{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){var n,i;(e=null!=(t=ye(this,e,t,0))?t:de)!==he&&(t=this._$AH,n=e===de&&t!==de||e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive,i=e!==de&&(t===de||n),n&&this.element.removeEventListener(this.name,this,t),i&&this.element.addEventListener(this.name,this,e),this._$AH=e)}handleEvent(e){var t;"function"==typeof this._$AH?this._$AH.call(null!=(t=null==(t=this.options)?void 0:t.host)?t:this.element,e):this._$AH.handleEvent(e)}}class ke{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ye(this,e)}}const Te=window.litHtmlPolyfillSupport;null!=Te&&Te(me,be),(null!=(Q=globalThis.litHtmlVersions)?Q:globalThis.litHtmlVersions=[]).push("2.1.2");class Ae extends B{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t=super.createRenderRoot();return null==(e=this.renderOptions).renderBefore&&(e.renderBefore=t.firstChild),t}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=fe(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null!=(e=this._$Dt)&&e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null!=(e=this._$Dt)&&e.setConnected(!1)}render(){return he}}Ae.finalized=!0,Ae._$litElement$=!0,null!=(Ce=globalThis.litElementHydrateSupport)&&Ce.call(globalThis,{LitElement:Ae});const Ie=globalThis.litElementPolyfillSupport;null!=Ie&&Ie({LitElement:Ae}),(null!=(Oe=globalThis.litElementVersions)?Oe:globalThis.litElementVersions=[]).push("3.1.2");class Me extends Ae{static get styles(){return R`:host{display:block}`}render(){return le` <slot></slot> `}}let Pe=class extends function(e){if(A in e)return e;let t=!1;class n extends e{constructor(...e){super(...e),this._alertReporterHandleRegister=e=>{e.stopImmediatePropagation(),e.detail.register(this)},this._alertReporterHandleAlert=e=>{var t=e.detail,n=E.getRegisteredElements(this);if(n)for(const i of n)if(i.shouldDisplayAlert(t))return e.stopImmediatePropagation(),void i.displayAlert(t)},t||(k(this.constructor),t=!0)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.addEventListener("_faceplate-register-alert-display",this._alertReporterHandleRegister),this.addEventListener("faceplate-alert",this._alertReporterHandleAlert)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.removeEventListener("_faceplate-register-alert-display",this._alertReporterHandleRegister),this.removeEventListener("faceplate-alert",this._alertReporterHandleAlert)}}return n[A]=!0,n}(Me){};Pe=r([c("faceplate-alert-reporter")],Pe);const De=Symbol("mixins/csrf"),Ne=function(e){if(De in e)return e;class t extends e{constructor(){super(...arguments),this.csrfProviderToken="",this._csrfManagerHandleRequest=e=>{this.csrfProviderToken&&"post"===e.detail.request.method&&e.detail.request.body.append("csrf_token",this.csrfProviderToken)},this._csrfManagerHandleUpdateCsrf=e=>{this.csrfProviderToken=e.detail.token}}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.addEventListener("faceplate-request",this._csrfManagerHandleRequest),this.addEventListener("faceplate-update-csrf",this._csrfManagerHandleUpdateCsrf)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.removeEventListener("faceplate-request",this._csrfManagerHandleRequest),this.removeEventListener("faceplate-update-csrf",this._csrfManagerHandleUpdateCsrf)}}return t[De]=!0,t}(Me);let Re=class extends Ne{constructor(){super(...arguments),this.token=""}get csrfProviderToken(){return this.token}set csrfProviderToken(e){this.token=e}};r([u({type:String,noAccessor:!0})],Re.prototype,"token",void 0),Re=r([c("faceplate-csrf-provider")],Re);class Le{constructor(e,t){this._events=new Map,this._isConnected=!1,e.addController(this),this.host=e,t&&(this._getTarget=t)}_getTarget(){return this.host}hostConnected(){const e=this._getTarget();for(var[t,n]of this._events)Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n);this._isConnected=!0}hostDisconnected(){const e=this._getTarget();for(var[t,n]of this._events){n=Array.isArray(n)?n[0]:n;e.removeEventListener(t,n)}this._isConnected=!1}define(e,t,n){if(this._events.has(e))throw new Error(`Event ${e} already defined.`);return n?this._events.set(e,[t,n]):this._events.set(e,t),this._isConnected&&this._getTarget().addEventListener(e,t,n),t}}let Fe=class extends Ae{constructor(){super(...arguments),this.level=void 0,this.dismissable=!1,this.fading=!1,this._events=new Le(this),this._onAnimationEnd=this._events.define("transitionend",()=>{var e;this.fading&&(e=g("faceplate-close"),this.dispatchEvent(e),e.defaultPrevented||this.remove())})}static get styles(){return R`:host{background:var(--color-ui-modalbackground);border-radius:4px;display:block;margin:1rem 0;opacity:1;padding:1rem;transition:opacity .3s;box-shadow:var(--boxshadow-modal);border:1px solid var(--color-tone-4);--close-icon-color:currentColor}icon-close{position:absolute;left:-1.375em;top:50%;transform:translateY(-50%);color:var(--close-icon-color);cursor:pointer}icon-close:not(:defined){width:1rem;text-align:center}:host([fading]){opacity:0}:host([level]){border-left:8px solid var(--color-primary-background)}:host([dismissable]){position:relative;border-left-width:1.75em}:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){border-left-color:var(--color-danger-content);--close-icon-color:var(--color-global-white)}:host([level=warning]){border-left-color:var(--color-alert-caution);--close-icon-color:var(--color-global-black)}:host([level=notice]){border-left-color:var(--color-success-content);--close-icon-color:var(--color-global-white)}`}_handleDismiss(e){this.dismissable&&(e.stopPropagation(),this.dismiss())}_handleDismissKey(e){"Enter"!==e.code&&"Space"!==e.code||this._handleDismiss(e)}dismiss(){this.fading=!0}render(){return le` ${this.dismissable?le` <icon-close fill @click="${this._handleDismiss}" @keydown="${this._handleDismissKey}" tabindex="0" role="button" aria-pressed="false">X</icon-close> `:void 0} <slot></slot> `}};r([u({type:String,reflect:!0})],Fe.prototype,"level",void 0),r([u({type:Boolean,reflect:!0})],Fe.prototype,"dismissable",void 0),r([u({type:Boolean,reflect:!0})],Fe.prototype,"fading",void 0),Fe=r([c("faceplate-toast")],Fe);class je{constructor(e,t){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,this._batchQueue&&this._batchQueue.length){for(const e of function(e,r=O){const o=[];if(!e.length)return o;e.sort((e,t)=>(void 0===e.level?b.none:e.level)-(void 0===t.level?b.none:t.level));let a={},s=e[0].level,t=0;function n(){for(const n in a){var t=a[n];if(1===t.length)o.push(t[0]);else{const a=[];let e=0;for(const i of t)i.meta&&a.push(i.meta),e+=void 0===i.count?1:i.count;o.push(r(s,n,a,e))}}}for(const r of e){r.level!==s&&(n(),a={},s=r.level,t=0);const e=r.message||"";Object.prototype.hasOwnProperty.call(a,e)?a[e].push(r):a[e]=[r],t+=r.count||1}return 0<t&&n(),o}(this._batchQueue))this.options.onAlert(e);this._batchQueue.length=0}},e.addController(this),this.host=e,(this.options=t).batchWindow&&0<t.batchWindow&&(this._batchQueue=[])}hostConnected(){T(this.host).then(e=>{e&&(this._reporter=e,E.register(e,this))})}hostDisconnected(){this._reporter&&(E.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){var t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){this._batchQueue?(this._batchQueue.push(e),this._batchTimer||(this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow))):this.options.onAlert(e)}}function $e(e,t,n){n=(n=(n=n||t).getRootNode())instanceof ShadowRoot?n.host.localName:"";n?fe(e,t,{scope:n}):fe(e,t)}let ze=class extends Ae{constructor(){super(...arguments),this.ariaLive="polite",this.min=b.error,this.max=b.info,this._alertsCtrl=new je(this,{batchWindow:100,onAlert:l=>{const e=l["level"],t=function(e){const{level:t,name:n,message:i,count:r}=l,o=document.createElement("faceplate-toast"),a=r&&1<r?`(${r}) `:"",s=n?le` <strong>${n}</strong><br> `:"";void 0!==t&&o.setAttribute("level",b[t].toLowerCase());var c=i||(s?"":t?b[t]:"Unknown");return $e(le` ${a}${s}${c} `,o,e),o}(this);t.dismissable=!0,e&&e>=b.warning&&e<=b.info&&window.setTimeout(()=>{t.dismiss()},3e3),this.appendChild(t)}})}connectedCallback(){super.connectedCallback(),this._alertsCtrl.options.min=this.min,this._alertsCtrl.options.max=this.max}static get styles(){return R`:host{position:fixed;bottom:0;left:0;right:0;text-align:center;padding:0 1rem}`}render(){return le` <slot></slot> `}};function Ve(e){const t=[e];return t.raw=t,R(t)}r([u({type:String,reflect:!0,attribute:"aria-live"})],ze.prototype,"ariaLive",void 0),r([u({attribute:"min",converter:C})],ze.prototype,"min",void 0),r([u({attribute:"max",converter:C})],ze.prototype,"max",void 0),ze=r([c("faceplate-toaster")],ze);const qe=e=>{const n={state:e,listeners:[],getState:()=>n.state,updateState:e=>{n.state!==e&&(n.state=e,n.listeners.forEach(e=>e.requestUpdate()))},subscribe:t=>(n.listeners.includes(t)||n.listeners.push(t),()=>{var e=n.listeners.indexOf(t);n.listeners.splice(e,1)}),unsubscribe:e=>{e=n.listeners.indexOf(e);0<=e&&n.listeners.splice(e,1)}};return n};function Qe(e,t){e=parseInt(e.searchParams.get(t)||"");return isFinite(e)?e:void 0}function He(){const e=new URL(location.href);return{cx:Qe(e,Ue.CX),cy:Qe(e,Ue.CY),debug:e.searchParams.has(Ue.Debug),edit:e.searchParams.has(Ue.Edit),fullscreen:e.searchParams.has(Ue.FullScreen),px:Qe(e,Ue.PX)}}!function(e){e.CX="cx",e.CY="cy",e.Debug="debug",e.Edit="edit",e.FullScreen="fullscreen",e.PX="px",e.UTMSource="utm_source",e.UTMMedium="utm_medium"}(Ue=Ue||{}),function(e){e[e.Min=1]="Min",e[e.Optimal=20]="Optimal",e[e.Max=50]="Max"}(Be=Be||{});const Ge=qe({camera:!1,canvas:!1,cooldown:!1});function We(){return Object.values(Ge.getState()).every(e=>e)}const Ke=qe(He().fullscreen),Ye=qe(!1),Je=qe(!1),Xe=qe(null),Ze=qe(null),et=qe(-1),tt=qe(-1),nt=qe(-1),it=qe(Be.Min);function rt(t){return function(...e){if(Ke.getState())return t(...e)}}const ot=qe({colorPalette:{colors:[]},canvasConfigurations:[],canvasHeight:0,canvasWidth:0}),st=qe(0),at=qe(0),ct=qe(!1),lt=qe([]),ut=qe(null);class ht{constructor(e,t){this.host=e,this.globalState=t,this.host=e,this.globalState=t,e.addController(this)}hostConnected(){this.globalState.subscribe(this.host)}hostDisconnected(){this.globalState.unsubscribe(this.host)}state(e){if(null==e)return this.globalState.getState();this.globalState.updateState(e)}}const dt=(e,t)=>new ht(e,t),pt=(e,t)=>navigator.sendBeacon(e,t),ft=(e,t)=>fetch(e,{body:t,headers:{"Content-Type":"text/plain"},keepalive:!0,method:"POST"}),vt=e=>{const t="function"==typeof navigator.sendBeacon?pt:"function"==typeof fetch?ft:void 0;void 0!==t&&t("/svc/mona-lisa/v2j",JSON.stringify(e))};let mt,yt=[];function gt(){vt([...yt]),bt()}function bt(){yt=[],mt&&clearTimeout(mt),mt=void 0}function wt(t){var e;if("number"==typeof t)return null==(e=null==(e=ot.getState())?void 0:e.colorPalette.colors.find(e=>e.index===t))?void 0:e.hex}const xt={1:"dark red",2:"red",3:"orange",4:"yellow",6:"dark green",7:"green",8:"light green",9:"dark teal",10:"teal",12:"dark blue",13:"blue",14:"light blue",15:"indigo",16:"periwinkle",18:"dark purple",19:"purple",22:"pink",23:"light pink",24:"dark brown",25:"brown",27:"black",29:"gray",30:"light gray",31:"white"};function _t(e){e=e.toLowerCase();return"#fff"===e||"#ffffff"===e}function Et(e){return e.toString(16).padStart(2,"0")}var St,kt=new Uint8Array(16);function Tt(){if(St=St||("undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))return St(kt);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}var Ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ot(e){return"string"==typeof e&&Ct.test(e)}for(var At=[],It=0;It<256;++It)At.push((It+256).toString(16).substr(1));function Mt(e,t,n){var i=(e=e||{}).random||(e.rng||Tt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e,t){var n=1<arguments.length&&void 0!==t?t:0,n=(At[e[n+0]]+At[e[n+1]]+At[e[n+2]]+At[e[n+3]]+"-"+At[e[n+4]]+At[e[n+5]]+"-"+At[e[n+6]]+At[e[n+7]]+"-"+At[e[n+8]]+At[e[n+9]]+"-"+At[e[n+10]]+At[e[n+11]]+At[e[n+12]]+At[e[n+13]]+At[e[n+14]]+At[e[n+15]]).toLowerCase();if(Ot(n))return n;throw TypeError("Stringified UUID is invalid")}(i)}var Pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Dt(n){if(n.__esModule)return n;var i=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return n[e]}})}),i}function Nt(e){var t={exports:{}};return e(t,t.exports),t.exports}var Lt,Ft,Jt,Xt,Zt,pn,wn,Rt=Nt(function(e,t){e.exports=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function a(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=s({path:"/"},a.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,o="";for(r in n)n[r]&&(o+="; "+r,!0!==n[r]&&(o+="="+n[r].split(";")[0]));return document.cookie=e+"="+t+o}}function t(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],r=0;r<i.length;r++){var o=i[r].split("="),a=o.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=l(o[0]),a=(c.read||c)(a,s)||l(a);if(t)try{a=JSON.parse(a)}catch(e){}if(n[s]=a,e===s)break}catch(e){}}return e?n[e]:n}}return a.set=n,a.get=function(e){return t(e,!1)},a.getJSON=function(e){return t(e,!0)},a.remove=function(e,t){n(e,"",s(t,{expires:-1}))},a.defaults={},a.withConverter=e,a}(function(){})}()});!function(e){e.RefreshAuth="refreshAuth",e.Close="close",e.Share="share",e.SignIn="signIn",e.SyncCoordinates="syncCoordinates",e.OpenProfile="openProfile"}(Lt=Lt||{}),function(e){e.SetFullScreen="setFullScreen",e.InjectAuthHeaders="injectAuthHeaders",e.InjectTelemetryDefaults="injectTelemetryDefaults"}(Ft=Ft||{});class jt{close(){throw new Error("Not implemented")}refreshAuth(){throw new Error("Not implemented")}signIn(e){throw new Error("Not implemented")}share(e){throw new Error("Not implemented")}syncCoordinates(e){}openProfile(e){throw new Error("Not implemented")}}class $t extends jt{get host(){return window.hot_potato_native}close(){this.host.close()}refreshAuth(){this.host.refreshAuth()}signIn(){this.host.signIn()}share({mode:e,fileName:t,fileData:n,url:i}){this.host.share(e,t,n,i)}openProfile({profileName:e}){this.host.openProfile(e)}}class zt extends jt{sendMessage(e){window.webkit.messageHandlers.callbackHandler.postMessage(e)}close(){this.sendMessage(Lt.Close)}refreshAuth(){this.sendMessage(Lt.RefreshAuth)}signIn(){this.sendMessage(Lt.SignIn)}share(e){this.sendMessage(JSON.stringify({type:Lt.Share,fileName:e.fileName,fileData:e.fileData,mode:e.mode,url:e.url}))}openProfile({profileName:e}){this.sendMessage(JSON.stringify({type:Lt.OpenProfile,userName:e}))}}class Vt extends jt{sendMessage(e){var t=function(){const e=parent!==window?document.referrer:document.location.origin,t=e.endsWith("/")?e.slice(0,-1):e;return/^https:\/\/[\w\d-.]+\.snoo\.dev$/.test(t)?"*":t.startsWith("https://new.reddit.com")?t:CLIENT_CONFIG.REDDIT_MESSAGE_TARGET}();window.parent.postMessage(e,t)}close(){this.sendMessage({type:Lt.Close})}refreshAuth(){this.sendMessage({type:Lt.RefreshAuth})}signIn(e){this.sendMessage({type:Lt.SignIn,dest:e})}syncCoordinates(e){this.sendMessage({type:Lt.SyncCoordinates,data:e})}openProfile(e){this.sendMessage({type:Lt.OpenProfile,data:e})}}function qt(){return!!window.hot_potato_native}function Ut(){var e;return void 0!==(null==(e=null==(e=null==(e=window.webkit)?void 0:e.messageHandlers)?void 0:e.callbackHandler)?void 0:e.postMessage)}function Bt(){return window.parent!==window}function Qt(){return qt()||Ut()}const Ht=()=>{var e=Rt.get("session_tracker"),{domain:t,url:n}=Wt();return Object.assign(Object.assign({},((e="")=>{e=e.split(".");return{id:e[0],created_timestamp:parseInt(e[2],10)}})(e)),{referrer_domain:t,referrer_url:n})},Gt=()=>{var e=Rt.get("loid"),e=e&&((e="")=>{let t="",n="";const i=e.split(".");return 3<=i.length&&(t="t2_"+i[0].replace(/\b0+/g,""),n=i[2]),{id:t,cookie_created_timestamp:parseInt(n,10)}})(e),t=Xe.getState(),t=t&&{id:t.id,logged_in:t.canParticipate};return Object.assign(Object.assign({},e),t)},Wt=()=>{var e=document.referrer;let t="";return{url:e,domain:t=e?new URL(document.referrer).hostname:t}},Kt=()=>{var{hostname:e,origin:t,pathname:n,search:i}=window.location,t=""+t+n;return{base_url:i?t+i:t,domain:e,user_agent:window.navigator.userAgent}},Yt=({source:e,action:t,noun:n},r={})=>Object.assign(Object.assign({source:e,action:t,noun:n,uuid:Mt(),request:Kt()},(()=>{var e=Ze.getState()||{},t=e["app"],e=i(e,["app"]);return Object.assign(Object.assign({},e),{client_timestamp:Date.now(),app:Object.assign(Object.assign({},t),{name:(null==t?void 0:t.name)||Ut()&&"ios"||qt()&&"android"||"mona-lisa"}),referrer:e.referrer||Wt(),session:e.session||Ht(),user:e.user||Gt()})})()),r),en=(!function(e){e.Global="global",e.HotPotato="hot_potato"}(Jt=Jt||{}),function(e){e.Click="click",e.Complete="complete",e.Left="left",e.View="view",e.Set="set"}(Xt=Xt||{}),function(e){e.Pixel="pixel",e.Screen="screen",e.Share="share",e.Submit="submit",e.Tutorial="tutorial",e.Username="username",e.Rectangle="rectangle"}(Zt=Zt||{}),Symbol("mixins/with-tracking"));function tn(e){if(en in e)return e;class t extends e{constructor(){super(...arguments),this.trackEvent=e=>{e=g("track-event",{details:e});this.dispatchEvent(e)}}}return t[en]=!0,t}const nn=R`:host{display:inline-block;fill:currentColor;vertical-align:middle;line-height:1em}svg{fill:currentColor;height:1em;width:auto}`;function rn(e,t,n,i=nn){if(n){class o extends Ae{constructor(){super(...arguments),this.fill=!1}static get styles(){return i}render(){return this.fill?n:t}}r([u({type:Boolean})],o.prototype,"fill",void 0),window.customElements.define(e,o)}else{class n extends Ae{static get styles(){return i}render(){return t}}window.customElements.define(e,n)}}rn("icon-meme",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M20.125 6.875h-1V1.4a1.125 1.125 0 00-1.716-.961L13.421 2.9a11.408 11.408 0 00-6.842 0L2.592.44a1.125 1.125 0 00-1.717.96v7.007A6.969 6.969 0 00.375 11a7.5 7.5 0 002.86 5.783A10.55 10.55 0 0010 19.125a10.55 10.55 0 006.765-2.342 7.668 7.668 0 002.758-4.658h.6zm-13.7-2.6l.282-.1a10.118 10.118 0 016.584 0l.282.1 4.3-2.656v5.256h-5v1h-1.75v-1H3.875v1H2.082l.043-6.254zm9.538 11.546A9.3 9.3 0 0110 17.875a9.3 9.3 0 01-5.964-2.052A6.272 6.272 0 011.625 11a5.717 5.717 0 01.323-1.875h1.927v3h7.25v-3h1.75v3h5.38a6.5 6.5 0 01-2.291 3.698z"/><path d="M6.6 13.554l-.874.893A6.127 6.127 0 0010 16.125a6.458 6.458 0 001.661-.215l-.322-1.21A5.1 5.1 0 016.6 13.554z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M3.875 7.875v-1h7.25v1h1.75v-1h6.25V1.4a1.125 1.125 0 00-1.716-.961L13.421 2.9a11.408 11.408 0 00-6.842 0L2.592.44a1.125 1.125 0 00-1.717.96v6.475zM12.875 12.125v-3h-1.75v3h-7.25v-3H.636A6.939 6.939 0 00.375 11a7.5 7.5 0 002.86 5.783A10.55 10.55 0 0010 19.125a10.55 10.55 0 006.765-2.342 7.668 7.668 0 002.758-4.658zm-2.875 4a6.127 6.127 0 01-4.27-1.678l.874-.893a5.1 5.1 0 004.735 1.146l.322 1.208a6.458 6.458 0 01-1.661.217z"/></svg>`);const on=tn(Ae);let sn=class extends on{constructor(){super(),this.debug=!1,this.routeName="",this.isFullScreen=dt(this,Ke),this._events=new Le(this),this._trackEvent=this._events.define("track-event",e=>{var i=e.detail.details;yt.push(i),(()=>{if(!i)return!1;var{source:e,action:t,noun:n}=i;return"global__view__screen"==e+`__${t}__`+n})()||40<=yt.length?gt():mt=mt||setTimeout(()=>gt(),3e3)}),this._onPageHide=()=>{var e=[Yt({source:Jt.Global,action:Xt.Left,noun:Zt.Screen},{action_info:{page_type:"place_editor"}})];e=[...yt,...e],vt(e),bt()},dt(this,Ge)}static get styles(){return Ve("header {\n  padding-left: calc(50vw - 50%);\n  padding-right: calc(50vw - 50%);\n  margin-left: calc(0px - (50vw - 50%));\n  margin-right: calc(0px - (50vw - 50%));\n  padding-top: var(--faceplate-body-padding);\n  padding-bottom: var(--faceplate-body-padding);\n  margin-top: calc(-1 * var(--faceplate-body-padding));\n  margin-bottom: var(--faceplate-body-padding);\n  background: var(--color-tone-6);\n  font-size: 18px;\n  font-weight: 700;\n  background-color: var(--color-tone-5);\n  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);\n  margin: 0;\n  padding: 0 16px;\n  height: 60px;\n  line-height: 60px;\n}\n")}connectedCallback(){super.connectedCallback(),window.addEventListener("pagehide",this._onPageHide)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pagehide",this._onPageHide)}updated(e){this.isFullScreen.state()&&We()&&this.trackEvent(Yt({source:Jt.Global,action:Xt.View,noun:Zt.Screen},{action_info:{page_type:"place_editor"}})),super.updated(e)}render(){return le` <slot></slot> `}};function an(a,s,c,l){var u,h=!1,d=0;function p(){u&&clearTimeout(u)}function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this,r=Date.now()-d;function o(){d=Date.now(),c.apply(i,t)}h||(l&&!u&&o(),p(),void 0===l&&a<r?o():!0!==s&&(u=setTimeout(l?function(){u=void 0}:o,void 0===l?a-r:a)))}return"boolean"!=typeof s&&(l=c,c=s,s=void 0),e.cancel=function(){p(),h=!0},e}function cn(e,t,n){return void 0===n?an(e,t,!1):an(e,n,!1!==t)}r([u({type:Boolean})],sn.prototype,"debug",void 0),r([u({type:String})],sn.prototype,"routeName",void 0),sn=r([c("mona-lisa-app")],sn),Object.freeze({shouldBindMethod:!1,useCapture:!1,useShadowRoot:!1}),Object.freeze({shouldBindMethod:!1,useCapture:!0,useShadowRoot:!1});const ln=Symbol("mixins/events"),un=e=>null!=e?e:de;function hn(...e){Ye.getState()&&console.info(e)}function dn(e,t,...n){console.error(e,t,...n),t instanceof Error?window.Sentry.captureException(t):e instanceof Error?window.Sentry.captureException(e):"string"==typeof e&&window.Sentry.captureMessage(e)}!function(e){e.FIRST_CONTENTFUL_PAINT="first-contentful-paint",e.FIRST_MEANINGFUL_PAINT="first-meaningful-paint"}(pn=pn||{}),rn("icon-refresh",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M16.375 10A6.375 6.375 0 1110 3.625h3.274L11.6 5.02l.8.96 3-2.5a.625.625 0 000-.96l-3-2.5-.8.96 1.674 1.4H10A7.625 7.625 0 1017.625 10zm-2.351-7L14 3.02v-.04z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M16 10a6 6 0 11-6-6h1.5v1.287a.6.6 0 00.346.543.591.591 0 00.254.056.6.6 0 00.384-.138l2.836-2.364a.5.5 0 000-.768L12.484.253a.6.6 0 00-.984.46V2H10a8 8 0 108 8z"/></svg>`),rn("icon-settings",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10 6.875A3.125 3.125 0 1013.125 10 3.129 3.129 0 0010 6.875zm0 5A1.875 1.875 0 1111.875 10 1.877 1.877 0 0110 11.875z"/><path d="M19.549 8.849a1.124 1.124 0 00-1.116-.974H17.4a.915.915 0 01-.828-.608.906.906 0 01.163-1l.722-.723a1.127 1.127 0 00.1-1.495 9.631 9.631 0 00-1.608-1.608 1.129 1.129 0 00-1.494.1l-.724.724a.92.92 0 01-1.018.155.906.906 0 01-.588-.82V1.567a1.123 1.123 0 00-.974-1.116 8.782 8.782 0 00-2.3 0 1.123 1.123 0 00-.974 1.116V2.6a.915.915 0 01-.608.828.907.907 0 01-1-.163l-.723-.722a1.126 1.126 0 00-1.495-.1 9.631 9.631 0 00-1.608 1.608 1.127 1.127 0 00.1 1.494l.724.724a.917.917 0 01.155 1.018.906.906 0 01-.82.588H1.567a1.123 1.123 0 00-1.116.974 8.754 8.754 0 000 2.3 1.123 1.123 0 001.116.974H2.6a.915.915 0 01.828.608.906.906 0 01-.163 1l-.722.723a1.127 1.127 0 00-.1 1.495 9.707 9.707 0 001.608 1.608 1.13 1.13 0 001.494-.1l.724-.724a.916.916 0 011.018-.155.906.906 0 01.588.82v1.031a1.123 1.123 0 00.974 1.116 8.754 8.754 0 002.3 0 1.123 1.123 0 00.974-1.116V17.4a.915.915 0 01.608-.828.906.906 0 011 .163l.724.724a1.132 1.132 0 001.494.1 9.707 9.707 0 001.608-1.608 1.127 1.127 0 00-.1-1.494l-.724-.724a.917.917 0 01-.155-1.018.906.906 0 01.82-.588h1.031a1.123 1.123 0 001.116-.974 8.754 8.754 0 000-2.3zm-1.226 2.026H17.4a2.224 2.224 0 00-1.549 3.741l.65.65a8.459 8.459 0 01-1.235 1.234l-.65-.65a2.224 2.224 0 00-3.741 1.55v.921a7.216 7.216 0 01-1.75 0V17.4a2.159 2.159 0 00-1.378-1.98 2.154 2.154 0 00-2.363.433l-.65.65A8.459 8.459 0 013.5 15.266l.65-.65a2.224 2.224 0 00-1.55-3.741h-.923a7.388 7.388 0 010-1.75H2.6a2.159 2.159 0 001.98-1.378 2.152 2.152 0 00-.433-2.363l-.65-.65A8.362 8.362 0 014.734 3.5l.65.65a2.162 2.162 0 002.382.425A2.15 2.15 0 009.125 2.6v-.923a7.216 7.216 0 011.75 0V2.6a2.159 2.159 0 001.378 1.98 2.158 2.158 0 002.363-.433l.65-.65A8.362 8.362 0 0116.5 4.734l-.65.65a2.16 2.16 0 00-.425 2.382A2.15 2.15 0 0017.4 9.125h.921a7.388 7.388 0 010 1.75z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M19.549 8.849a1.124 1.124 0 00-1.116-.974H17.4a.915.915 0 01-.828-.608.906.906 0 01.163-1l.722-.723a1.127 1.127 0 00.1-1.495 9.631 9.631 0 00-1.608-1.608 1.129 1.129 0 00-1.494.1l-.724.724a.919.919 0 01-1.018.155.906.906 0 01-.588-.82V1.567a1.123 1.123 0 00-.974-1.116 8.782 8.782 0 00-2.3 0 1.123 1.123 0 00-.974 1.116V2.6a.915.915 0 01-.608.828.909.909 0 01-1-.163l-.723-.722a1.126 1.126 0 00-1.495-.1 9.631 9.631 0 00-1.608 1.608 1.127 1.127 0 00.1 1.494l.724.724a.917.917 0 01.155 1.018.906.906 0 01-.82.588H1.567a1.123 1.123 0 00-1.116.974 8.754 8.754 0 000 2.3 1.123 1.123 0 001.116.974H2.6a.915.915 0 01.828.608.906.906 0 01-.163 1l-.722.723a1.127 1.127 0 00-.1 1.495 9.707 9.707 0 001.608 1.608 1.131 1.131 0 001.494-.1l.724-.724a.916.916 0 011.018-.155.906.906 0 01.588.82v1.031a1.123 1.123 0 00.974 1.116 8.754 8.754 0 002.3 0 1.123 1.123 0 00.974-1.116V17.4a.915.915 0 01.608-.828.9.9 0 011 .163l.724.724a1.131 1.131 0 001.494.1 9.707 9.707 0 001.608-1.608 1.127 1.127 0 00-.1-1.494l-.724-.724a.917.917 0 01-.155-1.018.906.906 0 01.82-.588h1.031a1.123 1.123 0 001.116-.974 8.754 8.754 0 000-2.3zM10 13.125A3.125 3.125 0 1113.125 10 3.129 3.129 0 0110 13.125z"/></svg>`);const fn=1,vn=t=>(...e)=>({_$litDirective$:t,values:e});class mn{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const yn=vn(class extends mn{constructor(e){if(super(e),e.type!==fn||"class"!==e.name||2<(null==(e=e.strings)?void 0:e.length))throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(e,[t]){var n,i;if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.et=new Set(e.strings.join(" ").split(/\s/).filter(e=>""!==e)));for(const e in t)!t[e]||null!=(n=this.et)&&n.has(e)||this.st.add(e);return this.render(t)}const r=e.element.classList;this.st.forEach(e=>{e in t||(r.remove(e),this.st.delete(e))});for(const e in t){const n=!!t[e];n===this.st.has(e)||null!=(i=this.et)&&i.has(e)||(n?(r.add(e),this.st.add(e)):(r.remove(e),this.st.delete(e)))}return he}});let gn=class extends Ae{constructor(){super(...arguments),this.selected=!1}static get styles(){return R`:host{margin:-8px;padding:8px;display:block}button{background:0 0;cursor:pointer;border:none;pointer-events:all;border-radius:50%;padding:8px}.layout{background-color:#fff;display:flex;align-items:center;justify-content:center;border-radius:50%;height:36px;width:36px;box-shadow:0 4px 10px rgb(0,0,0,.25);color:#000;font-size:20px;pointer-events:all}.selected{color:#fff;background:red}`}render(){return le` <button> <div class="layout ${yn({selected:this.selected})}"> <slot></slot> </div> </button> `}},bn=(r([u({type:Boolean})],gn.prototype,"selected",void 0),gn=r([c("mona-lisa-icon-button")],gn),class extends Ae{constructor(){super(...arguments),this.size=20}render(){return le` <img alt="Loader icon" src="${CLIENT_CONFIG.STATIC_BASE_URL}assets/img/loader.gif" height="${this.size}" width="${this.size}"> `}}),xn=(r([u({type:Number})],bn.prototype,"size",void 0),bn=r([c("mona-lisa-loader")],bn),!function(e){e.Auth="auth",e.GameOver="gameOver",e.Init="init",e.Sync="sync"}(wn=wn||{}),class extends Ae{static get styles(){return Ve(":host {\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  background-color: #dae0e6;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #000;\n}\n:host([type]) {\n  opacity: 1;\n  pointer-events: all;\n  z-index: 1;\n}\nh3 {\n  text-align: center;\n}\n.reload {\n  display: flex;\n  align-items: center;\n}\nmona-lisa-icon-button {\n  display: inline-block;\n}\nicon-refresh {\n  display: inline-flex;\n  font-size: 18px;\n}\n.gears {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n}\nicon-settings {\n  display: inline-flex;\n  font-size: 64px;\n  animation: rotate 1s 0s infinite both;\n}\n.second-gear {\n  margin-left: -8px;\n  transform: rotate(22.5deg) scaleX(-1);\n}\n@keyframes rotate {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n")}reload(){const e=new URL(location.href);Ke.getState()?e.searchParams.set(Ue.FullScreen,""):e.searchParams.delete(Ue.FullScreen),location.href=e.toString()}render(){return this.type===wn.GameOver?le` <div> <h3> Oops, something went wrong. </h3> <div class="reload"> Press <mona-lisa-icon-button @click="${this.reload}"><icon-refresh></icon-refresh></mona-lisa-icon-button> to reload the page. </div> </div> `:this.type===wn.Init||this.type===wn.Auth?le`<mona-lisa-loader size="${128}"></mona-lisa-loader>`:this.type===wn.Sync?le` <div> <h1> Sychronizing configuration </h1> <div class="gears"> <icon-settings></icon-settings> <div class="second-gear"><icon-settings></icon-settings></div> </div> </div> `:""}});r([u({type:String})],xn.prototype,"type",void 0),xn=r([c("mona-lisa-overlay")],xn);var _n=Object.setPrototypeOf,En=void 0===_n?function(e,t){return e.__proto__=t,e}:_n,Sn=function(n){function i(e){e=n.call(this,"number"==typeof(e=void 0===e?"Invariant Violation":e)?"Invariant Violation: "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return e.framesToPop=1,e.name="Invariant Violation",En(e,i.prototype),e}return t(i,n),i}(Error);function kn(e,t){if(!e)throw new Sn(t)}var Tn=["debug","log","warn","error","silent"],Cn=Tn.indexOf("log");function On(e){return function(){if(Tn.indexOf(e)>=Cn)return(console[e]||console.log).apply(console,arguments)}}function An(e){try{return e()}catch(e){}}!function(e){e.debug=On("debug"),e.log=On("log"),e.warn=On("warn"),e.error=On("error")}(kn=kn||{});var In=An(function(){return globalThis})||An(function(){return window})||An(function(){return self})||An(function(){return global})||An(function(){return An.constructor("return this")()}),Mn="__",Pn=[Mn,Mn].join("DEV"),Dn=function(){try{return Boolean(__DEV__)}catch(e){return Object.defineProperty(In,Pn,{value:"production"!==An(function(){return process.env.NODE_ENV}),enumerable:!1,configurable:!0,writable:!0}),In[Pn]}}();function Nn(e){try{return e()}catch(e){}}var Rn=Nn(function(){return globalThis})||Nn(function(){return window})||Nn(function(){return self})||Nn(function(){return global})||Nn(function(){return Nn.constructor("return this")()}),Ln=!1;function Fn(){Ln&&(delete Rn.process,Ln=!1)}function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!Rn||Nn(function(){return process.env.NODE_ENV})||Nn(function(){return process})||(Object.defineProperty(Rn,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Ln=!0);var $n="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function zn(e,t){for(var n,i=/\r\n|[\n\r]/g,r=1,o=t+1;(n=i.exec(e.body))&&n.index<t;)r+=1,o=t+1-(n.index+n[0].length);return{line:r,column:o}}function Vn(e){return qn(e.source,zn(e.source,e.start))}function qn(e,t){var n=e.locationOffset.column-1,i=Bn(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,o=t.line+o,n=1===t.line?n:0,t=t.column+n,n="".concat(e.name,":").concat(o,":").concat(t,"\n"),e=i.split(/\r\n|[\n\r]/g),a=e[r];if(120<a.length){for(var i=Math.floor(t/80),s=t%80,c=[],l=0;l<a.length;l+=80)c.push(a.slice(l,l+80));return n+Un([["".concat(o),c[0]]].concat(c.slice(1,i+1).map(function(e){return["",e]}),[[" ",Bn(s-1)+"^"],["",c[i+1]]]))}return n+Un([["".concat(o-1),e[r-1]],["".concat(o),a],["",Bn(t-1)+"^"],["".concat(o+1),e[1+r]]])}function Un(e){var e=e.filter(function(e){return e[0],void 0!==e[1]}),n=Math.max.apply(Math,e.map(function(e){return e[0].length}));return e.map(function(e){var t=e[0],e=e[1];return Bn(n-(t=t).length)+t+(e?" | "+e:" |")}).join("\n")}function Bn(e){return Array(e+1).join(" ")}function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Gn(e,t){return!t||"object"!==Qn(t)&&"function"!=typeof t?Wn(e):t}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){var n="function"==typeof Map?new Map:void 0;return(Kn=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return Yn(e,arguments,Zn(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Xn(t,e)})(e)}function Yn(e,t,n){return(Yn=Jn()?Reflect.construct:function(e,t,n){var i=[null],t=(i.push.apply(i,t),new(Function.bind.apply(e,i)));return n&&Xn(t,n.prototype),t}).apply(null,arguments)}function Jn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ei=function(){var e=p,t=Kn(Error);if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t);n=p,i=Jn();var n,i,d=function(){var e,t=Zn(n);return Gn(this,i?(e=Zn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))};function p(e,t,n,i,r,o,a){var s=this;if(!(s instanceof p))throw new TypeError("Cannot call a class as a function");var s=d.call(this,e),t=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;!n&&t&&(c=null==(u=t[0].loc)?void 0:u.source);var l,u=i;(u=!u&&t?t.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[]):u)&&0===u.length&&(u=void 0),i&&n?l=i.map(function(e){return zn(n,e)}):t&&(l=t.reduce(function(e,t){return t.loc&&e.push(zn(t.loc.source,t.loc.start)),e},[]));var h,i=a;return null==i&&null!=o&&"object"==jn(h=a=o.extensions)&&null!==h&&(i=a),Object.defineProperties(Wn(s),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!=(h=l)?h:void 0,enumerable:null!=l},path:{value:null!=r?r:void 0,enumerable:null!=r},nodes:{value:null!=t?t:void 0},source:{value:null!=(a=c)?a:void 0},positions:{value:null!=(e=u)?e:void 0},originalError:{value:o},extensions:{value:null!=(h=i)?h:void 0,enumerable:null!=i}}),null!=o&&o.stack?(Object.defineProperty(Wn(s),"stack",{value:o.stack,writable:!0,configurable:!0}),Gn(s)):(Error.captureStackTrace?Error.captureStackTrace(Wn(s),p):Object.defineProperty(Wn(s),"stack",{value:Error().stack,writable:!0,configurable:!0}),s)}return Hn(p.prototype,[{key:"toString",value:function(){var e=this,t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var r=i[n];r.loc&&(t+="\n\n"+Vn(r.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+qn(e.source,s)}return t}},{key:$n,get:function(){return"Object"}}]),p}();function ti(e,t,n){return new ei("Syntax Error: ".concat(n),void 0,e,[t])}var ni=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),ii="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function ri(e){var t=e.prototype.toJSON;if("function"!=typeof t&&!Boolean(0))throw new Error("Unexpected invariant triggered.");e.prototype.inspect=t,ii&&(e.prototype[ii]=t)}var oi=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}(),si=(ri(oi),function(){function e(e,t,n,i,r,o,a){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}());function ai(e){return null!=e&&"string"==typeof e.kind}ri(si);var ci=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e){return hi(e,[])}function hi(e,t){switch(li(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(null===e)return"null";else{var n=e;var i=t;if(-1!==i.indexOf(n))return"[Circular]";var r,o,i=[].concat(i,[n]),a="function"==typeof(a=(s=n)[String(ii)])?a:"function"==typeof s.inspect?s.inspect:void 0;if(void 0!==a){var s=a.call(n);if(s!==n)return"string"==typeof s?s:hi(s,i)}else if(Array.isArray(n)){var c=n;var l=i;if(0===c.length)return"[]";if(2<l.length)return"[Array]";for(var u=Math.min(10,c.length),a=c.length-u,h=[],d=0;d<u;++d)h.push(hi(c[d],l));return 1==a?h.push("... 1 more item"):1<a&&h.push("... ".concat(a," more items")),"["+h.join(", ")+"]";return}return r=n,o=i,0===(s=Object.keys(r)).length?"{}":2<o.length?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){e=e.constructor.name;if("string"==typeof e&&""!==e)return e}return t}(r)+"]":"{ "+s.map(function(e){return e+": "+hi(r[e],o)}).join(", ")+" }";return}default:return String(e)}}function di(e,t){if(!Boolean(e))throw new Error(t)}var pi="production"===process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(e){var n=e.constructor,t=t.name;if(t&&n&&n.name===t)throw new Error("Cannot use ".concat(t,' "').concat(e,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}return!1};function fi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var vi=function(){function e(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"!=typeof e&&di(0,"Body must be a string. Received: ".concat(ui(e),".")),this.body=e,this.name=t,this.locationOffset=n,0<this.locationOffset.line||di(0,"line in locationOffset is 1-indexed and must be positive."),0<this.locationOffset.column||di(0,"column in locationOffset is 1-indexed and must be positive.")}var t=e;return fi(t.prototype,[{key:$n,get:function(){return"Source"}}]),e}(),mi=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function yi(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,r=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:i=!(n=!1),r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!=(t=o)?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var r=0;r<t.length&&gi(t[r]);)++r;for(var o=t.length;r<o&&gi(t[o-1]);)--o;return t.slice(r,o).join("\n")}function gi(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var bi=function(){function e(e){var t=new si(ci.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){if((t=this.token).kind!==ci.EOF)do{var e,t=null!=(e=t.next)?e:t.next=xi(this,t)}while(t.kind===ci.COMMENT);return t},e}();function wi(e){return isNaN(e)?ci.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function xi(e,t){for(var n=e.source,i=n.body,r=i.length,o=t.end;o<r;){var a=i.charCodeAt(o),s=e.line,c=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===i.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new si(ci.BANG,o,o+1,s,c,t);case 35:return Ei(n,o,s,c,t);case 36:return new si(ci.DOLLAR,o,o+1,s,c,t);case 38:return new si(ci.AMP,o,o+1,s,c,t);case 40:return new si(ci.PAREN_L,o,o+1,s,c,t);case 41:return new si(ci.PAREN_R,o,o+1,s,c,t);case 46:if(46===i.charCodeAt(o+1)&&46===i.charCodeAt(o+2))return new si(ci.SPREAD,o,o+3,s,c,t);break;case 58:return new si(ci.COLON,o,o+1,s,c,t);case 61:return new si(ci.EQUALS,o,o+1,s,c,t);case 64:return new si(ci.AT,o,o+1,s,c,t);case 91:return new si(ci.BRACKET_L,o,o+1,s,c,t);case 93:return new si(ci.BRACKET_R,o,o+1,s,c,t);case 123:return new si(ci.BRACE_L,o,o+1,s,c,t);case 124:return new si(ci.PIPE,o,o+1,s,c,t);case 125:return new si(ci.BRACE_R,o,o+1,s,c,t);case 34:return 34===i.charCodeAt(o+1)&&34===i.charCodeAt(o+2)?Ci(n,o,s,c,t,e):Ti(n,o,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Si(n,o,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ii(n,o,s,c,t)}throw ti(n,o,_i(a))}var l=e.line,u=1+o-e.lineStart;return new si(ci.EOF,r,r,l,u,t)}function _i(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(wi(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(wi(e),".")}function Ei(e,t,n,i,r){for(var o,a=e.body,s=t;o=a.charCodeAt(++s),!isNaN(o)&&(31<o||9===o););return new si(ci.COMMENT,t,s,n,i,r,a.slice(t+1,s))}function Si(e,t,n,i,r,o){var a=e.body,s=t,c=!1;if(48===(n=45===n?a.charCodeAt(++s):n)){if(48<=(n=a.charCodeAt(++s))&&n<=57)throw ti(e,s,"Invalid number, unexpected digit after 0: ".concat(wi(n),"."))}else s=ki(e,s,n),n=a.charCodeAt(s);if(46===n&&(c=!0,n=a.charCodeAt(++s),s=ki(e,s,n),n=a.charCodeAt(s)),69!==n&&101!==n||(c=!0,43!==(n=a.charCodeAt(++s))&&45!==n||(n=a.charCodeAt(++s)),s=ki(e,s,n),n=a.charCodeAt(s)),46===n||95===n||65<=n&&n<=90||97<=n&&n<=122)throw ti(e,s,"Invalid number, expected digit but got: ".concat(wi(n),"."));return new si(c?ci.FLOAT:ci.INT,t,s,i,r,o,a.slice(t,s))}function ki(e,t,n){var i=e.body,r=t,o=n;if(48<=o&&o<=57){for(;48<=(o=i.charCodeAt(++r))&&o<=57;);return r}throw ti(e,r,"Invalid number, expected digit but got: ".concat(wi(o),"."))}function Ti(e,t,n,i,r){for(var o=e.body,a=t+1,s=a,c=0,l="";a<o.length&&!isNaN(c=o.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return l+=o.slice(s,a),new si(ci.STRING,t,a+1,n,i,r,l);if(c<32&&9!==c)throw ti(e,a,"Invalid character within String: ".concat(wi(c),"."));if(++a,92===c){switch(l+=o.slice(s,a-1),c=o.charCodeAt(a)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var u,h=Oi(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(h<0)throw u=o.slice(a+1,a+5),ti(e,a,"Invalid character escape sequence: \\u".concat(u,"."));l+=String.fromCharCode(h),a+=4;break;default:throw ti(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}throw ti(e,a,"Unterminated string.")}function Ci(e,t,n,i,r,o){for(var a=e.body,s=t+3,c=s,l=0,u="";s<a.length&&!isNaN(l=a.charCodeAt(s));){if(34===l&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return u+=a.slice(c,s),new si(ci.BLOCK_STRING,t,s+3,n,i,r,yi(u));if(l<32&&9!==l&&10!==l&&13!==l)throw ti(e,s,"Invalid character within String: ".concat(wi(l),"."));10===l?(++s,++o.line,o.lineStart=s):13===l?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===l&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(u+=a.slice(c,s)+'"""',c=s+=4):++s}throw ti(e,s,"Unterminated string.")}function Oi(e,t,n,i){return Ai(e)<<12|Ai(t)<<8|Ai(n)<<4|Ai(i)}function Ai(e){return 48<=e&&e<=57?e-48:65<=e&&e<=70?e-55:97<=e&&e<=102?e-87:-1}function Ii(e,t,n,i,r){for(var o=e.body,a=o.length,s=t+1,c=0;s!==a&&!isNaN(c=o.charCodeAt(s))&&(95===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122);)++s;return new si(ci.NAME,t,s,n,i,r,o.slice(t,s))}var Mi=function(){function e(e,t){e=pi(e,vi)?e:new vi(e);this._lexer=new bi(e),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(ci.NAME);return{kind:ni.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:ni.DOCUMENT,definitions:this.many(ci.SOF,this.parseDefinition,ci.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(ci.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(ci.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(ci.BRACE_L))return{kind:ni.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(ci.NAME)&&(t=this.parseName()),{kind:ni.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(ci.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(ci.PAREN_L,this.parseVariableDefinition,ci.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:ni.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ci.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ci.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(ci.DOLLAR),{kind:ni.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:ni.SELECTION_SET,selections:this.many(ci.BRACE_L,this.parseSelection,ci.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(ci.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t=this._lexer.token,n=this.parseName(),n=this.expectOptionalToken(ci.COLON)?(e=n,this.parseName()):n;return{kind:ni.FIELD,alias:e,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ci.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(t)}},t.parseArguments=function(e){e=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ci.PAREN_L,e,ci.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(ci.COLON),{kind:ni.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:ni.ARGUMENT,name:this.parseName(),value:(this.expectToken(ci.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token,t=(this.expectToken(ci.SPREAD),this.expectOptionalKeyword("on"));return!t&&this.peek(ci.NAME)?{kind:ni.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:ni.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null==(e=this._options)?void 0:e.experimentalFragmentVariables)?{kind:ni.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:ni.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case ci.BRACKET_L:return this.parseList(e);case ci.BRACE_L:return this.parseObject(e);case ci.INT:return this._lexer.advance(),{kind:ni.INT,value:t.value,loc:this.loc(t)};case ci.FLOAT:return this._lexer.advance(),{kind:ni.FLOAT,value:t.value,loc:this.loc(t)};case ci.STRING:case ci.BLOCK_STRING:return this.parseStringLiteral();case ci.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:ni.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:ni.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:ni.NULL,loc:this.loc(t)};default:return{kind:ni.ENUM,value:t.value,loc:this.loc(t)}}case ci.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:ni.STRING,value:e.value,block:e.kind===ci.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:ni.LIST,values:this.any(ci.BRACKET_L,function(){return t.parseValueLiteral(e)},ci.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:ni.OBJECT,fields:this.any(ci.BRACE_L,function(){return t.parseObjectField(e)},ci.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(ci.COLON),{kind:ni.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(ci.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(ci.AT),{kind:ni.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e=this._lexer.token,t=this.expectOptionalToken(ci.BRACKET_L)?(t=this.parseTypeReference(),this.expectToken(ci.BRACKET_R),{kind:ni.LIST_TYPE,type:t,loc:this.loc(e)}):this.parseNamedType();return this.expectOptionalToken(ci.BANG)?{kind:ni.NON_NULL_TYPE,type:t,loc:this.loc(e)}:t},t.parseNamedType=function(){var e=this._lexer.token;return{kind:ni.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===ci.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(ci.STRING)||this.peek(ci.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("schema"),this.parseDirectives(!0)),i=this.many(ci.BRACE_L,this.parseOperationTypeDefinition,ci.BRACE_R);return{kind:ni.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType(),n=(this.expectToken(ci.COLON),this.parseNamedType());return{kind:ni.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("scalar"),this.parseName()),i=this.parseDirectives(!0);return{kind:ni.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("type"),this.parseName()),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:ni.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0!==(null==(e=this._options)?void 0:e.allowLegacySDLImplementsInterfaces))return this.delimitedMany(ci.AMP,this.parseNamedType);var t=[];for(this.expectOptionalToken(ci.AMP);t.push(this.parseNamedType()),this.expectOptionalToken(ci.AMP)||this.peek(ci.NAME););return t},t.parseFieldsDefinition=function(){var e;return!0===(null==(e=this._options)?void 0:e.allowLegacySDLEmptyFields)&&this.peek(ci.BRACE_L)&&this._lexer.lookahead().kind===ci.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(ci.BRACE_L,this.parseFieldDefinition,ci.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs(),r=(this.expectToken(ci.COLON),this.parseTypeReference()),o=this.parseDirectives(!0);return{kind:ni.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(ci.PAREN_L,this.parseInputValueDef,ci.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(ci.COLON);var i,r=this.parseTypeReference(),o=(this.expectOptionalToken(ci.EQUALS)&&(i=this.parseValueLiteral(!0)),this.parseDirectives(!0));return{kind:ni.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("interface"),this.parseName()),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:ni.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("union"),this.parseName()),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:ni.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(ci.EQUALS)?this.delimitedMany(ci.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("enum"),this.parseName()),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:ni.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(ci.BRACE_L,this.parseEnumValueDefinition,ci.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:ni.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("input"),this.parseName()),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:ni.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(ci.BRACE_L,this.parseInputValueDef,ci.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===ci.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("schema"),this.parseDirectives(!0)),n=this.optionalMany(ci.BRACE_L,this.parseOperationTypeDefinition,ci.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:ni.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("scalar"),this.parseName()),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:ni.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("type"),this.parseName()),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:ni.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("interface"),this.parseName()),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:ni.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("union"),this.parseName()),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:ni.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("enum"),this.parseName()),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:ni.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token,t=(this.expectKeyword("extend"),this.expectKeyword("input"),this.parseName()),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:ni.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=(this.expectKeyword("directive"),this.expectToken(ci.AT),this.parseName()),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable"),o=(this.expectKeyword("on"),this.parseDirectiveLocations());return{kind:ni.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(ci.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==mi[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null==(t=this._options)?void 0:t.noLocation))return new oi(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw ti(this._lexer.source,t.start,"Expected ".concat(Di(e),", found ").concat(Pi(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==ci.NAME||t.value!==e)throw ti(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Pi(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===ci.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){e=null!=e?e:this._lexer.token;return ti(this._lexer.source,e.start,"Unexpected ".concat(Pi(e),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){for(var i=[];i.push(t.call(this)),!this.expectOptionalToken(n););return i}return[]},t.many=function(e,t,n){this.expectToken(e);for(var i=[];i.push(t.call(this)),!this.expectOptionalToken(n););return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);for(var n=[];n.push(t.call(this)),this.expectOptionalToken(e););return n},e}();function Pi(e){var t=e.value;return Di(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Di(e){return e===ci.BANG||e===ci.DOLLAR||e===ci.AMP||e===ci.PAREN_L||e===ci.PAREN_R||e===ci.SPREAD||e===ci.COLON||e===ci.EQUALS||e===ci.AT||e===ci.BRACKET_L||e===ci.BRACKET_R||e===ci.BRACE_L||e===ci.PIPE||e===ci.BRACE_R?'"'.concat(e,'"'):e}var Ni={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ri=Object.freeze({});function Li(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Ni,i=void 0,r=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,l=void 0,u=void 0,h=[],d=[],p=e;do{var f=++a===o.length,m=f&&0!==s.length;if(f){if(l=0===d.length?void 0:h[h.length-1],c=u,u=d.pop(),m){if(r)c=c.slice();else{for(var v={},g=0,y=Object.keys(c);g<y.length;g++){var b=y[g];v[b]=c[b]}c=v}for(var w=0,x=0;x<s.length;x++){var k=s[x][0],S=s[x][1];r&&(k-=w),r&&null===S?(c.splice(k,1),w++):c[k]=S}}a=i.index,o=i.keys,s=i.edits,r=i.inArray,i=i.prev}else{if(l=u?r?a:o[a]:void 0,null==(c=u?u[l]:p))continue;u&&h.push(l)}var _=void 0;if(!Array.isArray(c)){if(!ai(c))throw new Error("Invalid AST Node: ".concat(ui(c),"."));var E=Fi(t,c.kind,f);if(E){if((_=E.call(t,c,l,u,h,d))===Ri)break;if(!1===_){if(!f){h.pop();continue}}else if(void 0!==_&&(s.push([l,_]),!f)){if(!ai(_)){h.pop();continue}c=_}}}void 0===_&&m&&s.push([l,c]),f?h.pop():(i={inArray:r,index:a,keys:o,edits:s,prev:i},o=(r=Array.isArray(c))?c:null!=(E=n[c.kind])?E:[],a=-1,s=[],u&&d.push(u),u=c)}while(void 0!==i);return p=0!==s.length?s[s.length-1][1]:p}function Fi(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;i=n?i.leave:i.enter;return"function"==typeof i?i:void 0}i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;n=i[t];return"function"==typeof n?n:void 0}}function ji(e){return Li(e,{leave:$i})}var $i={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Vi(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=Ui("(",Vi(e.variableDefinitions,", "),")"),r=Vi(e.directives," "),e=e.selectionSet;return n||r||i||"query"!==t?Vi([t,Vi([n,i]),r,e]," "):e},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,e=e.directives;return t+": "+n+Ui(" = ",i)+Ui(" ",Vi(e," "))},SelectionSet:function(e){return qi(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,r=e.directives,e=e.selectionSet,t=Ui("",t,": ")+n,n=t+Ui("(",Vi(i,", "),")");return 80<n.length&&(n=t+Ui("(\n",Bi(Vi(i,"\n")),"\n)")),Vi([n,Vi(r," "),e]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Ui(" ",Vi(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,e=e.selectionSet;return Vi(["...",Ui("on ",t),Vi(n," "),e]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,r=e.directives,e=e.selectionSet;return"fragment ".concat(t).concat(Ui("(",Vi(i,", "),")")," ")+"on ".concat(n," ").concat(Ui("",Vi(r," ")," "))+e},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t,n){var i=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==n&&n,o=-1===e.indexOf("\n"),a=" "===e[0]||"\t"===e[0],s='"'===e[e.length-1],c="\\"===e[e.length-1],s=!o||s||c||r,c="";return!s||o&&a||(c+="\n"+i),c+=i?e.replace(/\n/g,"\n"+i):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Vi(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Vi(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Ui("(",Vi(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:zi(function(e){var t=e.directives,e=e.operationTypes;return Vi(["schema",Vi(t," "),qi(e)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:zi(function(e){return Vi(["scalar",e.name,Vi(e.directives," ")]," ")}),ObjectTypeDefinition:zi(function(e){var t=e.name,n=e.interfaces,i=e.directives,e=e.fields;return Vi(["type",t,Ui("implements ",Vi(n," & ")),Vi(i," "),qi(e)]," ")}),FieldDefinition:zi(function(e){var t=e.name,n=e.arguments,i=e.type,e=e.directives;return t+(Hi(n)?Ui("(\n",Bi(Vi(n,"\n")),"\n)"):Ui("(",Vi(n,", "),")"))+": "+i+Ui(" ",Vi(e," "))}),InputValueDefinition:zi(function(e){var t=e.name,n=e.type,i=e.defaultValue,e=e.directives;return Vi([t+": "+n,Ui("= ",i),Vi(e," ")]," ")}),InterfaceTypeDefinition:zi(function(e){var t=e.name,n=e.interfaces,i=e.directives,e=e.fields;return Vi(["interface",t,Ui("implements ",Vi(n," & ")),Vi(i," "),qi(e)]," ")}),UnionTypeDefinition:zi(function(e){var t=e.name,n=e.directives,e=e.types;return Vi(["union",t,Vi(n," "),e&&0!==e.length?"= "+Vi(e," | "):""]," ")}),EnumTypeDefinition:zi(function(e){var t=e.name,n=e.directives,e=e.values;return Vi(["enum",t,Vi(n," "),qi(e)]," ")}),EnumValueDefinition:zi(function(e){return Vi([e.name,Vi(e.directives," ")]," ")}),InputObjectTypeDefinition:zi(function(e){var t=e.name,n=e.directives,e=e.fields;return Vi(["input",t,Vi(n," "),qi(e)]," ")}),DirectiveDefinition:zi(function(e){var t=e.name,n=e.arguments,i=e.repeatable,e=e.locations;return"directive @"+t+(Hi(n)?Ui("(\n",Bi(Vi(n,"\n")),"\n)"):Ui("(",Vi(n,", "),")"))+(i?" repeatable":"")+" on "+Vi(e," | ")}),SchemaExtension:function(e){var t=e.directives,e=e.operationTypes;return Vi(["extend schema",Vi(t," "),qi(e)]," ")},ScalarTypeExtension:function(e){return Vi(["extend scalar",e.name,Vi(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,e=e.fields;return Vi(["extend type",t,Ui("implements ",Vi(n," & ")),Vi(i," "),qi(e)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,e=e.fields;return Vi(["extend interface",t,Ui("implements ",Vi(n," & ")),Vi(i," "),qi(e)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,e=e.types;return Vi(["extend union",t,Vi(n," "),e&&0!==e.length?"= "+Vi(e," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,e=e.values;return Vi(["extend enum",t,Vi(n," "),qi(e)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,e=e.fields;return Vi(["extend input",t,Vi(n," "),qi(e)]," ")}};function zi(t){return function(e){return Vi([e.description,t(e)],"\n")}}function Vi(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return null!=(t=null==e?void 0:e.filter(function(e){return e}).join(t))?t:""}function qi(e){return Ui("{\n",Bi(Vi(e,"\n")),"\n}")}function Ui(e,t){return null!=t&&""!==t?e+t+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:""):""}function Bi(e){return Ui("  ",e.replace(/\n/g,"\n  "))}function Qi(e){return-1!==e.indexOf("\n")}function Hi(e){return null!=e&&e.some(Qi)}var Gi=Object.freeze({__proto__:null,print:ji}),Wi=Object.freeze({__proto__:null,getOperationAST:function(e,t){for(var n=null,i=0,r=e.definitions;i<r.length;i++){var o,a=r[i];if(a.kind===ni.OPERATION_DEFINITION)if(null==t){if(n)return null;n=a}else if((null==(o=a.name)?void 0:o.value)===t)return a}return n}});function Ki(e,i){var r,e=e.directives;return!e||!e.length||(r=[],(e=e)&&e.length&&e.forEach(function(e){var t,n,i;"skip"!==(i=e.name.value)&&"include"!==i||(i=e.arguments,t=e.name.value,__DEV__?kn(i&&1===i.length,"Incorrect number of arguments for the @".concat(t," directive.")):kn(i&&1===i.length,38),i=i[0],__DEV__?kn(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(t," directive.")):kn(i.name&&"if"===i.name.value,39),n=i.value,__DEV__?kn(n&&("Variable"===n.kind||"BooleanValue"===n.kind),"Argument for the @".concat(t," directive must be a variable or a boolean value.")):kn(n&&("Variable"===n.kind||"BooleanValue"===n.kind),40),r.push({directive:e,ifArgument:i}))}),r.every(function(e){var t=e.directive,e=e.ifArgument,n=!1;return"Variable"===e.value.kind?(n=i&&i[e.value.name.value],__DEV__?kn(void 0!==n,"Invalid variable referenced in @".concat(t.name.value," directive.")):kn(void 0!==n,37)):n=e.value.value,"skip"===t.name.value?!n:n}))}function Yi(t,e){return n=[],Li(e,{Directive:function(e){n.push(e.name.value)}}),n.some(function(e){return-1<t.indexOf(e)});var n}function Ji(e){return e&&Yi(["client"],e)&&Yi(["export"],e)}function Xi(e,t){var i=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw __DEV__?new Sn("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Sn(41);"FragmentDefinition"===e.kind&&i.push(e)}),void 0===t&&(__DEV__?kn(1===i.length,"Found ".concat(i.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):kn(1===i.length,42),t=i[0].name.value),n(n({},e),{definitions:a([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],e.definitions,!0)})}function Zi(e){var t={};return(e=void 0===e?[]:e).forEach(function(e){t[e.name.value]=e}),t}function er(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?kn(n,"No fragment named ".concat(e.name.value,".")):kn(n,43),n;default:return null}}function tr(e){return null!==e&&"object"==typeof e}function nr(e){return{__ref:String(e)}}function ir(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function rr(e,n,t,i){if("IntValue"===t.kind||"FloatValue"===t.kind)e[n.value]=Number(t.value);else if("BooleanValue"===t.kind||"StringValue"===t.kind)e[n.value]=t.value;else if("ObjectValue"===t.kind){var r={};t.fields.map(function(e){return rr(r,e.name,e.value,i)}),e[n.value]=r}else if("Variable"===t.kind){var o=(i||{})[t.name.value];e[n.value]=o}else if("ListValue"===t.kind)e[n.value]=t.values.map(function(e){var t={};return rr(t,n,e,i),t[n.value]});else if("EnumValue"===t.kind)e[n.value]=t.value;else{if("NullValue"!==t.kind)throw __DEV__?new Sn('The inline argument "'.concat(n.value,'" of kind "').concat(t.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Sn(52);e[n.value]=null}}Fn(),__DEV__?kn("boolean"==typeof Dn,Dn):kn("boolean"==typeof Dn,36);var or=["connection","include","skip","client","rest","export"],sr=Object.assign(function(e,t,n){var i;if(t&&n&&n.connection&&n.connection.key)return n.connection.filter&&0<n.connection.filter.length?((r=n.connection.filter||[]).sort(),i={},r.forEach(function(e){i[e]=t[e]}),"".concat(n.connection.key,"(").concat(ar(i),")")):n.connection.key;var r,o=e;return t&&(r=ar(t),o+="(".concat(r,")")),n&&Object.keys(n).forEach(function(e){-1===or.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(ar(n[e]),")"):o+="@".concat(e))}),o},{setStringify:function(e){var t=ar;return ar=e,t}}),ar=function(e){return JSON.stringify(e,cr)};function cr(e,n){return n=tr(n)&&!Array.isArray(n)?Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e},{}):n}function lr(e,n){var i;return e.arguments&&e.arguments.length?(i={},e.arguments.forEach(function(e){var t=e.name,e=e.value;return rr(i,t,e,n)}),i):null}function ur(e){return(e.alias||e.name).value}function hr(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var i=0,r=t.selections;i<r.length;i++){var o=r[i];if(dr(o)){if("__typename"===o.name.value)return e[ur(o)]}else{o=hr(e,er(o,n).selectionSet,n);if("string"==typeof o)return o}}}function dr(e){return"Field"===e.kind}function pr(e){return"InlineFragment"===e.kind}function fr(e){__DEV__?kn(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):kn(e&&"Document"===e.kind,44);var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new Sn('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new Sn(45);return e});return __DEV__?kn(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):kn(t.length<=1,46),e}function vr(e){return fr(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function mr(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function yr(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function gr(e){e=vr(e);return __DEV__?kn(e&&"query"===e.operation,"Must contain a query definition."):kn(e&&"query"===e.operation,47),e}function br(e){var t;fr(e);for(var n=0,i=e.definitions;n<i.length;n++){var r=i[n];if("OperationDefinition"===r.kind){var o=r.operation;if("query"===o||"mutation"===o||"subscription"===o)return r}"FragmentDefinition"!==r.kind||t||(t=r)}if(t)return t;throw __DEV__?new Sn("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Sn(51)}function wr(e){var t=Object.create(null),e=e&&e.variableDefinitions;return e&&e.length&&e.forEach(function(e){e.defaultValue&&rr(t,e.variable.name,e.defaultValue)}),t}function xr(n,i,e){var r=0;return n.forEach(function(e,t){i.call(this,e,t,n)&&(n[r++]=e)},e),n.length=r,n}var _r={kind:"Field",name:{kind:"Name",value:"__typename"}};function Er(e,t){return e.selectionSet.selections.every(function(e){return"FragmentSpread"===e.kind&&Er(t[e.name.value],t)})}function Sr(e){return Er(vr(e)||function(e){__DEV__?kn("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):kn("Document"===e.kind,48),__DEV__?kn(e.definitions.length<=1,"Fragment must have exactly one definition."):kn(e.definitions.length<=1,49);e=e.definitions[0];return __DEV__?kn("FragmentDefinition"===e.kind,"Must be a fragment definition."):kn("FragmentDefinition"===e.kind,50),e}(e),Zi(yr(e)))?null:e}function kr(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function Tr(t,e){var i,r,o,a,s=Object.create(null),c=[],l=Object.create(null),u=[],e=Sr(Li(e,{Variable:{enter:function(e,t,n){"VariableDefinition"!==n.kind&&(s[e.name.value]=!0)}},Field:{enter:function(e){if(t&&e.directives&&t.some(function(e){return e.remove})&&e.directives&&e.directives.some(kr(t)))return e.arguments&&e.arguments.forEach(function(e){"Variable"===e.value.kind&&c.push({name:e.value.name.value})}),e.selectionSet&&Ar(e.selectionSet).forEach(function(e){u.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){l[e.name.value]=!0}},Directive:{enter:function(e){if(kr(t)(e))return null}}}));return e&&xr(c,function(e){return!!e.name&&!s[e.name]}).length&&(o=r=c,a=function(t){return o.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})},e=Sr(Li(e,{OperationDefinition:{enter:function(e){return n(n({},e),{variableDefinitions:e.variableDefinitions?e.variableDefinitions.filter(function(t){return!r.some(function(e){return e.name===t.variable.name.value})}):[]})}},Field:{enter:function(e){if(r.some(function(e){return e.remove})){var t=0;if(e.arguments&&e.arguments.forEach(function(e){a(e)&&(t+=1)}),1===t)return null}}},Argument:{enter:function(e){if(a(e))return null}}}))),e&&xr(u,function(e){return!!e.name&&!l[e.name]}).length&&(i=u,e=Sr(Li(e,{FragmentSpread:{enter:h},FragmentDefinition:{enter:h}}))),e;function h(t){if(i.some(function(e){return e.name===t.name.value}))return null}}var Cr=Object.assign(function(e){return Li(fr(e),{SelectionSet:{enter:function(e,t,i){if(!i||"OperationDefinition"!==i.kind){var r=e.selections;if(r&&!r.some(function(e){return dr(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))if(!(dr(i)&&i.directives&&i.directives.some(function(e){return"export"===e.name.value})))return n(n({},e),{selections:a(a([],r,!0),[_r],!1)})}}}})},{added:function(e){return e===_r}}),Or={test:function(e){var t="connection"===e.name.value;return!t||e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||__DEV__&&kn.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),t}};function Ar(e){var t=[];return e.selections.forEach(function(e){(dr(e)||pr(e))&&e.selectionSet?Ar(e.selectionSet).forEach(function(e){return t.push(e)}):"FragmentSpread"===e.kind&&t.push(e)}),t}function Ir(e){return"query"===br(e).operation?e:Li(e,{OperationDefinition:{enter:function(e){return n(n({},e),{operation:"query"})}}})}var Mr=Object.prototype.hasOwnProperty;function Pr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dr(e)}function Dr(e){var t=e[0]||{},n=e.length;if(1<n)for(var i=new Rr,r=1;r<n;++r)t=i.merge(t,e[r]);return t}var Nr=function(e,t,n){return this.merge(e[n],t[n])},Rr=function(){function e(e){this.reconciler=e=void 0===e?Nr:e,this.isObject=tr,this.pastCopies=new Set}return e.prototype.merge=function(i,r){for(var o=this,s=[],e=2;e<arguments.length;e++)s[e-2]=arguments[e];return tr(r)&&tr(i)?(Object.keys(r).forEach(function(e){var t,n;Mr.call(i,e)?(t=i[e],r[e]!==t&&(n=o.reconciler.apply(o,a([i,r,e],s,!1)))!==t&&((i=o.shallowCopyForMerge(i))[e]=n)):(i=o.shallowCopyForMerge(i))[e]=r[e]}),i):r},e.prototype.shallowCopyForMerge=function(e){if(tr(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):n({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}();function Lr(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e){if(e){if("string"==typeof e)return Fr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $r(e,t,n){return t&&jr(e.prototype,t),n&&jr(e,n),e}var zr=function(){return"function"==typeof Symbol},Vr=function(e){return zr()&&Boolean(Symbol[e])},qr=function(e){return Vr(e)?Symbol[e]:"@@"+e},Ur=(zr()&&!Vr("observable")&&(Symbol.observable=Symbol("observable")),qr("iterator")),Br=qr("observable"),Qr=qr("species");function Hr(e,t){e=e[t];if(null!=e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}}function Gr(e){e=e.constructor;return void 0!==(e=void 0!==e&&null===(e=e[Qr])?void 0:e)?e:io}function Wr(e){return e instanceof io}function Kr(e){Kr.log?Kr.log(e):setTimeout(function(){throw e})}function Yr(e){Promise.resolve().then(function(){try{e()}catch(e){Kr(e)}})}function Jr(e){var t,n=e._cleanup;if(void 0!==n&&(e._cleanup=void 0,n))try{"function"==typeof n?n():(t=Hr(n,"unsubscribe"))&&t.call(n)}catch(e){Kr(e)}}function Xr(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Zr(e,t,n){e._state="running";var i=e._observer;try{var r=Hr(i,t);switch(t){case"next":r&&r.call(i,n);break;case"error":if(Xr(e),!r)throw n;r.call(i,n);break;case"complete":Xr(e),r&&r.call(i)}}catch(e){Kr(e)}"closed"===e._state?Jr(e):"running"===e._state&&(e._state="ready")}function eo(i,e,t){if("closed"!==i._state){if("buffering"!==i._state)return"ready"!==i._state?(i._state="buffering",i._queue=[{type:e,value:t}],void Yr(function(){var e=i,t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(Zr(e,t[n].type,t[n].value),"closed"!==e._state);++n);}})):void Zr(i,e,t);i._queue.push({type:e,value:t})}}var to=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new no(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(Xr(this),Jr(this))},$r(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),no=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){eo(this._subscription,"next",e)},t.error=function(e){eo(this._subscription,"error",e)},t.complete=function(){eo(this._subscription,"complete")},$r(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),io=function(){function o(e){if(!(this instanceof o))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}var e=o.prototype;return e.subscribe=function(e){return new to(e="object"==typeof e&&null!==e?e:{next:e,error:arguments[1],complete:arguments[2]},this._subscriber)},e.forEach=function(r){var o=this;return new Promise(function(e,t){var n;function i(){n.unsubscribe(),e()}"function"==typeof r?n=o.subscribe({next:function(e){try{r(e,i)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e}):t(new TypeError(r+" is not a function"))})},e.map=function(n){var e=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");return new(Gr(this))(function(t){return e.subscribe({next:function(e){try{e=n(e)}catch(e){return t.error(e)}t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}})})},e.filter=function(n){var e=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");return new(Gr(this))(function(t){return e.subscribe({next:function(e){try{if(!n(e))return}catch(e){return t.error(e)}t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}})})},e.reduce=function(i){var e=this;if("function"!=typeof i)throw new TypeError(i+" is not a function");var t=Gr(this),r=1<arguments.length,o=!1,a=arguments[1];return new t(function(n){return e.subscribe({next:function(e){var t=!o;if(o=!0,!t||r)try{a=i(a,e)}catch(e){return n.error(e)}else a=e},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})})},e.concat=function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var a=Gr(this);return new a(function(n){var i,r=0;return function e(t){i=t.subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){r===o.length?(i=void 0,n.complete()):e(a.from(o[r++]))}})}(e),function(){i&&(i.unsubscribe(),i=void 0)}})},e.flatMap=function(o){var t=this;if("function"!=typeof o)throw new TypeError(o+" is not a function");var a=Gr(this);return new a(function(n){var i=[],e=t.subscribe({next:function(e){if(o)try{e=o(e)}catch(e){return n.error(e)}var t=a.from(e).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=i.indexOf(t);0<=e&&i.splice(e,1),r()}});i.push(t)},error:function(e){n.error(e)},complete:function(){r()}});function r(){e.closed&&0===i.length&&n.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),e.unsubscribe()}})},e[Br]=function(){return this},o.from=function(i){var e="function"==typeof this?this:o;if(null==i)throw new TypeError(i+" is not an object");var r=Hr(i,Br);if(r){var t=r.call(i);if(Object(t)!==t)throw new TypeError(t+" is not an object");return Wr(t)&&t.constructor===e?t:new e(function(e){return t.subscribe(e)})}if(Vr("iterator")&&(r=Hr(i,Ur)))return new e(function(n){Yr(function(){if(!n.closed){for(var e=Lr(r.call(i));!(t=e()).done;){var t=t.value;if(n.next(t),n.closed)return}n.complete()}})});if(Array.isArray(i))return new e(function(t){Yr(function(){if(!t.closed){for(var e=0;e<i.length;++e)if(t.next(i[e]),t.closed)return;t.complete()}})});throw new TypeError(i+" is not observable")},o.of=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new("function"==typeof this?this:o)(function(t){Yr(function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}})})},$r(o,null,[{key:Qr,get:function(){return this}}]),o}(),ro=(zr()&&Object.defineProperty(io,Symbol("extensions"),{value:{symbol:Br,hostReportError:Kr},configurable:!0}),function(){var e,t=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol;if("function"==typeof t)if(t.observable)t.observable;else{e="function"==typeof t.for?t.for("https://github.com/benlesh/symbol-observable"):t("https://github.com/benlesh/symbol-observable");try{t.observable=e}catch(e){}}}(),io.prototype),oo=(ro["@@observable"]||(ro["@@observable"]=function(){return this}),Object.prototype.toString);function so(e){return ao(e)}function ao(t,n){switch(oo.call(t)){case"[object Array]":if((n=n||new Map).has(t))return n.get(t);var i=t.slice(0);return n.set(t,i),i.forEach(function(e,t){i[t]=ao(e,n)}),i;case"[object Object]":if((n=n||new Map).has(t))return n.get(t);var r=Object.create(Object.getPrototypeOf(t));return n.set(t,r),Object.keys(t).forEach(function(e){r[e]=ao(t[e],n)}),r;default:return t}}function co(e){var n=new Set([e]);return n.forEach(function(t){tr(t)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(t)===t&&Object.getOwnPropertyNames(t).forEach(function(e){tr(t[e])&&n.add(t[e])})}),e}function lo(e){return __DEV__&&co(e),e}function uo(e,t,n){var i=[];e.forEach(function(e){return e[t]&&i.push(e)}),i.forEach(function(e){return e[t](n)})}function ho(u,h,d){return new io(function(i){var r=i.next,o=i.error,e=i.complete,a=0,s=!1,c={then:function(t){return new Promise(function(e){return e(t())})}};function t(n,t){return n?function(e){++a;function t(){return n(e)}c=c.then(t,t).then(function(e){--a,r&&r.call(i,e),s&&l.complete()},function(e){throw--a,e}).catch(function(e){o&&o.call(i,e)})}:function(e){return t&&t.call(i,e)}}var l={next:t(h,r),error:t(d,o),complete:function(){s=!0,a||e&&e.call(i)}},n=u.subscribe(l);return function(){return n.unsubscribe()}})}var po="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),fo="function"==typeof WeakSet,vo="function"==typeof Symbol&&"function"==typeof Symbol.for;function mo(t){function e(e){Object.defineProperty(t,e,{value:io})}return vo&&Symbol.species&&e(Symbol.species),e("@@species"),t}function yo(e){return e&&"function"==typeof e.then}var go=function(i){function e(e){var n=i.call(this,function(e){return n.addObserver(e),function(){return n.removeObserver(e)}})||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],uo(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout(function(){return t.unsubscribe()}),n.sub=null,n.latest=["error",e],n.reject(e),uo(n.observers,"error",e))},complete:function(){var e;null!==n.sub&&((e=n.sources.shift())?yo(e)?e.then(function(e){return n.sub=e.subscribe(n.handlers)}):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),uo(n.observers,"complete")))}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch(function(e){}),yo(e="function"==typeof e?[new io(e)]:e)?e.then(function(e){return n.start(e)},n.handlers.error):n.start(e),n}return t(e,i),e.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},e.prototype.deliverLastMessage=function(e){var t,n;this.latest&&((n=e[t=this.latest[0]])&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete())},e.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},e.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},e.prototype.cleanup=function(e){function t(){i||(i=!0,n.observers.delete(r),e())}var n=this,i=!1,r={next:t,error:t,complete:t},o=this.addCount;this.addObserver(r),this.addCount=o},e}(io);function bo(e){return Array.isArray(e)&&0<e.length}function wo(e){return e.errors&&0<e.errors.length||!1}function xo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Object.create(null);return e.forEach(function(n){n&&Object.keys(n).forEach(function(e){var t=n[e];void 0!==t&&(i[e]=t)})}),i}mo(go);var _o=new Map;function Eo(e){var t=_o.get(e)||1;return _o.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function So(t){return new io(function(e){e.error(t)})}var ko=function(e,t,n){n=new Error(n);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n};function To(e,t){return t?t(e):io.of()}function Co(e){return"function"==typeof e?new Io(e):e}function Oo(e){return e.request.length<=1}var Ao=function(n){function e(e,t){e=n.call(this,e)||this;return e.link=t,e}return t(e,n),e}(Error),Io=function(){function o(e){e&&(this.request=e)}return o.empty=function(){return new o(function(){return io.of()})},o.from=function(e){return 0===e.length?o.empty():e.map(Co).reduce(function(e,t){return e.concat(t)})},o.split=function(n,e,t){var i=Co(e),r=Co(t||new o(To));return Oo(i)&&Oo(r)?new o(function(e){return n(e)?i.request(e)||io.of():r.request(e)||io.of()}):new o(function(e,t){return n(e)?i.request(e,t)||io.of():r.request(e,t)||io.of()})},o.execute=function(e,t){return e.request((e=t.context,t=function(e){e={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return e.operationName||(e.operationName="string"!=typeof e.query?mr(e.query)||void 0:""),e}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(t.indexOf(r)<0)throw __DEV__?new Sn("illegal argument: ".concat(r)):new Sn(24)}return e}(t)),i=n({},e),Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){i=n(n({},i),"function"==typeof e?e(i):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return n({},i)}}),t))||io.of();var i},o.concat=function(e,t){var n=Co(e);if(Oo(n))return __DEV__&&kn.warn(new Ao("You are calling concat on a terminating link, which will have no effect",n)),n;var i=Co(t);return Oo(i)?new o(function(e){return n.request(e,function(e){return i.request(e)||io.of()})||io.of()}):new o(function(e,t){return n.request(e,function(e){return i.request(e,t)||io.of()})||io.of()})},o.prototype.split=function(e,t,n){return this.concat(o.split(e,t,n||new o(To)))},o.prototype.concat=function(e){return o.concat(this,e)},o.prototype.request=function(e,t){throw __DEV__?new Sn("request is not implemented"):new Sn(19)},o.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},o.prototype.setOnError=function(e){return this.onError=e,this},o}(),Mo=Io.split,Po=Io.execute,Do=Object.prototype.hasOwnProperty,No=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){t=__DEV__?new Sn("Network request failed. ".concat(t," is not serializable: ").concat(e.message)):new Sn(21);throw t.parseError=e,t}return n},Ro={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Lo=function(e,t){return t(e)};function Fo(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o={},a={},s=(i.forEach(function(e){o=n(n(n({},o),e.options),{headers:n(n({},o.headers),jo(e.headers))}),e.credentials&&(o.credentials=e.credentials),a=n(n({},a),e.http)}),e.operationName),c=e.extensions,l=e.variables,u=e.query,s={operationName:s,variables:l};return a.includeExtensions&&(s.extensions=c),a.includeQuery&&(s.query=t(u,ji)),{options:o,body:s}}function jo(t){var n;return t&&(n=Object.create(null),Object.keys(Object(t)).forEach(function(e){n[e.toLowerCase()]=t[e]}),n)}var $o=An(function(){return fetch}),zo=function(e){var t=(e=void 0===e?{}:e).uri,d=void 0===t?"/graphql":t,p=e.fetch,t=e.print,f=void 0===t?Lo:t,t=e.includeExtensions,m=e.useGETForQueries,r=e.includeUnusedVariables,v=void 0!==r&&r,r=i(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);if(__DEV__&&(!(p||$o)&&"undefined"==typeof fetch))throw __DEV__?new Sn("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new Sn(20);var g={http:{includeExtensions:t},options:r.fetchOptions,credentials:r.credentials,headers:r.headers};return new Io(function(i){r=d;var e=(t=i).getContext().uri||("function"==typeof r?r(t):r||"/graphql"),t=i.getContext(),r={};t.clientAwareness&&(s=(c=t.clientAwareness).name,c=c.version,s&&(r["apollographql-client-name"]=s),c&&(r["apollographql-client-version"]=c));var o,a,s=n(n({},r),t.headers),c={http:t.http,options:t.fetchOptions,credentials:t.credentials,headers:s},r=Fo(i,f,Ro,g,c),l=r.options,u=r.body;if(u.variables&&!v&&(a=new Set(Object.keys(u.variables)),Li(i.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&a.delete(e.name.value)}}),a.size&&(u.variables=n({},u.variables),a.forEach(function(e){delete u.variables[e]}))),l.signal||(s=(t=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}()).controller,c=t.signal,(o=s)&&(l.signal=c)),m&&!i.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(l.method="GET"),"GET"===l.method){var r=function(e,t){function n(e,t){i.push("".concat(e,"=").concat(encodeURIComponent(t)))}var i=[];if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var r=void 0;try{r=No(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",r)}if(t.extensions){r=void 0;try{r=No(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",r)}var t="",r=e,o=e.indexOf("#"),o=(-1!==o&&(t=e.substr(o),r=e.substr(0,o)),-1===r.indexOf("?")?"?":"&");return{newURI:r+o+i.join("&")+t}}(e,u),t=r.newURI,h=r.parseError;if(h)return So(h);e=t}else try{l.body=No(u,"Payload")}catch(h){return So(h)}return new io(function(t){var n;return(p||An(function(){return fetch})||$o)(e,l).then(function(e){return i.setContext({response:e}),e}).then((n=i,function(i){return i.text().then(function(t){try{return JSON.parse(t)}catch(e){var n=e;throw n.name="ServerParseError",n.response=i,n.statusCode=i.status,n.bodyText=t,n}}).then(function(e){return 300<=i.status&&ko(i,e,"Response not successful: Received status code ".concat(i.status)),Array.isArray(e)||Do.call(e,"data")||Do.call(e,"errors")||ko(i,e,"Server response was missing for query '".concat(Array.isArray(n)?n.map(function(e){return e.operationName}):n.operationName,"'.")),e})})).then(function(e){return t.next(e),t.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e))}),function(){o&&o.abort()}})})},Vo=function(n){function e(e){var t=n.call(this,zo(e=void 0===e?{}:e).request)||this;return t.options=e,t}return t(e,n),e}(Io),qo=Object.prototype,Uo=qo.toString,Bo=qo.hasOwnProperty,Qo=Function.prototype.toString,Ho=new Map;function Go(e,t){try{return Wo(e,t)}finally{Ho.clear()}}function Wo(e,t){if(e===t)return!0;var n,i=Uo.call(e);if(i!==Uo.call(t))return!1;switch(i){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(Xo(e,t))return!0;var r=Ko(e),o=Ko(t),a=r.length;if(a!==o.length)return!1;for(var s=0;s<a;++s)if(!Bo.call(t,r[s]))return!1;for(s=0;s<a;++s){var c=r[s];if(!Wo(e[c],t[c]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(Xo(e,t))return!0;for(var l=e.entries(),u="[object Map]"===i;;){var h=l.next();if(h.done)break;var h=h.value,d=h[0],h=h[1];if(!t.has(d))return!1;if(u&&!Wo(h,t.get(d)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var p=e.byteLength;if(p===t.byteLength)for(;p--&&e[p]===t[p];);return-1===p;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":o=Qo.call(e);return o===Qo.call(t)&&!(0<=(n=o.length-Jo.length)&&o.indexOf(Jo,n)===n)}return!1}function Ko(e){return Object.keys(e).filter(Yo,e)}function Yo(e){return void 0!==this[e]}var Jo="{ [native code] }";function Xo(e,t){var n=Ho.get(e);if(n){if(n.has(t))return!0}else Ho.set(e,n=new Set);return n.add(t),!1}var Zo=function(){return Object.create(null)},es=Array.prototype,ts=es.forEach,ns=es.slice,is=function(){function i(e,t){void 0===t&&(t=Zo),this.weakness=e=void 0===e?!0:e,this.makeData=t}return i.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},i.prototype.lookupArray=function(e){var t=this;return ts.call(e,function(e){return t=t.getChildTrie(e)}),t.data||(t.data=this.makeData(ns.call(e)))},i.prototype.getChildTrie=function(e){var t=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return 1}}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=t.get(e);return n||t.set(e,n=new i(this.weakness,this.makeData)),n},i}(),rs=null,os={},ss=1,as=Array,cs=as["@wry/context:Slot"]||function(){t.prototype.hasValue=function(){for(var e=rs;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===os)break;return e!==rs&&(rs.slots[this.id]=t),!0}return rs&&(rs.slots[this.id]=os),!1},t.prototype.getValue=function(){if(this.hasValue())return rs.slots[this.id]},t.prototype.withValue=function(e,t,n,i){var r;(r={__proto__:null})[this.id]=e;e=rs;rs={parent:e,slots:r};try{return t.apply(i,n)}finally{rs=e}},t.bind=function(t){var n=rs;return function(){var e=rs;try{return rs=n,t.apply(this,arguments)}finally{rs=e}}},t.noContext=function(e,t,n){if(!rs)return e.apply(n,t);var i=rs;try{return rs=null,e.apply(n,t)}finally{rs=i}};var e=t;function t(){this.id=["slot",ss++,Date.now(),Math.random().toString(36).slice(2)].join(":")}try{Object.defineProperty(as,"@wry/context:Slot",{value:as["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function ls(){}cs.bind,cs.noContext;var us,hs=function(){function e(e,t){void 0===t&&(t=ls),this.max=e=void 0===e?1/0:e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){e=this.getNode(e);return e&&e.value},e.prototype.getNode=function(e){var t,n,e=this.map.get(e);return e&&e!==this.newest&&(t=e.older,(n=e.newer)&&(n.older=t),t&&(t.newer=n),e.older=this.newest,(e.older.newer=e).newer=null,(this.newest=e)===this.oldest&&(this.oldest=n)),e},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),ds=new cs,ps=Object.prototype.hasOwnProperty,fs=void 0===(us=Array.from)?function(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}:us;function vs(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var ms=[];function ys(e,t){if(!e)throw new Error(t||"assertion failure")}function gs(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var bs=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(1===this.value.length&&!_s(this))return ws(this),this.value[0]},t.prototype.recompute=function(e){return ys(!this.recomputing,"already recomputing"),ws(this),_s(this)?(e=e,As(t=this),ds.withValue(t,xs,[t,e]),function(e,t){if("function"==typeof e.subscribe)try{vs(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),0}return 1}(t,e)&&((e=t).dirty=!1,_s(e)||Ss(e)),gs(t.value)):gs(this.value);var t},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Es(this),vs(this))},t.prototype.dispose=function(){var n=this;this.setDirty(),As(this),ks(this,function(e,t){e.setDirty(),Is(e,n)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=ms.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var t=this;this.deps&&(fs(this.deps).forEach(function(e){return e.delete(t)}),this.deps.clear(),ms.push(this.deps),this.deps=null)},t.count=0,t}();function ws(e){var t=ds.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),(_s(e)?Ts:Cs)(t,e),t}function xs(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function _s(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Es(e){ks(e,Ts)}function Ss(e){ks(e,Cs)}function ks(e,t){var n=e.parents.size;if(n)for(var i=fs(e.parents),r=0;r<n;++r)t(i[r],e)}function Ts(e,t){ys(e.childValues.has(t)),ys(_s(t));var n=!_s(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=ms.pop()||new Set;e.dirtyChildren.add(t),n&&Es(e)}function Cs(e,t){ys(e.childValues.has(t)),ys(!_s(t));var n,i,r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):(n=t.value,0<(i=r.length)&&i===n.length&&r[i-1]===n[i-1]||e.setDirty()),Os(e,t),_s(e)||Ss(e)}function Os(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(ms.length<100&&ms.push(n),e.dirtyChildren=null))}function As(n){0<n.childValues.size&&n.childValues.forEach(function(e,t){Is(n,t)}),n.forgetDeps(),ys(null===n.dirtyChildren)}function Is(e,t){t.parents.delete(e),e.childValues.delete(t),Os(e,t)}var Ms={setDirty:!0,dispose:!0,forget:!0};function Ps(e){var r=new Map,i=e&&e.subscribe;function t(e){var t,n=ds.getValue();n&&((t=r.get(e))||r.set(e,t=new Set),n.dependOn(t),"function"==typeof i&&(vs(t),t.unsubscribe=i(e)))}return t.dirty=function(e,t){var n,i=r.get(e);i&&(n=t&&ps.call(Ms,t)?t:"setDirty",fs(i).forEach(function(e){return e[n]()}),r.delete(e),vs(i))},t}function Ds(){var e=new is("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}Ds();var Ns=new Set;function Rs(i,r){void 0===r&&(r=Object.create(null));function e(){var e=s.apply(null,a?a.apply(null,arguments):arguments);if(void 0===e)return i.apply(null,arguments);var t=o.get(e),n=(t||(o.set(e,t=new bs(i)),t.subscribe=r.subscribe,t.forget=function(){return o.delete(e)}),t.recompute(Array.prototype.slice.call(arguments)));return o.set(e,t),Ns.add(o),ds.hasValue()||(Ns.forEach(function(e){return e.clean()}),Ns.clear()),n}var o=new hs(r.max||Math.pow(2,16),function(e){return e.dispose()}),a=r.keyArgs,s=r.makeCacheKey||Ds();function t(e){e=o.get(e);e&&e.setDirty()}function n(e){e=o.get(e);if(e)return e.peek()}function c(e){return o.delete(e)}return Object.defineProperty(e,"size",{get:function(){return o.map.size},configurable:!1,enumerable:!1}),e.dirtyKey=t,e.dirty=function(){t(s.apply(null,arguments))},e.peekKey=n,e.peek=function(){return n(s.apply(null,arguments))},e.forgetKey=c,e.forget=function(){return c(s.apply(null,arguments))},e.makeCacheKey=s,e.getKey=a?function(){return s.apply(null,a.apply(null,arguments))}:s,Object.freeze(e)}var Ls=function(){function e(){this.getFragmentDoc=Rs(Xi)}return e.prototype.batch=function(e){var t,n=this,i="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction(function(){return t=e.update(n)},i),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(n(n({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(n(n({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,e=i(e,["id","data"]);return this.write(Object.assign(e,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,o=e.fragmentName,e=i(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(e,{query:this.getFragmentDoc(r,o),dataId:t,result:n}))},e.prototype.updateQuery=function(r,o){return this.batch({update:function(e){var t=e.readQuery(r),i=o(t);return null==i?t:(e.writeQuery(n(n({},r),{data:i})),i)}})},e.prototype.updateFragment=function(r,o){return this.batch({update:function(e){var t=e.readFragment(r),i=o(t);return null==i?t:(e.writeFragment(n(n({},r),{data:i})),i)}})},e}(),Fs=function(e,t,n,i){this.message=e,this.path=t,this.query=n,this.variables=i},js=Object.prototype.hasOwnProperty;function $s(e,t){var n=e.__typename,i=e.id,e=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==i?{id:i}:void 0!==e?{_id:e}:void 0),void 0!==(i=void 0===i?e:i)))return"".concat(n,":").concat("number"==typeof i||"string"==typeof i?i:JSON.stringify(i))}var zs={dataIdFromObject:$s,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Vs(e){e=e.canonizeResults;return void 0===e?zs.canonizeResults:e}var qs=/^[_a-z][_0-9a-z]*/i;function Us(e){var t=e.match(qs);return t?t[0]:e}function Bs(t,n,i){return!!tr(n)&&(Array.isArray(n)?n.every(function(e){return Bs(t,e,i)}):t.selections.every(function(e){var t;return!dr(e)||!Ki(e,i)||(t=ur(e),js.call(n,t)&&(!e.selectionSet||Bs(e.selectionSet,n[t],i)))}))}function Qs(e){return tr(e)&&!ir(e)&&!Array.isArray(e)}var Hs=Object.create(null),Gs=function(){return Hs},Ws=Object.create(null),Ks=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return lo(ir(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return ir(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return nr(e);if(ir(e))return e;var n,i=r.policies.identify(e)[0];return i?(n=nr(i),t&&r.merge(i,e),n):void 0}}return e.prototype.toObject=function(){return n({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),js.call(this.data,e)){var n=this.data[e];if(n&&js.call(n,t))return n[t]}return"__typename"===t&&js.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Zs?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),js.call(this.data,e)?this.data[e]:this instanceof Zs?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,i,r,o=this,a=(ir(e)&&(e=e.__ref),ir(t)&&(t=t.__ref),"string"==typeof e?this.lookup(n=e):e),e="string"==typeof t?this.lookup(n=t):t;e&&(__DEV__?kn("string"==typeof n,"store.merge expects a string ID"):kn("string"==typeof n,1),i=new Rr(ta).merge(a,e),(this.data[n]=i)!==a&&(delete this.refs[n],this.group.caching)&&(r=Object.create(null),a||(r.__exists=1),Object.keys(e).forEach(function(e){var t;a&&a[e]===i[e]||(r[e]=1,(t=Us(e))===e||o.policies.hasKeyArgs(i.__typename,t)||(r[t]=1),void 0!==i[e]||o instanceof Zs||delete i[e])}),!r.__typename||a&&a.__typename||this.policies.rootTypenamesById[n]!==i.__typename||delete r.__typename,Object.keys(r).forEach(function(e){return o.group.dirty(n,e)})))},e.prototype.modify=function(o,a){var s=this,c=this.lookup(o);if(c){var l=Object.create(null),u=!1,h=!0,d={DELETE:Hs,INVALIDATE:Ws,isReference:ir,toReference:this.toReference,canRead:this.canRead,readField:function(e,t){return s.policies.readField("string"==typeof e?{fieldName:e,from:t||nr(o)}:e,{store:s})}};if(Object.keys(c).forEach(function(e){var t,i=Us(e),r=c[e];void 0!==r&&((t="function"==typeof a?a:a[e]||a[i])&&((t=t===Gs?Hs:t(lo(r),n(n({},d),{fieldName:i,storeFieldName:e,storage:s.getStorage(o,e)})))===Ws?s.group.dirty(o,e):(t=t===Hs?void 0:t)!==r&&(l[e]=t,u=!0,r=t)),void 0!==r&&(h=!1))}),u)return this.merge(o,l),h&&(this instanceof Zs?this.data[o]=void 0:delete this.data[o],this.group.dirty(o,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var i=this.lookup(e);return!!i&&(i=this.getFieldValue(i,"__typename"),i=t&&n?this.policies.getStoreFieldName({typename:i,fieldName:t,args:n}):t,this.modify(e,i?((n={})[i]=Gs,n):Gs))},e.prototype.evict=function(e,t){var n=!1;return e.id&&(js.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof Zs&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,e=this.toObject(),n=[];return this.getRootIdSet().forEach(function(e){js.call(t.policies.rootTypenamesById,e)||n.push(e)}),n.length&&(e.__META={extraRootIds:n.sort()}),e},e.prototype.replace=function(t){var e,n,r=this;Object.keys(this.data).forEach(function(e){t&&js.call(t,e)||r.delete(e)}),t&&(e=t.__META,n=i(t,["__META"]),Object.keys(n).forEach(function(e){r.merge(e,n[e])}),e&&e.extraRootIds.forEach(this.retain,this))},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){var t;return 0<this.rootIds[e]?((t=--this.rootIds[e])||delete this.rootIds[e],t):0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Zs?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var t=this,n=this.getRootIdSet(),i=this.toObject(),e=(n.forEach(function(e){js.call(i,e)&&(Object.keys(t.findChildRefIds(e)).forEach(n.add,n),delete i[e])}),Object.keys(i));if(e.length){for(var r=this;r instanceof Zs;)r=r.parent;e.forEach(function(e){return r.delete(e)})}return e},e.prototype.findChildRefIds=function(e){if(!js.call(this.refs,e)){var n=this.refs[e]=Object.create(null),t=this.data[e];if(!t)return n;var i=new Set([t]);i.forEach(function(t){ir(t)&&(n[t.__ref]=!0),tr(t)&&Object.keys(t).forEach(function(e){e=t[e];tr(e)&&i.add(e)})})}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),Ys=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Ps():null,this.keyMaker=new is(po)},e.prototype.depend=function(e,t){var n;this.d&&(this.d(Js(e,t)),(n=Us(t))!==t&&this.d(Js(e,n)),this.parent&&this.parent.depend(e,t))},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(Js(e,t),"__exists"===t?"forget":"setDirty")},e}();function Js(e,t){return t+"#"+e}function Xs(e,t){na(e)&&e.group.depend(t,"__exists")}!function(e){t(r,i=e),r.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)};var i,n=r;function r(e){var t=e.policies,n=e.resultCaching,e=e.seed,t=i.call(this,t,new Ys(void 0===n||n))||this;return t.stump=new ea(t),t.storageTrie=new is(po),e&&t.replace(e),t}e.Root=n}(Ks=Ks||{});var Zs=function(o){function i(e,t,n,i){var r=o.call(this,t.policies,i)||this;return r.id=e,r.parent=t,r.replay=n,r.group=i,n(r),r}return t(i,o),i.prototype.addLayer=function(e,t){return new i(e,this,t,this.group)},i.prototype.removeLayer=function(e){var r=this,o=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(t){var n=r.data[t],i=o.lookup(t);i?n?n!==i&&Object.keys(n).forEach(function(e){Go(n[e],i[e])||r.group.dirty(t,e)}):(r.group.dirty(t,"__exists"),Object.keys(i).forEach(function(e){r.group.dirty(t,e)})):r.delete(t)}),o):o===this.parent?this:o.addLayer(this.id,this.replay)},i.prototype.toObject=function(){return n(n({},this.parent.toObject()),this.data)},i.prototype.findChildRefIds=function(e){var t=this.parent.findChildRefIds(e);return js.call(this.data,e)?n(n({},t),o.prototype.findChildRefIds.call(this,e)):t},i.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},i}(Ks),ea=function(n){function e(e){return n.call(this,"EntityStore.Stump",e,function(){},new Ys(e.group.caching,e.group))||this}return t(e,n),e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Zs);function ta(e,t,n){e=e[n],t=t[n];return Go(e,t)?e:t}function na(e){return!!(e instanceof Ks&&e.group.caching)}var ia,ra,oa=function(){function e(){this.known=new(fo?WeakSet:Set),this.pool=new is(po),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return tr(e)&&this.known.has(e)},e.prototype.pass=function(e){var t;return tr(e)?(t=tr(t=e)?Array.isArray(t)?t.slice(0):n({__proto__:Object.getPrototypeOf(t)},t):t,this.passes.set(t,e),t):e},e.prototype.admit=function(t){var n=this;if(tr(t)){var e=this.passes.get(t);if(e)return e;switch(Object.getPrototypeOf(t)){case Array.prototype:if(this.known.has(t))return t;var i=t.map(this.admit,this);return(a=this.pool.lookupArray(i)).array||(this.known.add(a.array=i),__DEV__&&Object.freeze(i)),a.array;case null:case Object.prototype:if(this.known.has(t))return t;var i=Object.getPrototypeOf(t),r=[i],o=this.sortedKeys(t);r.push(o.json);var a,s,c=r.length;return o.sorted.forEach(function(e){r.push(n.admit(t[e]))}),(a=this.pool.lookupArray(r)).object||(s=a.object=Object.create(i),this.known.add(s),o.sorted.forEach(function(e,t){s[e]=r[c+t]}),__DEV__&&Object.freeze(s)),a.object}}return t},e.prototype.sortedKeys=function(e){var t,e=Object.keys(e),n=this.pool.lookupArray(e);return n.keys||(e.sort(),t=JSON.stringify(e),(n.keys=this.keysByJSON.get(t))||this.keysByJSON.set(t,n.keys={sorted:e,json:t})),n.keys},e}(),sa=Object.assign(function(e){var t,n;return tr(e)?(void 0===ia&&aa(),t=ia.admit(e),void 0===(n=ra.get(t))&&ra.set(t,n=JSON.stringify(t)),n):JSON.stringify(e)},{reset:aa});function aa(){ia=new oa,ra=new(po?WeakMap:Map)}function ca(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var la=function(){function e(e){var o=this;this.knownResults=new(po?WeakMap:Map),this.config=xo(e,{addTypename:!1!==e.addTypename,canonizeResults:Vs(e)}),this.canon=e.canon||new oa,this.executeSelectionSet=Rs(function(e){var t=e.context.canonizeResults,i=ca(e),r=(i[3]=!t,(r=o.executeSelectionSet).peek.apply(r,i));return r?t?n(n({},r),{result:o.canon.admit(r.result)}):r:(Xs(e.context.store,e.enclosingRef.__ref),o.execSelectionSetImpl(e))},{max:this.config.resultCacheMaxSize,keyArgs:ca,makeCacheKey:function(e,t,n,i){if(na(n.store))return n.store.makeCacheKey(e,ir(t)?t.__ref:t,n.varString,i)}}),this.executeSubSelectedArray=Rs(function(e){return Xs(e.context.store,e.enclosingRef.__ref),o.execSubSelectedArrayImpl(e)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,e=e.context;if(na(e.store))return e.store.makeCacheKey(t,n,e.varString)}})}return e.prototype.resetCanon=function(){this.canon=new oa},e.prototype.diffQueryAgainstStore=function(e){var t,i=e.store,r=e.query,o=e.rootId,o=void 0===o?"ROOT_QUERY":o,a=e.variables,s=e.returnPartialData,s=void 0===s||s,e=e.canonizeResults,e=void 0===e?this.config.canonizeResults:e,c=this.config.cache.policies,a=n(n({},wr(gr(r))),a),o=nr(o),l=new Rr,o=this.executeSelectionSet({selectionSet:br(r).selectionSet,objectOrReference:o,enclosingRef:o,context:{store:i,query:r,policies:c,variables:a,varString:sa(a),canonizeResults:e,fragmentMap:Zi(yr(r)),merge:function(e,t){return l.merge(e,t)}}});if(o.missing&&(t=[new Fs(ua(o.missing),o.missing,r,a)],!s))throw t[0];return{result:o.result,complete:!t,missing:t}},e.prototype.isFresh=function(e,t,n,i){if(na(i.store)&&this.knownResults.get(e)===n){n=this.executeSelectionSet.peek(n,t,i,this.canon.isKnown(e));if(n&&e===n.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var r=this,t=e.selectionSet,o=e.objectOrReference,a=e.enclosingRef,s=e.context;if(ir(o)&&!s.policies.rootTypenamesById[o.__ref]&&!s.store.has(o.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(o.__ref," object")};var c,l=s.variables,u=s.policies,h=s.store.getFieldValue(o,"__typename"),d={};function p(e,t){var n;return e.missing&&(c=s.merge(c,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof h&&!u.rootIdsByTypename[h]&&(d={__typename:h});var f=new Set(t.selections),e=(f.forEach(function(e){var t,n,i;Ki(e,l)&&(dr(e)?(n=u.readField({fieldName:e.name.value,field:e,variables:s.variables,from:o},s),i=ur(e),void 0===n?Cr.added(e)||(c=s.merge(c,((t={})[i]="Can't find field '".concat(e.name.value,"' on ").concat(ir(o)?o.__ref+" object":"object "+JSON.stringify(o,null,2)),t))):Array.isArray(n)?n=p(r.executeSubSelectedArray({field:e,array:n,enclosingRef:a,context:s}),i):e.selectionSet?null!=n&&(n=p(r.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:n,enclosingRef:ir(n)?n:a,context:s}),i)):s.canonizeResults&&(n=r.canon.pass(n)),void 0!==n&&(d=s.merge(d,((t={})[i]=n,t)))):(i=er(e,s.fragmentMap))&&u.fragmentMatches(i,h)&&i.selectionSet.selections.forEach(f.add,f))}),{result:d,missing:c}),e=s.canonizeResults?this.canon.admit(e):lo(e);return e.result&&this.knownResults.set(e.result,t),e},e.prototype.execSubSelectedArrayImpl=function(e){var i,n=this,a=e.field,t=e.array,s=e.enclosingRef,c=e.context;function l(e,t){var n;return e.missing&&(i=c.merge(i,((n={})[t]=e.missing,n))),e.result}return t=(t=a.selectionSet?t.filter(c.store.canRead):t).map(function(e,t){return null===e?null:Array.isArray(e)?l(n.executeSubSelectedArray({field:a,array:e,enclosingRef:s,context:c}),t):a.selectionSet?l(n.executeSelectionSet({selectionSet:a.selectionSet,objectOrReference:e,enclosingRef:ir(e)?e:s,context:c}),t):(__DEV__&&(i=c.store,(r=a).selectionSet||(o=new Set([e])).forEach(function(e){var t,n;tr(e)&&(__DEV__?kn(!ir(e),"Missing selection set for object of type ".concat((t=i,ir(n=e)?t.get(n.__ref,"__typename"):n&&n.__typename)," returned for query field ").concat(r.name.value)):kn(!ir(e),5),Object.values(e).forEach(o.add,o))})),e);var i,r,o}),{result:c.canonizeResults?this.canon.admit(t):t,missing:i}},e}();function ua(e){try{JSON.stringify(e,function(e,t){if("string"==typeof t)throw t;return t})}catch(e){return e}}var ha=new cs,da=new WeakMap;function pa(e){var t=da.get(e);return t||da.set(e,t={vars:new Set,dep:Ps()}),t}function fa(t){pa(t).vars.forEach(function(e){return e.forgetCache(t)})}function va(n){function i(e){var t;return 0<arguments.length?n!==e&&(n=e,r.forEach(function(e){pa(e).dep.dirty(i),ma(e)}),t=Array.from(o),o.clear(),t.forEach(function(e){return e(n)})):(t=ha.getValue())&&(a(t),pa(t).dep(i)),n}var r=new Set,o=new Set,a=(i.onNextChange=function(e){return o.add(e),function(){o.delete(e)}},i.attachCache=function(e){return r.add(e),pa(e).vars.add(i),i});return i.forgetCache=function(e){return r.delete(e)},i}function ma(e){e.broadcastWatches&&e.broadcastWatches()}var ya=Object.create(null);function ga(e){e=JSON.stringify(e);return ya[e]||(ya[e]=Object.create(null))}function ba(t){var e=ga(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,i){function r(e,t){return i.readField(t,e)}var e=i.keyObject=xa(t,function(e){var t=Sa(i.storeObject,e,r);return void 0===t&&n!==i.storeObject&&js.call(n,e[0])&&(t=Sa(n,e,Ea)),__DEV__?kn(void 0!==t,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):kn(void 0!==t,2),t});return"".concat(i.typename,":").concat(JSON.stringify(e))})}function wa(n){var e=ga(n);return e.keyArgsFn||(e.keyArgsFn=function(o,e){var a=e.field,s=e.variables,e=e.fieldName,t=xa(n,function(e){var t,n=e[0],i=n.charAt(0);if("@"!==i)if("$"!==i){if(o)return Sa(o,e)}else{var r,i=n.slice(1);if(s&&js.call(s,i))return(r=e.slice(0))[0]=i,Sa(s,r)}else if(a&&bo(a.directives))return t=n.slice(1),(r=(i=a.directives.find(function(e){return e.name.value===t}))&&lr(i,s))&&Sa(r,e.slice(1))}),t=JSON.stringify(t);return!o&&"{}"===t||(e+=":"+t),e})}function xa(e,o){var a=new Rr;return _a(e).reduce(function(e,t){var n,i=o(t);if(void 0!==i){for(var r=t.length-1;0<=r;--r)(n={})[t[r]]=i,i=n;e=a.merge(e,i)}return e},Object.create(null))}function _a(n){var i,r,e=ga(n);return e.paths||(i=e.paths=[],r=[],n.forEach(function(e,t){Array.isArray(e)?(_a(e).forEach(function(e){return i.push(r.concat(e))}),r.length=0):(r.push(e),Array.isArray(n[t+1])||(i.push(r.slice(0)),r.length=0))})),e.paths}function Ea(e,t){return e[t]}function Sa(e,t,i){return i=i||Ea,ka(t.reduce(function t(e,n){return Array.isArray(e)?e.map(function(e){return t(e,n)}):e&&i(e,n)},e))}function ka(t){return tr(t)?Array.isArray(t)?t.map(ka):xa(Object.keys(t).sort(),function(e){return Sa(t,e)}):t}function Ta(e){return void 0!==e.args?e.args:e.field?lr(e.field,e.variables):null}sr.setStringify(sa);var Ca=function(){},Oa=function(e,t){return t.fieldName},Aa=function(e,t,n){return(0,n.mergeObjects)(e,t)},Ia=function(e,t){return t},Ma=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=n({dataIdFromObject:$s},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var i=this,r=t&&(t.typename||(null==(r=t.storeObject)?void 0:r.__typename))||e.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,a=t&&t.storeObject||e,s=n(n({},t),{typename:r,storeObject:a,readField:t&&t.readField||function(){var e=Da(arguments,a);return i.readField(e,{store:i.cache.data,variables:e.variables})}}),t=r&&this.getTypePolicy(r),c=t&&t.keyFn||this.config.dataIdFromObject;c;){var l=c(e,s);if(!Array.isArray(l)){o=l;break}c=ba(l)}return o=o?String(o):void 0,s.keyObject?[o,s.keyObject]:[o]},e.prototype.addTypePolicies=function(a){var s=this;Object.keys(a).forEach(function(e){var t=a[e],n=t.queryType,r=t.mutationType,o=t.subscriptionType,t=i(t,["queryType","mutationType","subscriptionType"]);n&&s.setRootTypename("Query",e),r&&s.setRootTypename("Mutation",e),o&&s.setRootTypename("Subscription",e),js.call(s.toBeAdded,e)?s.toBeAdded[e].push(t):s.toBeAdded[e]=[t]})},e.prototype.updateTypePolicy=function(r,e){var o=this,t=this.getTypePolicy(r),n=e.keyFields,a=e.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?Aa:!1===t?Ia:e.merge}s(t,e.merge),t.keyFn=!1===n?Ca:Array.isArray(n)?ba(n):"function"==typeof n?n:t.keyFn,a&&Object.keys(a).forEach(function(e){var t,n,i=o.getFieldPolicy(r,e,!0),e=a[e];"function"==typeof e?i.read=e:(t=e.keyArgs,n=e.read,e=e.merge,i.keyFn=!1===t?Oa:Array.isArray(t)?wa(t):"function"==typeof t?t:i.keyFn,"function"==typeof n&&(i.read=n),s(i,e)),i.read&&i.merge&&(i.keyFn=i.keyFn||Oa)})},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];t!==i&&(__DEV__?kn(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):kn(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var i=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){i.getSupertypeSet(n,!0),e[n].forEach(function(e){i.getSupertypeSet(e,!0).add(n);var t=e.match(qs);t&&t[0]===e||i.fuzzySubtypes.set(e,new RegExp(e))})})},e.prototype.getTypePolicy=function(t){var n,r=this,e=(js.call(this.typePolicies,t)||((n=this.typePolicies[t]=Object.create(null)).fields=Object.create(null),(e=this.supertypeMap.get(t))&&e.size&&e.forEach(function(e){var e=r.getTypePolicy(e),t=e.fields,e=i(e,["fields"]);Object.assign(n,e),Object.assign(n.fields,t)})),this.toBeAdded[t]);return e&&e.length&&e.splice(0).forEach(function(e){r.updateTypePolicy(t,e)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(e,t,n){if(e)return(e=this.getTypePolicy(e).fields)[t]||n&&(e[t]=Object.create(null))},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,n,t,i){var r=this;if(!e.typeCondition)return!0;if(!n)return!1;var o=e.typeCondition.name.value;if(n===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o)){function a(e){e=r.getSupertypeSet(e,!1);e&&e.size&&c.indexOf(e)<0&&c.push(e)}for(var s=this.getSupertypeSet(n,!0),c=[s],l=!(!t||!this.fuzzySubtypes.size),u=!1,h=0;h<c.length;++h){var d=c[h];if(d.has(o))return s.has(o)||(u&&__DEV__&&kn.warn("Inferring subtype ".concat(n," of supertype ").concat(o)),s.add(o)),!0;d.forEach(a),l&&h===c.length-1&&Bs(e.selectionSet,t,i)&&(u=!(l=!1),this.fuzzySubtypes.forEach(function(e,t){e=n.match(e);e&&e[0]===n&&a(t)}))}}return!1},e.prototype.hasKeyArgs=function(e,t){e=this.getFieldPolicy(e,t,!1);return!(!e||!e.keyFn)},e.prototype.getStoreFieldName=function(e){var t,i,r,n,o=e.typename,a=e.fieldName,s=this.getFieldPolicy(o,a,!1),c=s&&s.keyFn;if(c&&o)for(var l={typename:o,fieldName:a,field:e.field||null,variables:e.variables},u=Ta(e);c;){var h=c(u,l);if(!Array.isArray(h)){t=h||a;break}c=wa(h)}return!1===(t=void 0===t?e.field?(s=e.field,i=e.variables,r=null,s.directives&&(r={},s.directives.forEach(function(n){r[n.name.value]={},n.arguments&&n.arguments.forEach(function(e){var t=e.name,e=e.value;return rr(r[n.name.value],t,e,i)})})),n=null,s.arguments&&s.arguments.length&&(n={},s.arguments.forEach(function(e){var t=e.name,e=e.value;return rr(n,t,e,i)})),sr(s.name.value,n,r)):sr(a,Ta(e)):t)?a:a===Us(t)?t:a+":"+t},e.prototype.readField=function(e,t){var n,i,r,o=e.from;if(o&&(e.field||e.fieldName))return void 0===e.typename&&(n=t.store.getFieldValue(o,"__typename"))&&(e.typename=n),r=Us(n=this.getStoreFieldName(e)),i=t.store.getFieldValue(o,n),(r=(r=this.getFieldPolicy(e.typename,r,!1))&&r.read)?(e=Pa(this,o,e,t,t.store.getStorage(ir(o)?o.__ref:o,n)),ha.withValue(this.cache,r,[i,e])):i},e.prototype.getReadFunction=function(e,t){e=this.getFieldPolicy(e,t,!1);return e&&e.read},e.prototype.getMergeFunction=function(e,t,n){e=this.getFieldPolicy(e,t,!1),t=e&&e.merge;return t=!t&&n?(e=this.getTypePolicy(n))&&e.merge:t},e.prototype.runMergeFunction=function(e,t,n,i,r){var o=n.field,a=n.typename,n=n.merge;return n===Aa?Na(i.store)(e,t):n===Ia?t:n(e=i.overwrite?void 0:e,t,Pa(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:i.variables},i,r||Object.create(null)))},e}();function Pa(e,t,n,i,r){var o=e.getStoreFieldName(n),a=Us(o),s=n.variables||i.variables,c=i.store,l=c.toReference,c=c.canRead;return{args:Ta(n),field:n.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:ir,toReference:l,storage:r,cache:e.cache,canRead:c,readField:function(){return e.readField(Da(arguments,t,i),i)},mergeObjects:Na(i.store)}}function Da(e,t,i){var r,o,a=e[0],s=e[1],c=e.length;return"string"==typeof a?r={fieldName:a,from:1<c?s:t}:(r=n({},a),js.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&kn.warn("Undefined 'from' passed to readField with arguments ".concat((c=Array.from(e),o=Eo("stringifyForDisplay"),JSON.stringify(c,function(e,t){return void 0===t?o:t}).split(JSON.stringify(o)).join("<undefined>")))),void 0===r.variables&&(r.variables=i),r}function Na(o){return function(e,t){if(Array.isArray(e)||Array.isArray(t))throw __DEV__?new Sn("Cannot automatically merge arrays"):new Sn(4);if(tr(e)&&tr(t)){var i=o.getFieldValue(e,"__typename"),r=o.getFieldValue(t,"__typename");if(i&&r&&i!==r)return t;if(ir(e)&&Qs(t))return o.merge(e.__ref,t),e;if(Qs(e)&&ir(t))return o.merge(e,t.__ref),t;if(Qs(e)&&Qs(t))return n(n({},e),t)}return t}}function Ra(e,t,i){var r="".concat(t).concat(i),o=e.flavors.get(r);return o||e.flavors.set(r,o=e.clientOnly===t&&e.deferred===i?e:n(n({},e),{clientOnly:t,deferred:i})),o}var La=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(i,e){var r=this,t=e.query,o=e.result,a=e.dataId,s=e.variables,e=e.overwrite,c=vr(t),l=new Rr,s=n(n({},wr(c)),s),p={store:i,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:s,varString:sa(s),fragmentMap:Zi(yr(t)),overwrite:!!e,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},s=this.processSelectionSet({result:o||Object.create(null),dataId:a,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:p});if(ir(s))return p.incomingById.forEach(function(e,t){var l,u=e.storeObject,h=e.mergeTree,e=e.fieldNodeSet,d=nr(t);if(h&&h.map.size){var n=r.applyMerges(h,d,u,p);if(ir(n))return;u=n}__DEV__&&!p.overwrite&&(l=Object.create(null),e.forEach(function(e){e.selectionSet&&(l[e.name.value]=!0)}),Object.keys(u).forEach(function(e){function t(e){return"object"==typeof(e=r.getFieldValue(e,i))&&e}var n,i,r,o,a,s,c;!0!==l[Us(e)]||(c=h&&h.map.get(e),Boolean(c&&c.info&&c.info.merge))||(c=d,n=u,i=e,r=p.store,!(e=t(c))||!(o=t(n))||ir(e)||Go(e,o)||Object.keys(e).every(function(e){return void 0!==r.getFieldValue(o,e)})||(c=r.getFieldValue(c,"__typename")||r.getFieldValue(n,"__typename"),n=Us(i),a="".concat(c,".").concat(n),qa.has(a)||(qa.add(a),s=[],Array.isArray(e)||Array.isArray(o)||[e,o].forEach(function(e){e=r.getFieldValue(e,"__typename");"string"!=typeof e||s.includes(e)||s.push(e)}),__DEV__&&kn.warn("Cache data may be lost when replacing the ".concat(n," field of a ").concat(c," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(s.length?"either ensure all objects of type "+s.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(a," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(e).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(o).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n")))))})),i.merge(t,u)}),i.retain(s.__ref),s;throw __DEV__?new Sn("Could not identify object ".concat(JSON.stringify(o))):new Sn(6)},e.prototype.processSelectionSet=function(e){function a(){var e=Da(arguments,h,r.variables);if(ir(e.from)){var t=r.incomingById.get(e.from.__ref);if(t){t=u.readField(n(n({},e),{from:t.storeObject}),r);if(void 0!==t)return t}}return u.readField(e,r)}var s=this,t=e.dataId,c=e.result,i=e.selectionSet,r=e.context,l=e.mergeTree,u=this.cache.policies,h=Object.create(null),d=t&&u.rootTypenamesById[t]||hr(c,i,r.fragmentMap)||t&&r.store.get(t,"__typename"),p=("string"==typeof d&&(h.__typename=d),new Set);this.flattenFields(i,c,r,d).forEach(function(e,t){var n,i,r,o=ur(t),o=c[o];p.add(t),void 0!==o?(n=u.getStoreFieldName({typename:d,fieldName:t.name.value,field:t,variables:e.variables}),i=ja(l,n),o=s.processFieldValue(o,t,t.selectionSet?Ra(e,!1,!1):e,i),r=void 0,t.selectionSet&&(ir(o)||Qs(o))&&(r=a("__typename",o)),(r=u.getMergeFunction(d,t.name.value,r))?i.info={field:t,typename:d,merge:r}:Va(l,n),h=e.merge(h,((i={})[n]=o,i))):!__DEV__||e.clientOnly||e.deferred||Cr.added(t)||u.getReadFunction(d,t.name.value)||__DEV__&&kn.error("Missing field '".concat(ur(t),"' while writing result ").concat(JSON.stringify(c,null,2)).substring(0,1e3))});try{var o=u.identify(c,{typename:d,selectionSet:i,fragmentMap:r.fragmentMap,storeObject:h,readField:a}),f=o[0],m=o[1],t=t||f;m&&(h=r.merge(h,m))}catch(e){if(!t)throw e}if("string"!=typeof t)return h;o=nr(t),f=r.written[t]||(r.written[t]=[]);if(0<=f.indexOf(i))return o;if(f.push(i),this.reader&&this.reader.isFresh(c,o,i,r))return o;var v=r.incomingById.get(t);return v?(v.storeObject=r.merge(v.storeObject,h),v.mergeTree=$a(v.mergeTree,l),p.forEach(function(e){return v.fieldNodeSet.add(e)})):r.incomingById.set(t,{storeObject:h,mergeTree:za(l)?void 0:l,fieldNodeSet:p}),o},e.prototype.processFieldValue=function(e,n,i,r){var o=this;return n.selectionSet&&null!==e?Array.isArray(e)?e.map(function(e,t){e=o.processFieldValue(e,n,i,ja(r,t));return Va(r,t),e}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:i,mergeTree:r}):__DEV__?so(e):e},e.prototype.flattenFields=function(e,a,s,c){void 0===c&&(c=hr(a,e,s.fragmentMap));var l=new Map,u=this.cache.policies,n=new is(!1);return function r(e,o){var t=n.lookup(e,o.clientOnly,o.deferred);t.visited||(t.visited=!0,e.selections.forEach(function(e){var n,i,t;Ki(e,s.variables)&&(n=o.clientOnly,i=o.deferred,n&&i||!bo(e.directives)||e.directives.forEach(function(e){var t=e.name.value;"client"===t&&(n=!0),"defer"!==t||(t=lr(e,s.variables))&&!1===t.if||(i=!0)}),dr(e)?((t=l.get(e))&&(n=n&&t.clientOnly,i=i&&t.deferred),l.set(e,Ra(s,n,i))):(t=er(e,s.fragmentMap))&&u.fragmentMatches(t,c,a,s.variables)&&r(t.selectionSet,Ra(s,n,i)))}))}(e,s),l},e.prototype.applyMerges=function(e,t,i,r,o){var a,s,c,l,u=this;return e.map.size&&!ir(i)&&(s=Array.isArray(i)||!ir(t)&&!Qs(t)?void 0:t,c=i,s&&!o&&(o=[ir(s)?s.__ref:s]),l=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))},e.map.forEach(function(e,t){var n=l(s,t),i=l(c,t);void 0!==i&&(o&&o.push(t),(e=u.applyMerges(e,n,i,r,o))!==i&&(a=a||new Map).set(t,e),o&&kn(o.pop()===t))}),a&&(i=Array.isArray(c)?c.slice(0):n({},c),a.forEach(function(e,t){i[t]=e}))),e.info?this.cache.policies.runMergeFunction(t,i,e.info,r,o&&(t=r.store).getStorage.apply(t,o)):i},e}(),Fa=[];function ja(e,t){e=e.map;return e.has(t)||e.set(t,Fa.pop()||{map:new Map}),e.get(t)}function $a(t,i){if(t===i||!i||za(i))return t;if(!t||za(t))return i;var r,e=t.info&&i.info?n(n({},t.info),i.info):t.info||i.info,o=t.map.size&&i.map.size,a={info:e,map:o?new Map:(t.map.size?t:i).map};return o&&(r=new Set(i.map.keys()),t.map.forEach(function(e,t){a.map.set(t,$a(e,i.map.get(t))),r.delete(t)}),r.forEach(function(e){a.map.set(e,$a(i.map.get(e),t.map.get(e)))})),a}function za(e){return!e||!(e.info||e.map.size)}function Va(e,t){var e=e.map,n=e.get(t);n&&za(n)&&(Fa.push(n),e.delete(t))}var Ba,qa=new Set,Ua=function(i){function e(e){void 0===e&&(e={});var t=i.call(this)||this;return t.watches=new Set,t.typenameDocumentCache=new Map,t.makeVar=va,t.txCount=0,t.config=xo(zs,e),t.addTypename=!!t.config.addTypename,t.policies=new Ma({cache:t,dataIdFromObject:t.config.dataIdFromObject,possibleTypes:t.config.possibleTypes,typePolicies:t.config.typePolicies}),t.init(),t}return t(e,i),e.prototype.init=function(){var e=this.data=new Ks.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},e.prototype.resetResultCache=function(e){var o=this,t=this.storeReader;this.storeWriter=new La(this,this.storeReader=new la({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Vs(this.config),canon:e?void 0:t&&t.canon})),this.maybeBroadcastWatch=Rs(function(e,t){return o.broadcastWatch(e,t)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t,n,i,r=e.optimistic?o.optimisticData:o.data;if(na(r))return t=e.optimistic,n=e.rootId,i=e.variables,r.makeCacheKey(e.query,e.callback,sa({optimistic:t,rootId:n,variables:i}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(e){return e.resetCaching()})},e.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},e.prototype.extract=function(e){return((e=void 0===e?!1:e)?this.optimisticData:this.data).extract()},e.prototype.read=function(e){var t=e.returnPartialData,t=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(n(n({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:t})).result||null}catch(e){if(e instanceof Fs)return null;throw e}},e.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},e.prototype.modify=function(e){if(js.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},e.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(n(n({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(e){var t,n=this;return this.watches.size||pa(t=this).vars.forEach(function(e){return e.attachCache(t)}),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&fa(n),n.maybeBroadcastWatch.forget(e)}},e.prototype.gc=function(e){sa.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},e.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},e.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},e.prototype.identify=function(e){if(ir(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){__DEV__&&kn.warn(e)}},e.prototype.evict=function(e){if(!e.id){if(js.call(e,"id"))return!1;e=n(n({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},e.prototype.reset=function(e){var t=this;return this.init(),sa.reset(),e&&e.discardWatches?(this.watches.forEach(function(e){return t.maybeBroadcastWatch.forget(e)}),this.watches.clear(),fa(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(e){e=this.optimisticData.removeLayer(e);e!==this.optimisticData&&(this.optimisticData=e,this.broadcastWatches())},e.prototype.batch=function(e){function t(e){var t=r.data,n=r.optimisticData;++r.txCount,e&&(r.data=r.optimisticData=e);try{return i=o(r)}finally{--r.txCount,r.data=t,r.optimisticData=n}}var i,r=this,o=e.update,a=e.optimistic,a=void 0===a||a,s=e.removeOptimistic,c=e.onWatchUpdated,l=new Set;return c&&!this.txCount&&this.broadcastWatches(n(n({},e),{onWatchUpdated:function(e){return l.add(e),!1}})),"string"==typeof a?this.optimisticData=this.optimisticData.addLayer(a,t):!1===a?t(this.data):t(),"string"==typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),c&&l.size?(this.broadcastWatches(n(n({},e),{onWatchUpdated:function(e,t){t=c.call(this,e,t);return!1!==t&&l.delete(e),t}})),l.size&&l.forEach(function(e){return r.maybeBroadcastWatch.dirty(e)})):this.broadcastWatches(e),i},e.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},e.prototype.transformDocument=function(e){var t;return this.addTypename?((t=this.typenameDocumentCache.get(e))||(t=Cr(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t):e},e.prototype.broadcastWatches=function(t){var n=this;this.txCount||this.watches.forEach(function(e){return n.maybeBroadcastWatch(e,t)})},e.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,i=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(i.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,i,n))||n&&Go(n.result,i.result)||e.callback(e.lastDiff=i,n)},e}(Ls),Qa=function(s){function c(e){var t,n=e.graphQLErrors,i=e.clientErrors,r=e.networkError,o=e.errorMessage,e=e.extraInfo,a=s.call(this,o)||this;return a.graphQLErrors=n||[],a.clientErrors=i||[],a.networkError=r||null,a.message=o||(t="",(bo((n=a).graphQLErrors)||bo(n.clientErrors))&&(n.graphQLErrors||[]).concat(n.clientErrors||[]).forEach(function(e){e=e?e.message:"Error message not found.";t+="".concat(e,"\n")}),n.networkError&&(t+="".concat(n.networkError.message,"\n")),t=t.replace(/\n$/,"")),a.extraInfo=e,a.__proto__=c.prototype,a}return t(c,s),c}(Error);function Ha(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Ba=Ba||{});var Ga=Object.assign,Wa=Object.hasOwnProperty,Ka=!1,Ya=function(o){function e(e){var t=e.queryManager,n=e.queryInfo,e=e.options,i=o.call(this,function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=Ja)}catch(e){}var t=!i.observers.size,n=(i.observers.add(e),i.last);return n&&n.error?e.error&&e.error(n.error):n&&n.result&&e.next&&e.next(n.result),t&&i.reobserve().catch(function(){}),function(){i.observers.delete(e)&&!i.observers.size&&i.tearDownQuery()}})||this,r=(i.observers=new Set,i.subscriptions=new Set,i.isTornDown=!1,i.options=e,i.queryId=n.queryId||t.generateQueryId(),vr(e.query));return i.queryName=r&&r.name&&r.name.value,i.initialFetchPolicy=e.fetchPolicy||"cache-first",i.queryManager=t,i.queryInfo=n,i}return t(e,o),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(t,e){var n={next:function(e){t(e),r.observers.delete(n),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){i.unsubscribe()},0)},error:e},i=r.subscribe(n)})},e.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t,i=this.getLastResult(!0),r=this.queryInfo.networkStatus||i&&i.networkStatus||Ba.ready,i=n(n({},i),{loading:Ha(r),networkStatus:r}),r=this.options.fetchPolicy,r=void 0===r?"cache-first":r;return"network-only"===r||"no-cache"===r||"standby"===r||this.queryManager.transform(this.options.query).hasForcedResolvers||(((t=this.queryInfo.getDiff()).complete||this.options.returnPartialData)&&(i.data=t.result),Go(i.data,{})&&(i.data=void 0),t.complete?(delete i.partial,!t.complete||i.networkStatus!==Ba.loading||"cache-first"!==r&&"cache-only"!==r||(i.networkStatus=Ba.ready,i.loading=!1)):i.partial=!0,!__DEV__||t.complete||this.options.partialRefetch||i.loading||i.data||i.error||Xa(t.missing)),e&&this.updateLastResult(i),i},e.prototype.isDifferentFromLastResult=function(e){return!this.last||!Go(this.last.result,e)},e.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Go(n.variables,this.variables)))return n[e]},e.prototype.getLastResult=function(e){return this.getLast("result",e)},e.prototype.getLastError=function(e){return this.getLast("error",e)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(e){var t,i={pollInterval:0},r=this.options.fetchPolicy;return i.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&Wa.call(e,"variables")&&((t=(r=gr(this.options.query)).variableDefinitions)&&t.some(function(e){return"variables"===e.variable.name.value})||__DEV__&&kn.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null==(t=r.name)?void 0:t.value)||JSON.stringify(r),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))),e&&!Go(this.options.variables,e)&&(i.variables=this.options.variables=n(n({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(i,Ba.refetch)},e.prototype.fetchMore=function(i){var r=this,o=n(n({},i.query?i:n(n(n({},this.options),i),{variables:n(n({},this.options.variables),i.variables)})),{fetchPolicy:"no-cache"}),e=this.queryManager.generateQueryId();return o.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Ba.fetchMore,this.observe()),this.queryManager.fetchQuery(e,o,Ba.fetchMore).then(function(e){var t=e.data,n=i.updateQuery;return n?(__DEV__&&!Ka&&(__DEV__&&kn.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),Ka=!0),r.updateQuery(function(e){return n(e,{fetchMoreResult:t,variables:o.variables})})):r.queryManager.cache.writeQuery({query:o.query,variables:o.variables,data:t}),e}).finally(function(){r.queryManager.stopQuery(e),r.reobserve()})},e.prototype.subscribeToMore=function(t){var e=this,n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(n){var i=t.updateQuery;i&&e.updateQuery(function(e,t){t=t.variables;return i(e,{subscriptionData:n,variables:t})})},error:function(e){t.onError?t.onError(e):__DEV__&&kn.error("Unhandled GraphQL subscription error",e)}});return this.subscriptions.add(n),function(){e.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(e){return this.reobserve(e)},e.prototype.setVariables=function(e){return Go(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},Ba.setVariables):Promise.resolve())},e.prototype.updateQuery=function(e){var t=this.queryManager,e=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});e&&(t.cache.writeQuery({query:this.options.query,data:e,variables:this.variables}),t.broadcastQueries())},e.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},e.prototype.updatePolling=function(){var e,t,n,i,r=this;this.queryManager.ssrMode||(e=this.pollingInfo,(t=this.options.pollInterval)?e&&e.interval===t||(__DEV__?kn(t,"Attempted to start a polling query without a polling interval."):kn(t,10),(e||(this.pollingInfo={})).interval=t,n=function(){r.pollingInfo&&(Ha(r.queryInfo.networkStatus)?i():r.reobserve({fetchPolicy:"network-only"},Ba.poll).then(i,i))},(i=function(){var e=r.pollingInfo;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(n,e.interval))})()):e&&(clearTimeout(e.timeout),delete this.pollingInfo))},e.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=n(n({},this.last),{result:this.queryManager.assumeImmutableResults?e:so(e),variables:t}),bo(e.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(e,t){var i=this,r=(this.isTornDown=!1,t===Ba.refetch||t===Ba.fetchMore||t===Ba.poll),o=this.options.variables,a=r?xo(this.options,e):Ga(this.options,xo(e)),s=(r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!Go(e.variables,o)&&(a.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=Ba.setVariables))),a.variables&&n({},a.variables)),e=this.fetch(a,t),o={next:function(e){i.reportResult(e,s)},error:function(e){i.reportError(e,s)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=e,this.observer=o),e.addObserver(o),e.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),uo(this.observers,"next",e))},e.prototype.reportError=function(e,t){var i=n(n({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Ba.error,loading:!1});this.updateLastResult(i,t),uo(this.observers,"error",this.last.error=e)},e.prototype.hasObservers=function(){return 0<this.observers.size},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(io);function Ja(e){__DEV__&&kn.error("Unhandled error",e.message,e.stack)}function Xa(e){__DEV__&&e&&__DEV__&&kn.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}mo(Ya);var Za=function(){function e(e){var t=e.cache,n=e.client,i=e.resolvers,e=e.fragmentMatcher;this.cache=t,n&&(this.client=n),i&&this.addResolvers(i),e&&this.setFragmentMatcher(e)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=Pr(t.resolvers,e)}):this.resolvers=Pr(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,r=e.context,a=e.variables,e=e.onlyRunForcedResolvers,c=void 0!==e&&e;return o(this,void 0,void 0,function(){return s(this,function(e){return t?[2,this.resolveDocument(t,i.data,r,a,this.fragmentMatcher,c).then(function(e){return n(n({},i),{data:e.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Yi(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return fr(e),e=(e=Tr([{test:function(e){return"client"===e.name.value},remove:!0}],e))&&Li(e,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return dr(e)&&"__typename"===e.name.value}))return null}}})},e.prototype.prepareContext=function(e){var t=this.cache;return n(n({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(t,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),o(this,void 0,void 0,function(){return s(this,function(e){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,i)||{},this.prepareContext(r),i).then(function(e){return n(n({},i),e.exportedVariables)})]:[2,n({},i)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return Li(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return Ri}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Ir(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(l,u,h,d,p,f){return void 0===h&&(h={}),void 0===d&&(d={}),void 0===p&&(p=function(){return!0}),void 0===f&&(f=!1),o(this,void 0,void 0,function(){var t,i,r,o,a,c;return s(this,function(e){return t=br(l),i=yr(l),i=Zi(i),r=t.operation,r=r?r.charAt(0).toUpperCase()+r.slice(1):"Query",o=(a=this).cache,a=a.client,c={fragmentMap:i,context:n(n({},h),{cache:o,client:a}),variables:d,fragmentMatcher:p,defaultOperationType:r,exportedVariables:{},onlyRunForcedResolvers:f},[2,this.resolveSelectionSet(t.selectionSet,u,c).then(function(e){return{result:e,exportedVariables:c.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(i,u,h){return o(this,void 0,void 0,function(){var r,a,c,l,t,n=this;return s(this,function(e){return r=h.fragmentMap,a=h.context,c=h.variables,l=[u],t=function(i){return o(n,void 0,void 0,function(){var t,n;return s(this,function(e){return Ki(i,c)?dr(i)?[2,this.resolveField(i,u,h).then(function(e){var t;void 0!==e&&l.push(((t={})[ur(i)]=e,t))})]:(pr(i)?t=i:(t=r[i.name.value],__DEV__?kn(t,"No fragment named ".concat(i.name.value)):kn(t,9)),t&&t.typeCondition&&(n=t.typeCondition.name.value,h.fragmentMatcher(u,n,a))?[2,this.resolveSelectionSet(t.selectionSet,u,h).then(function(e){l.push(e)})]:[2]):[2]})})},[2,Promise.all(i.selections.map(t)).then(function(){return Dr(l)})]})})},e.prototype.resolveField=function(u,h,d){return o(this,void 0,void 0,function(){var t,n,i,r,o,a,c,l=this;return s(this,function(e){return t=d.variables,n=u.name.value,i=ur(u),r=n!==i,o=h[i]||h[n],a=Promise.resolve(o),d.onlyRunForcedResolvers&&!this.shouldForceResolvers(u)||(c=h.__typename||d.defaultOperationType,(c=this.resolvers&&this.resolvers[c])&&(c=c[r?n:i])&&(a=Promise.resolve(ha.withValue(this.cache,c,[h,lr(u,t),d.context,{field:u,fragmentMap:d.fragmentMap}])))),[2,a.then(function(t){return void 0===t&&(t=o),u.directives&&u.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(d.exportedVariables[e.value.value]=t)})}),!u.selectionSet||null==t?t:Array.isArray(t)?l.resolveSubSelectedArray(u,t,d):u.selectionSet?l.resolveSelectionSet(u.selectionSet,t,d):void 0})]})})},e.prototype.resolveSubSelectedArray=function(t,e,n){var i=this;return Promise.all(e.map(function(e){return null===e?null:Array.isArray(e)?i.resolveSubSelectedArray(t,e,n):t.selectionSet?i.resolveSelectionSet(t.selectionSet,e,n):void 0}))},e}(),ec=new(po?WeakMap:Map);function tc(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return ec.set(e,(ec.get(e)+1)%1e15),n.apply(this,arguments)})}function nc(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var ic=function(){function t(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;t=this.cache=e.cache;ec.has(t)||(ec.set(t,0),tc(t,"evict"),tc(t,"modify"),tc(t,"reset"))}return t.prototype.init=function(e){var t=e.networkStatus||Ba.loading;return this.variables&&this.networkStatus!==Ba.loading&&!Go(this.variables,e.variables)&&(t=Ba.setVariables),Go(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){nc(this),this.lastDiff=void 0,this.dirty=!1},t.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Go(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);e=this.observableQuery;if(e&&"no-cache"===e.options.fetchPolicy)return{complete:!1};e=this.cache.diff(t);return this.updateLastDiff(e,t),e},t.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null==(e=this.observableQuery)?void 0:e.options.canonizeResults}},t.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||Go(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},t.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),(this.observableQuery=e)?(e.queryInfo=this).listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()}):delete this.oqListener)},t.prototype.notify=function(){var t=this;nc(this),this.shouldNotify()&&this.listeners.forEach(function(e){return e(t)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Ha(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},t.prototype.stop=function(){var e;this.stopped||(this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(e){return e.unsubscribe()}),(e=this.observableQuery)&&e.stopPolling())},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var t=this,i=(void 0===e&&(e=this.variables),this.observableQuery);i&&"no-cache"===i.options.fetchPolicy||(i=n(n({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}}),this.lastWatch&&Go(i,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i)))},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===ec.get(this.cache)&&Go(t,n.variables)&&Go(e.data,n.result.data))},t.prototype.markResult=function(n,i,r){var o=this;this.graphQLErrors=bo(n.errors)?n.errors:[],this.reset(),"no-cache"===i.fetchPolicy?this.updateLastDiff({result:n.data,complete:!0},this.getDiffOptions(i.variables)):0!==r&&(rc(n,i.errorPolicy)?this.cache.performTransaction(function(e){if(o.shouldWrite(n,i.variables))e.writeQuery({query:o.document,data:n.data,variables:i.variables,overwrite:1===r}),o.lastWrite={result:n,variables:i.variables,dmCount:ec.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete)return void(n.data=o.lastDiff.diff.result);var t=o.getDiffOptions(i.variables),e=e.diff(t);o.stopped||o.updateWatch(i.variables),o.updateLastDiff(e,t),e.complete&&(n.data=e.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ba.ready},t.prototype.markError=function(e){return this.networkStatus=Ba.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function rc(e,t){var t="ignore"===(t=void 0===t?"none":t)||"all"===t,n=!wo(e);return n=!n&&t&&e.data?!0:n}var oc=Object.prototype.hasOwnProperty,sc=function(){function e(e){var t=e.cache,n=e.link,i=e.queryDeduplication,i=void 0!==i&&i,r=e.onBroadcast,o=e.ssrMode,o=void 0!==o&&o,a=e.clientAwareness,a=void 0===a?{}:a,s=e.localState,e=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(po?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=a,this.localState=s||new Za({cache:t}),this.ssrMode=o,this.assumeImmutableResults=!!e,(this.onBroadcast=r)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var n=this;this.queries.forEach(function(e,t){n.stopQueryNoBroadcast(t)}),this.cancelPendingFetches(__DEV__?new Sn("QueryManager stopped while query was in flight"):new Sn(11))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(e){return e(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var c=e.mutation,l=e.variables,u=e.optimisticResponse,h=e.updateQueries,t=e.refetchQueries,d=void 0===t?[]:t,t=e.awaitRefetchQueries,p=void 0!==t&&t,f=e.update,m=e.onQueryUpdated,t=e.errorPolicy,v=void 0===t?"none":t,t=e.fetchPolicy,g=void 0===t?"network-only":t,y=e.keepRootFields,b=e.context;return o(this,void 0,void 0,function(){var r,o,a;return s(this,function(e){switch(e.label){case 0:return __DEV__?kn(c,"mutation option is required. You must specify your GraphQL document in the mutation option."):kn(c,12),__DEV__?kn("network-only"===g||"no-cache"===g,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):kn("network-only"===g||"no-cache"===g,13),r=this.generateMutationId(),c=this.transform(c).document,l=this.getVariables(c,l),this.transform(c).hasClientExports?[4,this.localState.addExportedVariables(c,l,b)]:[3,2];case 1:l=e.sent(),e.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[r]={mutation:c,variables:l,loading:!0,error:null}),u&&this.markMutationOptimistic(u,{mutationId:r,document:c,variables:l,fetchPolicy:g,errorPolicy:v,context:b,updateQueries:h,update:f,keepRootFields:y}),this.broadcastQueries(),a=this,[2,new Promise(function(t,i){return ho(a.getObservableFromLink(c,n(n({},b),{optimisticResponse:u}),l,!1),function(e){if(wo(e)&&"none"===v)throw new Qa({graphQLErrors:e.errors});o&&(o.loading=!1,o.error=null);e=n({},e);return"function"==typeof d&&(d=d(e)),"ignore"===v&&wo(e)&&delete e.errors,a.markMutationResult({mutationId:r,result:e,document:c,variables:l,fetchPolicy:g,errorPolicy:v,context:b,update:f,updateQueries:h,awaitRefetchQueries:p,refetchQueries:d,removeOptimistic:u?r:void 0,onQueryUpdated:m,keepRootFields:y})}).subscribe({next:function(e){a.broadcastQueries(),t(e)},error:function(e){o&&(o.loading=!1,o.error=e),u&&a.cache.removeOptimistic(r),a.broadcastQueries(),i(e instanceof Qa?e:new Qa({networkError:e}))}})})]}})})},e.prototype.markMutationResult=function(r,o){var a,s=this,c=(void 0===o&&(o=this.cache),r.result),l=[],u="no-cache"===r.fetchPolicy;if(!u&&rc(c,r.errorPolicy)&&(l.push({result:c.data,dataId:"ROOT_MUTATION",query:r.document,variables:r.variables}),(a=r.updateQueries)&&this.queries.forEach(function(e,t){var n,i,r,e=e.observableQuery,e=e&&e.queryName;e&&oc.call(a,e)&&(e=a[e],n=(t=s.queries.get(t)).document,t=t.variables,i=(r=o.diff({query:n,variables:t,returnPartialData:!0,optimistic:!1})).result,r.complete&&i&&((r=e(i,{mutationResult:c,queryName:n&&mr(n)||void 0,queryVariables:t}))&&l.push({result:r,dataId:"ROOT_QUERY",query:n,variables:t})))})),0<l.length||r.refetchQueries||r.update||r.onQueryUpdated||r.removeOptimistic){var t=[];if(this.refetchQueries({updateCache:function(t){u||l.forEach(function(e){return t.write(e)});var e,i=r.update;i&&(u||(e=t.diff({id:"ROOT_MUTATION",query:s.transform(r.document).asQuery,variables:r.variables,optimistic:!1,returnPartialData:!0})).complete&&(c=n(n({},c),{data:e.result})),i(t,c,{context:r.context,variables:r.variables})),u||r.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,t=t.DELETE;return"__typename"===n?e:t}})},include:r.refetchQueries,optimistic:!1,removeOptimistic:r.removeOptimistic,onQueryUpdated:r.onQueryUpdated||null}).forEach(function(e){return t.push(e)}),r.awaitRefetchQueries||r.onQueryUpdated)return Promise.all(t).then(function(){return c})}return Promise.resolve(c)},e.prototype.markMutationOptimistic=function(e,t){var i=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction(function(e){try{i.markMutationResult(n(n({},t),{result:{data:r}}),e)}catch(e){__DEV__&&kn.error(e)}},t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var n=Object.create(null);return this.queries.forEach(function(e,t){n[t]={variables:e.variables,networkStatus:e.networkStatus,networkError:e.networkError,graphQLErrors:e.graphQLErrors}}),n},e.prototype.resetErrors=function(e){e=this.queries.get(e);e&&(e.networkError=void 0,e.graphQLErrors=[])},e.prototype.transform=function(e){var t,i,r,o,a,s=this.transformCache;return s.has(e)||(t=this.cache.transformDocument(e),r=this.cache.transformForLink(t),r=Tr([Or],fr(r)),i=this.localState.clientQuery(t),r=r&&this.localState.serverQuery(r),o={document:t,hasClientExports:Ji(t),hasForcedResolvers:this.localState.shouldForceResolvers(t),clientQuery:i,serverQuery:r,defaultVars:wr(vr(t)),asQuery:n(n({},t),{definitions:t.definitions.map(function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?n(n({},e),{operation:"query"}):e})})},(a=function(e){e&&!s.has(e)&&s.set(e,o)})(e),a(t),a(i),a(r)),s.get(e)},e.prototype.getVariables=function(e,t){return n(n({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=n(n({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new ic(this),i=new Ya({queryManager:this,queryInfo:t,options:e});return this.queries.set(i.queryId,t),t.init({document:e.query,observableQuery:i,variables:e.variables}),i},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?kn(e.query,"query option is required. You must specify your GraphQL document in the query option."):kn(e.query,14),__DEV__?kn("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):kn("Document"===e.query.kind,15),__DEV__?kn(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):kn(!e.returnPartialData,16),__DEV__?kn(!e.pollInterval,"pollInterval option only supported on watchQuery."):kn(!e.pollInterval,17),this.fetchQuery(t,e).finally(function(){return n.stopQuery(t)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){e=this.queries.get(e);e&&e.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Sn("Store reset while query was in flight (not completed in link chain)"):new Sn(18)),this.queries.forEach(function(e){e.observableQuery?e.networkStatus=Ba.loading:e.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(r){var o=this,a=(void 0===r&&(r="active"),new Map),s=new Map,i=new Set;return Array.isArray(r)&&r.forEach(function(e){var t;"string"==typeof e?s.set(e,!1):tr(t=e)&&"Document"===t.kind&&Array.isArray(t.definitions)?s.set(o.transform(e).document,!1):tr(e)&&e.query&&i.add(e)}),this.queries.forEach(function(e,t){var n,i=e.observableQuery,e=e.document;i&&("all"===r?a.set(t,i):(n=i.queryName,"standby"===i.options.fetchPolicy||"active"===r&&!i.hasObservers()||("active"===r||n&&s.has(n)||e&&s.has(e))&&(a.set(t,i),n&&s.set(n,!0),e&&s.set(e,!0))))}),i.size&&i.forEach(function(e){var t=Eo("legacyOneTimeQuery"),i=o.getQuery(t).init({document:e.query,variables:e.variables}),e=new Ya({queryManager:o,queryInfo:i,options:n(n({},e),{fetchPolicy:"network-only"})});kn(e.queryId===t),i.setObservableQuery(e),a.set(t,e)}),__DEV__&&s.size&&s.forEach(function(e,t){e||__DEV__&&kn.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))}),a},e.prototype.reFetchObservableQueries=function(i){var r=this,o=(void 0===i&&(i=!1),[]);return this.getObservableQueries(i?"all":"active").forEach(function(e,t){var n=e.options.fetchPolicy;e.resetLastResults(),(i||"standby"!==n&&"cache-only"!==n)&&o.push(e.refetch()),r.getQuery(t).setDiff(null)}),this.broadcastQueries(),Promise.all(o)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){function t(t){return n.getObservableFromLink(r,c,t).map(function(e){if("no-cache"!==o&&(rc(e,a)&&n.cache.write({query:r,result:e.data,dataId:"ROOT_SUBSCRIPTION",variables:t}),n.broadcastQueries()),wo(e))throw new Qa({graphQLErrors:e.errors});return e})}var i,n=this,r=e.query,o=e.fetchPolicy,a=e.errorPolicy,s=e.variables,e=e.context,c=void 0===e?{}:e,r=this.transform(r).document,s=this.getVariables(r,s);return this.transform(r).hasClientExports?(i=this.localState.addExportedVariables(r,s,c).then(t),new io(function(t){var n=null;return i.then(function(e){return n=e.subscribe(t)},t.error),function(){return n&&n.unsubscribe()}})):t(s)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,i,r){var o,a,s,c,l,u,h=this,d=(void 0===r&&(r=null!=(s=null==t?void 0:t.queryDeduplication)?s:this.queryDeduplication),this.transform(e).serverQuery),p=(d?(a=this.inFlightLinkObservables,s=this.link,c={query:d,variables:i,operationName:mr(d)||void 0,context:this.prepareContext(n(n({},t),{forceFetch:!r}))},t=c.context,r?(l=a.get(d)||new Map,a.set(d,l),u=sa(i),(o=l.get(u))||(r=new go([Po(s,c)]),l.set(u,o=r),r.cleanup(function(){l.delete(u)&&l.size<1&&a.delete(d)}))):o=new go([Po(s,c)])):(o=new go([io.of({data:{}})]),t=this.prepareContext(t)),this.transform(e).clientQuery);return o=p?ho(o,function(e){return h.localState.runResolvers({document:p,remoteResult:e,context:t,variables:i})}):o},e.prototype.getResultsFromLink=function(i,r,o){var a=i.lastRequestId=this.generateRequestId();return ho(this.getObservableFromLink(i.document,o.context,o.variables),function(e){var t=bo(e.errors);if(a>=i.lastRequestId){if(t&&"none"===o.errorPolicy)throw i.markError(new Qa({graphQLErrors:e.errors}));i.markResult(e,o,r),i.markReady()}var n={data:e.data,loading:!1,networkStatus:i.networkStatus||Ba.ready};return t&&"ignore"!==o.errorPolicy&&(n.errors=e.errors),n},function(e){e=e.hasOwnProperty("graphQLErrors")?e:new Qa({networkError:e});throw a>=i.lastRequestId&&i.markError(e),e})},e.prototype.fetchQueryObservable=function(i,r,t){function e(e){return p.variables=e,o.fetchQueryByPolicy(s,p,t)}var o=this,n=(void 0===t&&(t=Ba.loading),this.transform(r.query).document),a=this.getVariables(n,r.variables),s=this.getQuery(i),c=r.fetchPolicy,l=r.errorPolicy,u=r.returnPartialData,h=r.notifyOnNetworkStatusChange,d=r.context,p=Object.assign({},r,{query:n,variables:a,fetchPolicy:void 0===c?"cache-first":c,errorPolicy:void 0===l?"none":l,returnPartialData:void 0!==u&&u,notifyOnNetworkStatusChange:void 0!==h&&h,context:void 0===d?{}:d}),f=(this.fetchCancelFns.set(i,function(e){setTimeout(function(){return f.cancel(e)})}),new go(this.transform(p.query).hasClientExports?this.localState.addExportedVariables(p.query,p.variables,p.context).then(e):e(p.variables)));return f.cleanup(function(){var e,t,n;o.fetchCancelFns.delete(i),t=(e=r).fetchPolicy,(n=e.nextFetchPolicy)&&(e.fetchPolicy="function"==typeof n?n.call(e,void 0===t?"cache-first":t):n)}),f},e.prototype.refetchQueries=function(e){var o=this,t=e.updateCache,n=e.include,i=e.optimistic,i=void 0!==i&&i,r=e.removeOptimistic,r=void 0===r?i?Eo("refetchQueries"):void 0:r,a=e.onQueryUpdated,s=new Map,c=(n&&this.getObservableQueries(n).forEach(function(e,t){s.set(t,{oq:e,lastDiff:o.getQuery(t).getDiff()})}),new Map);return t&&this.cache.batch({update:t,optimistic:i&&r||!1,removeOptimistic:r,onWatchUpdated:function(e,t,n){var i,e=e.watcher instanceof ic&&e.watcher.observableQuery;if(e){if(a)return s.delete(e.queryId),!1!==(i=!0===(i=a(e,t,n))?e.refetch():i)&&c.set(e,i),i;null!==a&&s.set(e.queryId,{oq:e,lastDiff:n,diff:t})}}}),s.size&&s.forEach(function(e,t){var n,i=e.oq,r=e.lastDiff,e=e.diff;a&&(e||((n=i.queryInfo).reset(),e=n.getDiff()),n=a(i,e,r)),!1!==(n=a&&!0!==n?n:i.refetch())&&c.set(i,n),0<=t.indexOf("legacyOneTimeQuery")&&o.stopQueryNoBroadcast(t)}),r&&this.cache.removeOptimistic(r),c},e.prototype.fetchQueryByPolicy=function(o,e,t){function i(){return o.getDiff(u)}function r(t,i){function r(e){return io.of(n({data:e,loading:Ha(i),networkStatus:i},t.complete?null:{partial:!0}))}void 0===i&&(i=o.networkStatus||Ba.loading);var e=t.result;return!__DEV__||f||Go(e,{})||Xa(t.missing),e&&c.transform(l).hasForcedResolvers?c.localState.runResolvers({document:l,remoteResult:{data:e},context:m,variables:u,onlyRunForcedResolvers:!0}).then(function(e){return r(e.data||void 0)}):r(e)}function a(){return c.getResultsFromLink(o,g,{variables:u,context:m,fetchPolicy:h,errorPolicy:p})}var s,c=this,l=e.query,u=e.variables,h=e.fetchPolicy,d=e.refetchWritePolicy,p=e.errorPolicy,f=e.returnPartialData,m=e.context,e=e.notifyOnNetworkStatusChange,v=o.networkStatus,g=(o.init({document:l,variables:u,networkStatus:t}),"no-cache"===h?0:t===Ba.refetch&&"merge"!==d?1:2),y=e&&"number"==typeof v&&v!==t&&Ha(t);switch(h){default:case"cache-first":return(s=i()).complete?[r(s,o.markReady())]:f||y?[r(s),a()]:[a()];case"cache-and-network":return(s=i()).complete||f||y?[r(s),a()]:[a()];case"cache-only":return[r(i(),o.markReady())];case"network-only":return y?[r(i()),a()]:[a()];case"no-cache":return y?[r(o.getDiff()),a()]:[a()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new ic(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){e=this.localState.prepareContext(e=void 0===e?{}:e);return n(n({},e),{clientAwareness:this.clientAwareness})},e}(),ac=!1;function cc(e,t){return xo(e,t,t.variables&&{variables:n(n({},e.variables),t.variables)})}var lc=function(){function e(e){var t=this,n=(this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],e.uri),i=e.credentials,r=e.headers,o=e.cache,a=e.ssrMode,a=void 0!==a&&a,s=e.ssrForceFetchDelay,s=void 0===s?0:s,c=e.connectToDevTools,c=void 0===c?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:c,l=e.queryDeduplication,l=void 0===l||l,u=e.defaultOptions,h=e.assumeImmutableResults,h=void 0!==h&&h,d=e.resolvers,p=e.typeDefs,f=e.fragmentMatcher,m=e.name,v=e.version,e=(e=e.link)||(n?new Vo({uri:n,credentials:i,headers:r}):Io.empty());if(!o)throw __DEV__?new Sn("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new Sn(7);this.link=e,this.cache=o,this.disableNetworkFetches=a||0<s,this.queryDeduplication=l,this.defaultOptions=u||{},this.typeDefs=p,s&&setTimeout(function(){return t.disableNetworkFetches=!1},s),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),c&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!ac&&__DEV__&&(ac=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)&&(n=void 0,"string"==typeof(r=(i=window.navigator)&&i.userAgent)&&(-1<r.indexOf("Chrome/")?n="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":-1<r.indexOf("Firefox/")&&(n="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),n&&__DEV__&&kn.log("Download the Apollo DevTools for a better development experience: "+n)),this.version="3.5.8",this.localState=new Za({cache:o,client:this,resolvers:d,fragmentMatcher:f}),this.queryManager=new sc({cache:this.cache,link:this.link,queryDeduplication:l,ssrMode:a,clientAwareness:{name:m,version:v},localState:this.localState,assumeImmutableResults:h,onBroadcast:c?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=cc(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=n(n({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=cc(this.defaultOptions.query,e)),__DEV__?kn("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):kn("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=n(n({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=cc(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return this.cache.readQuery(e,t=void 0===t?!1:t)},e.prototype.readFragment=function(e,t){return this.cache.readFragment(e,t=void 0===t?!1:t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Po(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(e){return e!==t})}},e.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(e){return e!==t})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var e=this.queryManager.refetchQueries(e),n=[],i=[],e=(e.forEach(function(e,t){n.push(t),i.push(e)}),Promise.all(i));return e.queries=n,e.results=i,e.catch(function(e){__DEV__&&kn.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))}),e},e.prototype.getObservableQueries=function(e){return this.queryManager.getObservableQueries(e=void 0===e?"active":e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),uc=new Map,hc=new Map,dc=!0,pc=!1;function fc(e){return e.replace(/[\s,]+/g," ").trim()}function vc(e){var r=new Set,o=[];return e.definitions.forEach(function(e){var t,n,i;"FragmentDefinition"===e.kind?(t=e.name.value,i=fc((i=e.loc).source.body.substring(i.start,i.end)),(n=hc.get(t))&&!n.has(i)?dc&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):n||hc.set(t,n=new Set),n.add(i),r.has(i)||(r.add(i),o.push(e))):o.push(e)}),n(n({},e),{definitions:o})}function mc(e){var n,t,i=fc(e);if(!uc.has(i)){var e=new Mi(e,{experimentalFragmentVariables:pc,allowLegacyFragmentVariables:pc}).parseDocument();if(!e||"Document"!==e.kind)throw new Error("Not a valid GraphQL document.");uc.set(i,(e=vc(e),(n=new Set(e.definitions)).forEach(function(t){t.loc&&delete t.loc,Object.keys(t).forEach(function(e){e=t[e];e&&"object"==typeof e&&n.add(e)})}),(t=e.loc)&&(delete t.startToken,delete t.endToken),e))}return uc.get(i)}function yc(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=(n="string"==typeof n?[n]:n)[0];return e.forEach(function(e,t){e&&"Document"===e.kind?i+=e.loc.source.body:i+=e,i+=n[t+1]}),mc(i)}var gc,bc=yc,wc=function(){uc.clear(),hc.clear()},xc=function(){dc=!1},_c=function(){pc=!0},Ec=function(){pc=!1},Sc=((gc=yc=yc||{}).gql=bc,gc.resetCaches=wc,gc.disableFragmentWarnings=xc,gc.enableExperimentalFragmentVariables=_c,gc.disableExperimentalFragmentVariables=Ec,yc.default=yc,kc);function kc(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}kc.prototype.duration=function(){var e,t,n=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(e=Math.random(),t=Math.floor(e*this.jitter*n),n=0==(1&Math.floor(10*e))?n-t:n+t),0|Math.min(n,this.max)},kc.prototype.reset=function(){this.attempts=0},kc.prototype.setMin=function(e){this.ms=e},kc.prototype.setMax=function(e){this.max=e},kc.prototype.setJitter=function(e){this.jitter=e};var Zc,hl,dl,pl,vl,xl,Tc=Nt(function(e){var i=Object.prototype.hasOwnProperty,p="~";function n(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(e,t,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");n=new o(n,i||e,r),i=p?p+t:t;return e._events[i]?e._events[i].fn?e._events[i]=[e._events[i],n]:e._events[i].push(n):(e._events[i]=n,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function t(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(p=!1)),t.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},t.prototype.listeners=function(e){var e=p?p+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var n=0,i=t.length,r=new Array(i);n<i;n++)r[n]=t[n].fn;return r},t.prototype.listenerCount=function(e){e=p?p+e:e,e=this._events[e];return e?e.fn?1:e.length:0},t.prototype.emit=function(e,t,n,i,r,o){var a=p?p+e:e;if(!this._events[a])return!1;var s,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,r),!0;case 6:return c.fn.call(c.context,t,n,i,r,o),!0}for(d=1,s=new Array(l-1);d<l;d++)s[d-1]=arguments[d];c.fn.apply(c.context,s)}else for(var u,h=c.length,d=0;d<h;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,n);break;case 4:c[d].fn.call(c[d].context,t,n,i);break;default:if(!s)for(u=1,s=new Array(l-1);u<l;u++)s[u-1]=arguments[u];c[d].fn.apply(c[d].context,s)}return!0},t.prototype.on=function(e,t,n){return r(this,e,t,n,!1)},t.prototype.once=function(e,t,n){return r(this,e,t,n,!0)},t.prototype.removeListener=function(e,t,n,i){e=p?p+e:e;if(!this._events[e])return this;if(!t)return c(this,e),this;var r=this._events[e];if(r.fn)r.fn!==t||i&&!r.once||n&&r.context!==n||c(this,e);else{for(var o=0,a=[],s=r.length;o<s;o++)(r[o].fn!==t||i&&!r[o].once||n&&r[o].context!==n)&&a.push(r[o]);a.length?this._events[e]=1===a.length?a[0]:a:c(this,e)}return this},t.prototype.removeAllListeners=function(e){return e?(e=p?p+e:e,this._events[e]&&c(this,e)):(this._events=new n,this._eventsCount=0),this},t.prototype.off=t.prototype.removeListener,t.prototype.addListener=t.prototype.on,t.prefixed=p,e.exports=t.EventEmitter=t}),Cc=function(e){return"string"==typeof e},Oc=Object.defineProperty({default:Cc},"__esModule",{value:!0}),Ac=function(e){return null!==e&&"object"==typeof e},Ic=Object.defineProperty({default:Ac},"__esModule",{value:!0}),Mc=function(){var e,t=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol;return"function"==typeof t?t.observable?e=t.observable:(e=t("observable"),t.observable=e):e="@@observable",e}(),Pc=Object.freeze({__proto__:null,default:Mc}),Dc=Nt(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GRAPHQL_SUBSCRIPTIONS=t.GRAPHQL_WS=void 0,t.GRAPHQL_WS="graphql-ws",t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"}),Nc=Nt(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WS_TIMEOUT=t.MIN_WS_TIMEOUT=void 0,t.MIN_WS_TIMEOUT=1e3,t.WS_TIMEOUT=3e4}),Rc=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}(),Lc=Object.defineProperty({default:Rc},"__esModule",{value:!0}),Fc=Dt(Gi),jc=Dt(Wi),$c=Dt(Pc),zc=Nt(function(e,t){var r=Pt&&Pt.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},n=Pt&&Pt.__awaiter||function(e,a,s,c){return new(s=s||Promise)(function(n,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((c=c.apply(e,a||[])).next())})},i=Pt&&Pt.__generator||function(i,r){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(i,c)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},s=Pt&&Pt.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},o=(Object.defineProperty(t,"__esModule",{value:!0}),(t.SubscriptionClient=void 0)!==Pt?Pt:"undefined"!=typeof window?window:{}),d=o.WebSocket||o.MozWebSocket;function a(e,t,n,i){var t=t||{},r=t.connectionCallback,r=void 0===r?void 0:r,o=t.connectionParams,o=void 0===o?{}:o,a=t.minTimeout,a=void 0===a?Nc.MIN_WS_TIMEOUT:a,s=t.timeout,s=void 0===s?Nc.WS_TIMEOUT:s,c=t.reconnect,c=void 0!==c&&c,l=t.reconnectionAttempts,l=void 0===l?1/0:l,u=t.lazy,u=void 0!==u&&u,h=t.inactivityTimeout,h=void 0===h?0:h,t=t.wsOptionArguments,t=void 0===t?[]:t;if(this.wsImpl=n||d,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=i||Dc.GRAPHQL_WS,this.connectionCallback=r,this.url=e,this.operations={},this.nextOperationId=0,this.minWsTimeout=a,this.wsTimeout=s,this.unsentMessagesQueue=[],this.reconnect=c,this.reconnecting=!1,this.reconnectionAttempts=l,this.lazy=!!u,this.inactivityTimeout=h,this.closedByUser=!1,this.backoff=new Sc({jitter:.5}),this.eventEmitter=new Tc.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(o),this.wsOptionArguments=t,this.lazy||this.connect()}Object.defineProperty(a.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!1,configurable:!0}),a.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,Lc.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null,this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},a.prototype.request=function(r){var e,o,a=this.getObserver.bind(this),s=this.executeOperation.bind(this),c=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(e={})[$c.default]=function(){return this},e.subscribe=function(e,t,n){var i=a(e,t,n);return o=s(r,function(e,t){null===e&&null===t?i.complete&&i.complete():e?i.error&&i.error(e[0]):i.next&&i.next(t)}),{unsubscribe:function(){o&&(c(o),o=null)}}},e},a.prototype.on=function(e,t,n){var i=this.eventEmitter.on(e,t,n);return function(){i.off(e,t,n)}},a.prototype.onConnected=function(e,t){return this.on("connected",e,t)},a.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},a.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},a.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},a.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},a.prototype.onError=function(e,t){return this.on("error",e,t)},a.prototype.unsubscribeAll=function(){var t=this;Object.keys(this.operations).forEach(function(e){t.unsubscribe(e)})},a.prototype.applyMiddlewares=function(a){var e=this;return new Promise(function(t,n){var i=s(e.middlewares),r=e,o=function(e){e?n(e):0<i.length?(e=i.shift())&&e.applyMiddleware.apply(r,[a,o]):t(a)};o()})},a.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},a.prototype.getConnectionParams=function(n){return function(){return new Promise(function(e,t){if("function"==typeof n)try{return e(n.call(null))}catch(e){return t(e)}e(n)})}},a.prototype.executeOperation=function(e,t){var n=this,i=(null===this.client&&this.connect(),this.generateOperationId());return this.operations[i]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[i]&&(n.operations[i]={options:e,handler:t},n.sendMessage(i,Lc.default.GQL_START,e))}).catch(function(e){n.unsubscribe(i),t(n.formatErrors(e))}),i},a.prototype.getObserver=function(t,n,e){return"function"==typeof t?{next:function(e){return t(e)},error:function(e){return n&&n(e)},complete:function(){return e&&e()}}:t},a.prototype.createMaxConnectTimeGenerator=function(){var e=this.minWsTimeout,t=this.wsTimeout;return new Sc({min:e,max:t,factor:1.2})},a.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},a.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},a.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},a.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},a.prototype.setInactivityTimeout=function(){var e=this;0<this.inactivityTimeout&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(e.operations).length&&e.close()},this.inactivityTimeout))},a.prototype.checkOperationOptions=function(e,t){var n=e.query,i=e.variables,e=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!Oc.default(n)&&!jc.getOperationAST(n,e)||e&&!Oc.default(e)||i&&!Ic.default(i))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},a.prototype.buildMessage=function(e,t,n){return{id:e,type:t,payload:n&&n.query?r(r({},n),{query:"string"==typeof n.query?n.query:Fc.print(n.query)}):n}},a.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},a.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},a.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},a.prototype.generateOperationId=function(){return String(++this.nextOperationId)},a.prototype.tryReconnect=function(){var e,t=this;!this.reconnect||this.backoff.attempts>=this.reconnectionAttempts||(this.reconnecting||(Object.keys(this.operations).forEach(function(e){t.unsentMessagesQueue.push(t.buildMessage(e,Lc.default.GQL_START,t.operations[e].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout(),e=this.backoff.duration(),this.tryReconnectTimeoutId=setTimeout(function(){t.connect()},e))},a.prototype.flushUnsentMessagesQueue=function(){var t=this;this.unsentMessagesQueue.forEach(function(e){t.sendMessageRaw(e)}),this.unsentMessagesQueue=[]},a.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},a.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},a.prototype.connect=function(){var e,t=this;this.client=new((e=this.wsImpl).bind.apply(e,s([void 0,this.url,this.wsProtocols],this.wsOptionArguments))),this.checkMaxConnectTimeout(),this.client.onopen=function(){return n(t,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return t=e.sent(),this.sendMessage(void 0,Lc.default.GQL_CONNECTION_INIT,t),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=e.sent(),this.sendMessage(void 0,Lc.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}})})},this.client.onclose=function(){t.closedByUser||t.close(!1,!1)},this.client.onerror=function(e){t.eventEmitter.emit("error",e)},this.client.onmessage=function(e){e=e.data;t.processReceivedData(e)}},a.prototype.processReceivedData=function(e){var t,n;try{n=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[Lc.default.GQL_DATA,Lc.default.GQL_COMPLETE,Lc.default.GQL_ERROR].indexOf(t.type)||this.operations[n])switch(t.type){case Lc.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case Lc.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected",t.payload),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case Lc.default.GQL_COMPLETE:var i=this.operations[n].handler;delete this.operations[n],i.call(this,null,null);break;case Lc.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(t.payload),null),delete this.operations[n];break;case Lc.default.GQL_DATA:i=t.payload.errors?r(r({},t.payload),{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[n].handler(null,i);break;case Lc.default.GQL_CONNECTION_KEEP_ALIVE:i=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,i&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(n)},a.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,Lc.default.GQL_STOP,void 0))},t.SubscriptionClient=a}),Vc=function(n){function e(e){var t=n.call(this)||this;return e instanceof zc.SubscriptionClient?t.subscriptionClient=e:t.subscriptionClient=new zc.SubscriptionClient(e.uri,e.options,e.webSocketImpl),t}return t(e,n),e.prototype.request=function(e){return this.subscriptionClient.request(e)},e}(Io);const qc={reconnect:!0,reconnectionAttempts:6,lazy:!0,timeout:3e4,inactivityTimeout:15e3},Uc={name:"mona-lisa",version:"0.0.1"},SetPixelProtocol=yc`
  mutation setPixel($input: ActInput!) {
    act(input: $input) {
      data {
        ... on BasicMessage {
          id
          data {
            ... on GetUserCooldownResponseMessageData {
              nextAvailablePixelTimestamp
            }
            ... on SetPixelResponseMessageData {
              timestamp
            }
          }
        }
      }
    }
  }
`,Qc=yc`
  mutation pixelHistory($input: ActInput!) {
    act(input: $input) {
      data {
        ... on BasicMessage {
          id
          data {
            ... on GetTileHistoryResponseMessageData {
              lastModifiedTimestamp
              userInfo {
                userID
                username
              }
            }
          }
        }
      }
    }
  }
`,Hc=yc`
  mutation getUserCooldown($input: ActInput!) {
    act(input: $input) {
      data {
        ... on BasicMessage {
          id
          data {
            ... on GetUserCooldownResponseMessageData {
              nextAvailablePixelTimestamp
            }
          }
        }
      }
    }
  }
`,Gc=yc`
  mutation setRect($input: ActInput!) {
    act(input: $input) {
      data {
        id
      }
    }
  }
`,Wc=yc`
  subscription configuration($input: SubscribeInput!) {
    subscribe(input: $input) {
      id
      ... on BasicMessage {
        data {
          __typename
          ... on ConfigurationMessageData {
            colorPalette {
              colors {
                hex
                index
              }
            }
            canvasConfigurations {
              index
              dx
              dy
            }
            canvasWidth
            canvasHeight
          }
        }
      }
    }
  }
`,Kc=yc`
  subscription replace($input: SubscribeInput!) {
    subscribe(input: $input) {
      id
      ... on BasicMessage {
        data {
          __typename
          ... on FullFrameMessageData {
            __typename
            name
            timestamp
          }
          ... on DiffFrameMessageData {
            __typename
            name
            currentTimestamp
            previousTimestamp
          }
        }
      }
    }
  }
`,Yc="You are doing this too often",Jc="Oops, something went wrong";class Xc{handleApiError(e){let t;return e.networkError?"statusCode"in e.networkError&&401===e.networkError.statusCode&&(t={type:pl.UnauthorizedError,message:e.message}):e.graphQLErrors&&(t=this.parseGraphQLErrors(e.graphQLErrors)),t||(dn(e),{type:pl.GenericError,message:e.message||Jc})}parseGraphQLErrors(e){for(const t of e){const e=this.parseGraphQLError(t);if(e)return e}}parseGraphQLError(e){var t;if(null!=(t=e.extensions)&&t.nextAvailablePixelTs)return{type:pl.PixelRateLimit,message:Yc,nextAvailablePixelTimestamp:e.extensions.nextAvailablePixelTs};if("429: too many requests"===e.message)return{type:pl.SubscribeRateLimit,message:Yc};if(e.message){const t=null==(e=e.message)?void 0:e.match(/^ratelimit hit, next available: (\d+)$/),n=parseInt((null==t?void 0:t[1])||"0");if(isFinite(n)&&0<n)return{type:pl.PixelRateLimit,message:Yc,nextAvailablePixelTimestamp:n}}}}!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Subscribed=2]="Subscribed",e[e.Unsubscribed=3]="Unsubscribed"}(Zc=Zc||{});class CanvasSubscription extends Xc{constructor({canvasIndex:e,client:t,query:n,variables:i,onMessage:r}){super(),this.state=Zc.Init,this.isRateLimited=!1,this.attempts=0,this.onSubscribeNext=e=>{this.onMessage(null==(e=e.data)?void 0:e.subscribe.data)},this.subscribe=async()=>(await this.waitIfRateLimited(),new Promise((n,i)=>{const{query:e,variables:t}=this,r=this.client.subscribe({query:e,variables:t}),o=null==r?void 0:r.subscribe(async e=>{this.isRateLimited=!1,this.attempts=0,this.onMessage(null==(e=e.data)?void 0:e.subscribe.data),n()},async e=>{dn(`Received an error message for ${this.variables.input.channel.category}:`+this.variables.input.channel.tag,{err:e});var t=this.handleApiError(e);if(this.changeState(Zc.Error),t.type===pl.SubscribeRateLimit){this.isRateLimited=!0;try{await this.subscribe(),n()}catch(e){i(e)}}});this.subscription=o,this.changeState(Zc.Subscribed),hn(`Subscribe to ${this.variables.input.channel.category} (index: ${this.canvasIndex})`)})),this.canvasIndex=e,this.client=t,this.query=n,this.variables={input:{channel:Object.assign({teamOwner:"AFD2022"},i)}},this.onMessage=r,window.addEventListener("pagehide",()=>{this.rateLimitTimeout&&clearTimeout(this.rateLimitTimeout)})}changeState(e){this.state!==e&&(this.state=e)}waitIfRateLimited(){return this.isRateLimited?6<=this.attempts?(dn("Rate limited subscription exceeded max allowed attempts"),Promise.reject(new Error(Yc))):new Promise(e=>{var t=1e3*Math.exp(this.attempts++);this.rateLimitTimeout=window.setTimeout(()=>{this.rateLimitTimeout=void 0,e()},t)}):Promise.resolve()}unsubscribe(){var e;null!=(e=this.subscription)&&e.unsubscribe(),this.changeState(Zc.Unsubscribed),hn("Unsubscribe from",this.variables)}}class tl{constructor(e){this.visibleCanvasIndexList=[],this.subscriptions={config:void 0,canvas:new Map},this.subscribeToConfigUpdates=async t=>{var e;this.unsubscribeFromConfigUpdates(),this.client&&(e={canvasIndex:0,client:this.client,query:Wc,variables:{category:hl.Config},onMessage:e=>t(e)},this.subscriptions.config=new CanvasSubscription(e),await this.subscriptions.config.subscribe())},this.subscribeToCanvasUpdates=async(e,t)=>{this.unsubscribeFromCanvasUpdates(t.index),this.client&&(t=t.index,this.createCanvasSubscription(t,e),this.subscribeToVisibleCanvas(t))},this.subscribeToVisibleCanvas=async e=>{this.visibleCanvasIndexList.includes(e)&&await(null==(e=this.subscriptions.canvas.get(e))?void 0:e.subscribe())},this.toggleVisibleCanvasListSubscription=r=>{this.visibleCanvasIndexList.join()!==r.join()&&(hn("Visibility changed (resubscribe canvases)",this.visibleCanvasIndexList=r),this.subscriptions.canvas.forEach(e=>{var{canvasIndex:t,state:n}=e,i=Zc["Subscribed"],t=r.includes(t);t&&n!==i?e.subscribe():t||n!==i||e.unsubscribe()}))},this.client=e}resetClient(e){this.client=e}unsubscribeFromConfigUpdates(){var e;null!=(e=this.subscriptions.config)&&e.unsubscribe(),this.subscriptions.config=void 0}createCanvasSubscription(t,n){var e={canvasIndex:t,client:this.client,query:Kc,variables:{category:hl.Canvas,tag:t.toString()},onMessage:e=>n(e,t)};this.subscriptions.canvas.set(t,new CanvasSubscription(e))}unsubscribeFromCanvasUpdates(e){void 0===e?(this.subscriptions.canvas.forEach(e=>e.unsubscribe()),this.subscriptions.canvas.clear()):this.subscriptions.canvas.has(e)&&null!=(e=this.subscriptions.canvas.get(e))&&e.unsubscribe()}}function nl({x:e,y:t}){return{x:Math.round(Math.min(at.getState(),Math.max(0,e||0))),y:Math.round(Math.min(st.getState(),Math.max(0,t||0)))}}function il(){return nl({x:et.getState(),y:tt.getState()})}function rl(){var{x:e,y:t}=nl({x:et.getState(),y:tt.getState()});return{cx:e,cy:t,px:Math.floor(nt.getState())}}function ol(e,t,n,i){n=Math.abs(n-e),e=Math.abs(i-t);return Math.hypot(n,e)}function sl(e,r,o){return e.reduce(({width:e,height:t},{dx:n,dy:i})=>({width:Math.max(e,n+r),height:Math.max(t,i+o)}),{width:0,height:0})}function al({x:e,y:t}){var n,i,r,o=ot.getState(),a=(n=e,i=t,null==(r=o)?void 0:r.canvasConfigurations.find(e=>n>=e.dx&&n<e.dx+r.canvasWidth&&i>=e.dy&&i<e.dy+r.canvasHeight));if(a&&o)return{x:e%o.canvasWidth,y:t%o.canvasHeight,index:a.index}}function cl({x:e,y:t}){var n=at.getState(),i=st.getState();return!n||!i||e<0||n<=e||t<0||i<=t}function ll(a,s){return s?s.canvasConfigurations.reduce((e,t)=>{var n={x1:t.dx,y1:t.dy,x2:t.dx+s.canvasWidth-1,y2:t.dy+s.canvasHeight-1},i=Math.max(n.x1,a.x1),r=Math.min(n.x2,a.x2),o=Math.max(n.y1,a.y1),n=Math.min(n.y2,a.y2);return e.push(Object.assign({canvasIndex:t.index},{topLeftCoordinate:{x:i%s.canvasWidth,y:o%s.canvasHeight},bottomRightCoordinate:{x:r%s.canvasWidth,y:n%s.canvasHeight}})),e},[]):[]}function ul(){var e=lt.getState();if(2===e.length){var{x:t,y:n}=e[0],{x:e,y:i}=e[1];if(i<n||e<t)return!0}return!1}!function(e){e.Config="CONFIG",e.Canvas="CANVAS"}(hl=hl||{}),function(e){e.FullFrame="FullFrameMessageData",e.DiffFrame="DiffFrameMessageData",e.ConfigurationUpdate="ConfigurationMessageData",e.PixelMessage="PixelMessageData",e.SetPixelResponseMessage="SetPixelResponseMessageData",e.SetRectangleAreaMessage="SetRectangleAreaMessageData",e.GetUserCooldownResponseMessage="GetUserCooldownResponseMessageData",e.PixelHistoryResponseMessage="GetTileHistoryResponseMessageData"}(dl=dl||{}),function(e){e.GenericError="GenericError",e.PixelRateLimit="PixelRateLimitError",e.Success="Success",e.UnauthorizedError="UnauthorizedError",e.SubscribeRateLimit="SubscribeRateLimitError"}(pl=pl||{});const fl=new class extends Xc{constructor(){super(),this.subscribeToConfigUpdates=async e=>{var t;return null==(t=this.subscriptions)?void 0:t.subscribeToConfigUpdates(e)},this.subscribeToCanvasUpdates=async(e,t)=>{var n;return null==(n=this.subscriptions)?void 0:n.subscribeToCanvasUpdates(e,t)},window.addEventListener("pagehide",()=>{this.destroy()}),window.socket=this}setAuthHeaders(e,t,n=!1){this.headers=e,n?this.createReadonlyClient():(this.createClient(t),this.createSubscriptions())}createReadonlyClient(){this.destroy();var e=new Vo({uri:`https://${CLIENT_CONFIG.REALTIME_SERVICE_DOMAIN}/query`,headers:this.headers});this.client=new lc(Object.assign(Object.assign({},Uc),{cache:new Ua,headers:this.headers,link:e}))}createClient(t){this.destroy();var e=new Vo({uri:`https://${CLIENT_CONFIG.REALTIME_SERVICE_DOMAIN}/query`,headers:this.headers}),n=new Vc({uri:`wss://${CLIENT_CONFIG.REALTIME_SERVICE_DOMAIN}/query`,options:Object.assign(Object.assign({},qc),{connectionParams:this.headers,connectionCallback:function(e){(e=Array.isArray(e)?e[0]:e)?"401: 401 Unauthorized"===e.message||"request is missing authentication data"===e.message?t({type:pl.UnauthorizedError,message:e.message}):(dn("Failed to establish a websocket connection",e),t({type:pl.GenericError,message:e.message})):t({type:pl.Success,data:void 0})}})}),n=Mo(({query:e})=>{e=br(e);return"OperationDefinition"===e.kind&&"subscription"===e.operation},n,e);this.client=new lc(Object.assign(Object.assign({},Uc),{cache:new Ua,headers:this.headers,link:n}))}destroy(){var e;this.unsubscribeFromConfigUpdates(),this.unsubscribeFromCanvasUpdates(),null!=(e=this.client)&&e.stop(),this.client=void 0}createSubscriptions(){var e;this.client&&(this.subscriptions&&(null!=(e=this.subscriptions)&&e.unsubscribeFromConfigUpdates(),null!=(e=this.subscriptions)&&e.unsubscribeFromCanvasUpdates()),this.subscriptions=new tl(this.client))}async makeRequest(e,t,n){var i;try{var r=await(null==(i=this.client)?void 0:i.mutate({mutation:e,variables:{input:t}}));if(null!=r&&r.errors){const e=this.parseGraphQLErrors(r.errors);return e||(dn("Failed to fetch "+t.actionName,r.errors[0]),{type:pl.GenericError,message:Jc})}if(null==r||!r.data)return{type:pl.GenericError,message:Jc};var o=n(r.data);return{type:pl.Success,data:o}}catch(e){return this.handleApiError(e)}}async setPixel(e){var t=al(e);return t?this.makeRequest(SetPixelProtocol,{actionName:"r/replace:set_pixel",PixelMessageData:{coordinate:{x:t.x,y:t.y},colorIndex:e.colorIndex,canvasIndex:t.index}},e=>{let t={};for(const n of e.act.data)n.data.__typename!==dl.SetPixelResponseMessage&&n.data.__typename!==dl.GetUserCooldownResponseMessage||(t=Object.assign(Object.assign({},t),n.data));return t}):(dn("Set Pixel: Failed to convert pixel coordinates to canvas coordinates"),{type:pl.GenericError,message:Jc})}async setRect({topLeftCoordinate:e,bottomRightCoordinate:t,colorIndex:n,canvasIndex:i}){return this.makeRequest(Gc,{actionName:"r/replace:set_rectangle_area",SetRectangleAreaMessageData:{topLeftCoordinate:e,bottomRightCoordinate:t,colorIndex:n,canvasIndex:i}},()=>{})}async getPixelHistory(e){e=al(e);return e?this.makeRequest(Qc,{actionName:"r/replace:get_tile_history",PixelMessageData:{coordinate:{x:e.x,y:e.y},colorIndex:0,canvasIndex:e.index}},e=>{for(const t of e.act.data)if(t.data.__typename===dl.PixelHistoryResponseMessage)return t.data}):(dn("Get Pixel History: Failed to convert pixel coordinates to canvas coordinates"),{type:pl.GenericError,message:Jc})}async getUserCooldown(){return this.makeRequest(Hc,{actionName:"r/replace:get_user_cooldown"},e=>{for(const t of e.act.data)if(t.data.__typename===dl.GetUserCooldownResponseMessage)return t.data})}async fetchUserData(){try{const e=await fetch("/svc/mona-lisa/get-user-data",{method:"GET",headers:Object.assign(Object.assign({},this.headers),{"content-type":"application/json"})});return 401===e.status?{type:pl.UnauthorizedError,message:Jc}:200!==e.status?(dn(`Failed to fetch user data: ${e.status} `+e.statusText),{type:pl.GenericError,message:Jc}):{type:pl.Success,data:await e.json()}}catch(e){return dn("Failed to fetch user data",e),{type:pl.GenericError,message:Jc}}}unsubscribeFromConfigUpdates(){var e;null!=(e=this.subscriptions)&&e.unsubscribeFromConfigUpdates()}unsubscribeFromCanvasUpdates(e){var t;null!=(t=this.subscriptions)&&t.unsubscribeFromCanvasUpdates(e)}toggleVisibleCanvasListSubscription(e){var t;null!=(t=this.subscriptions)&&t.toggleVisibleCanvasListSubscription(e)}},ml=(!function(e){e.CLOSE_PALLETTE="close-pallette",e.COOLDOWN_END="cooldown-end",e.COOLDOWN_START="cooldown-start",e.HIGHLIGHT="highlight",e.INVALID="invalid",e.SELECT_COLOR="select-color"}(vl=vl||{}),e=>t=>{Object.values(e).forEach(e=>{e.muted=t})}),yl=(()=>{const n={};return Object.values(vl).forEach(e=>{const t=new Audio;t.src=CLIENT_CONFIG.MEDIA_STORAGE_BASE_URL+`interactions/${e}.mp3`,t.loop=!1,t.controls=!0,n[e]=t}),ml(n)(!1),n})();function gl(t){return!!CLIENT_CONFIG.REDDIT_DOMAINS.find(e=>t.endsWith(e))}function bl(i){return new Promise((e,t)=>{const n=document.createElement("img");n.crossOrigin="anonymous",n.onerror=t,n.onload=()=>e(n),n.src=i})}const wl=Symbol("mixins/with-app-link"),_l=(!function(e){e.Active="Active",e.Idle="Idle",e.Hidden="Hidden"}(xl=xl||{}),Symbol("mixins/with-app-link")),El=Symbol("mixins/with-app-link"),Sl=Symbol("mixins/with-app-link");var ql,kl=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Tl=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}},Cl=function(t,n){function i(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||(t(e),n&&(removeEventListener("visibilitychange",i,!0),removeEventListener("pagehide",i,!0)))}addEventListener("visibilitychange",i,!0),addEventListener("pagehide",i,!0)},Ol=function(t){addEventListener("pageshow",function(e){e.persisted&&t(e)},!0)},Al=function(t,n,i){var r;return function(e){0<=n.value&&(e||i)&&(n.delta=n.value-(r||0),!n.delta&&void 0!==r||(r=n.value,t(n)))}},Il=-1,Ml=function(){Cl(function(e){e=e.timeStamp;Il=e},!0)},Pl=function(){return Il<0&&((Il=window.webVitals.firstHiddenTime)===1/0&&Ml(),Ol(function(){setTimeout(function(){Il="hidden"===document.visibilityState?0:1/0,Ml()},0)})),{get firstHiddenTime(){return Il}}},Dl=function(t,n){function e(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=e.startTime,o.entries.push(e),i(!0)))}var i,r=Pl(),o=kl("FCP"),a=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=a?null:Tl("paint",e);(a||s)&&(i=Al(t,o,n),a&&e(a),Ol(function(e){o=kl("FCP"),i=Al(t,o,n),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-e.timeStamp,i(!0)})})}))},Nl=!1,Rl=-1,Ll={};const Fl=[{dpi:3,height:926,width:428,version:"iphone 12 Pro Max",yearClass:2020},{dpi:3,height:896,width:414,version:"iphone 11 Pro Max",yearClass:2019},{dpi:3,height:844,width:390,version:"iphone 12",yearClass:2020},{dpi:3,height:812,width:375,version:"iphone 7",yearClass:2016},{dpi:3,height:736,width:414,version:"iphone 8 Plus",yearClass:2017},{dpi:2,height:896,width:414,version:"iphone 11",yearClass:2019},{dpi:2,height:667,width:375,version:"iphone SE 2nd Gen",yearClass:2020},{dpi:2,height:568,width:320,version:"iphone 5S",yearClass:2013},{dpi:2,height:480,width:320,version:"iphone 4S",yearClass:2011}];function jl(){const e=function(){if(window.screen&&window.devicePixelRatio){const{height:t,width:n}=window.screen,i=window.devicePixelRatio;return Fl.find(e=>i===e.dpi&&t===e.height&&n===e.width)}}();if(e)return{deviceName:e.version.toLowerCase().replace(" ","-"),yearClass:e.yearClass}}class $l{constructor(){let n,i;this.promise=new Promise((e,t)=>{n=e,i=t}),this.resolve=n,this.reject=i}}const zl=()=>{var e=window.performance.getEntriesByType("navigation")[0];return e&&e.responseEnd-e.responseStart<8};class Vl{constructor(e){this._custom={},this._metrics={},this._isCached=!1,this.remeasureForBFCacheRestore=e=>{const n={metrics:{},meta:{},cache_restore:!0};Object.keys(this._metrics).forEach(e=>{this.isKeyCustomMetric(e)||this._metrics[e]&&(n.metrics[e]=0)}),Object.keys(n.metrics).length&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{const t=performance.now()-e.timeStamp;Object.keys(n.metrics).forEach(e=>{n.metrics[e]=t}),this.notifyAndSendMetrics(n)})})},this._callback=e}async connect(){var{isCached:e,unsubscribe:t}=await(t=>{const e=e=>{e.persisted&&t(e)},n=(window.addEventListener("pageshow",e,!0),new $l);return n.resolve({isCached:zl(),unsubscribe:()=>{window.removeEventListener("pageshow",e)}}),n.promise})(this.remeasureForBFCacheRestore);this._unsubscribeFromCacheRestore=t,this._isCached=e,this.gatherThenSendMetrics(),Object.keys(this._metrics).some(e=>!this.isKeyCustomMetric(e)&&!this._metrics[e])&&this.registerPerfObserver()}disconnect(){var e;null!=(e=this._observer)&&e.disconnect(),null!=(e=this._unsubscribeFromCacheRestore)&&e.call(this)}gatherThenSendMetrics(){var e=this.gatherMetrics();this.notifyAndSendMetrics(e)}notifyAndSendMetrics(e){Object.keys(e.metrics).length&&this._callback(e)}isKeyCustomMetric(e){return Object.prototype.hasOwnProperty.call(this._custom,e)}gatherMetrics(){const i={metrics:{},meta:{}};return this._isCached&&(i.cache_restore=!0),Object.keys(this._metrics).forEach(e=>{if(!this._metrics[e]){if(this.isKeyCustomMetric(e)){const n=this._custom[e];-1<n&&(i.metrics[e]=n,this._metrics[e]=!0)}performance.getEntriesByName(e,"mark").length&&performance.measure(e,"fetchStart",e);const n=performance.getEntriesByName(e,"measure");var t;n.length&&(t=n[0]["duration"],i.metrics[e]=Math.ceil(t),this._metrics[e]=!0)}}),i}registerPerfObserver(){this._observer=new PerformanceObserver(e=>{e.getEntries().some(e=>!!e.name&&!this._metrics[e.name])&&this.gatherThenSendMetrics()}),this._observer.observe({entryTypes:["mark"]})}registerPerfMetric(e){this._metrics[e]=!1}registerCustomMetric(t){return this._custom[t]=-1,this.registerPerfMetric(t),e=>{this._custom[t]=e,this.gatherThenSendMetrics()}}getCustomMetricValue(e){return this._custom[e]}}!function(e){e.CLS="cumulative-layout-shift",e.FID="first-input-delay",e.LCP="longest-contentful-paint",e.TTFB="time-to-first-byte"}(ql=ql||{});let Ul=class extends Ae{constructor(){super(...arguments),this._perfMetrics=new Vl(e=>{var t=null==(t=jl())?void 0:t.yearClass,e=Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),t&&{yearClass:t})}),t=g("faceplate-request",{resource:this.endpoint,request:{body:e}});this.dispatchEvent(t),t.defaultPrevented||(e=JSON.stringify(t.detail.request.body),navigator.sendBeacon(this.endpoint,e))}),this.endpoint=""}render(){return le` <slot hidden></slot> `}firstUpdated(){if(this.endpoint){if(this._slottedContent)for(const _ of this._slottedContent)_ instanceof HTMLDataElement&&this.parseDataElement(_);f=this.onWebVitalMeasured(ql.CLS,e=>e),Nl||(Dl(function(e){Rl=e.value}),Nl=!0),v=kl("CLS",0),g=0,y=[],(b=Tl("layout-shift",S))&&(m=Al(k,v,void 0),Cl(function(){b.takeRecords().map(S),m(!0)}),Ol(function(){Rl=-1,v=kl("CLS",g=0),m=Al(k,v,void 0)})),l=this.onWebVitalMeasured(ql.FID,Math.ceil),u=Pl(),h=kl("FID"),d=Tl("first-input",x),p=Al(l,h,void 0),d&&Cl(function(){d.takeRecords().map(x),d.disconnect()},!0),d||window.webVitals.firstInputPolyfill(x),Ol(function(){h=kl("FID"),p=Al(l,h,void 0),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(x)}),i=this.onWebVitalMeasured(ql.LCP,Math.ceil),a=Pl(),s=kl("LCP"),(c=Tl("largest-contentful-paint",w))&&(r=Al(i,s,void 0),o=function(){Ll[s.id]||(c.takeRecords().map(w),c.disconnect(),Ll[s.id]=!0,r(!0))},["keydown","click"].forEach(function(e){addEventListener(e,o,{once:!0,capture:!0})}),Cl(o,!0),Ol(function(e){s=kl("LCP"),r=Al(i,s,void 0),requestAnimationFrame(function(){requestAnimationFrame(function(){s.value=performance.now()-e.timeStamp,Ll[s.id]=!0,r(!0)})})})),t=this.onWebVitalMeasured(ql.TTFB,Math.ceil),n=kl("TTFB"),e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var e,t=performance.timing,n={entryType:"navigation",startTime:0};for(e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n}();if(n.value=n.delta=e.responseStart,n.value<0||n.value>performance.now())return;n.entries=[e],t(n)}catch(e){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)}),this._perfMetrics.connect()}else console.error("faceplate-perfmetric-collector: no endpoint specified");var t,n,e,i,r,o,a,s,c,l,u,h,d,p,f,m,v,g,y,b;function w(e){var t=e.startTime;t<a.firstHiddenTime&&(s.value=t,s.entries.push(e),r())}function x(e){e.startTime<u.firstHiddenTime&&(h.value=e.processingStart-e.startTime,h.entries.push(e),p(!0))}function k(e){-1<Rl&&f(e)}function S(e){var t,n;e.hadRecentInput||(t=y[0],n=y[y.length-1],g&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(g+=e.value,y.push(e)):(g=e.value,y=[e]),g>v.value&&(v.value=g,v.entries=y,m()))}}onWebVitalMeasured(t,n){const i=this._perfMetrics.registerCustomMetric(t);return e=>{-1===e.value||-1<this._perfMetrics.getCustomMetricValue(t)||i(n(e.value))}}disconnectedCallback(){super.disconnectedCallback(),this._perfMetrics.disconnect()}parseDataElement(e){e=e.value;this._perfMetrics.registerPerfMetric(e)}},Bl=(r([function(e){let i,r=e;return i={flatten:void 0},d({descriptor:e=>({get(){var e;const t="slot"+(r?`[name=${r}]`:":not([name])"),n=null==(e=this.renderRoot)?void 0:e.querySelector(t);return null!=(e=null==n?void 0:n.assignedNodes(i))?e:[]},enumerable:!0,configurable:!0})})}()],Ul.prototype,"_slottedContent",void 0),r([u({type:String})],Ul.prototype,"endpoint",void 0),Ul=r([c("faceplate-perfmetric-collector")],Ul),rn("icon-edit",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M18.25 3.159L16.841 1.75a2.634 2.634 0 00-3.692-.021L1.214 13.405a1.135 1.135 0 00-.339.805V18A1.127 1.127 0 002 19.125h3.79a1.134 1.134 0 00.8-.338L18.271 6.851a2.634 2.634 0 00-.021-3.692zM5.79 17.875H2.124L2.087 14.3l9.771-9.559 3.4 3.406zm11.587-11.9l-1.241 1.277-3.385-3.385 1.272-1.244a1.381 1.381 0 011.934.011l1.409 1.409a1.381 1.381 0 01.011 1.934z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10.8 4.029l-9.586 9.376a1.135 1.135 0 00-.339.805V18A1.127 1.127 0 002 19.125h3.79a1.134 1.134 0 00.8-.338L15.971 9.2zM18.25 3.159L16.841 1.75a2.634 2.634 0 00-3.692-.021l-1.457 1.426 5.153 5.153 1.426-1.457a2.634 2.634 0 00-.021-3.692z"/></svg>`),class extends Ae{static get styles(){return R`:host{position:absolute;z-index:1;left:16px;top:50%;transform:translateY(-50%)}icon-edit{display:inline-flex}`}constructor(){super(),dt(this,ct)}toggleErase(){this.dispatchEvent(g("toggle-admin-erase-tool"))}render(){return le` <mona-lisa-icon-button @click="${this.toggleErase}" .selected="${ct.getState()}"> <icon-edit></icon-edit> </mona-lisa-icon-button>`}});Bl=r([c("mona-lisa-admin-controls")],Bl);var Ql={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Hl={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Gl=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Wl={CSS:{},springs:{}};function Kl(e,t,n){return Math.min(Math.max(e,t),n)}function Yl(e,t){return-1<e.indexOf(t)}function Jl(e,t){return e.apply(null,t)}var Xl={arr:function(e){return Array.isArray(e)},obj:function(e){return Yl(Object.prototype.toString.call(e),"Object")},pth:function(e){return Xl.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||Xl.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return Xl.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Xl.hex(e)||Xl.rgb(e)||Xl.hsl(e)},key:function(e){return!Ql.hasOwnProperty(e)&&!Hl.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function Zl(e){e=/\(([^)]+)\)/.exec(e);return e?e[1].split(",").map(function(e){return parseFloat(e)}):[]}function eu(i,n){var e=Zl(i),t=Kl(Xl.und(e[0])?1:e[0],.1,100),r=Kl(Xl.und(e[1])?100:e[1],.1,100),o=Kl(Xl.und(e[2])?10:e[2],.1,100),e=Kl(Xl.und(e[3])?0:e[3],.1,100),a=Math.sqrt(r/t),s=o/(2*Math.sqrt(r*t)),c=s<1?a*Math.sqrt(1-s*s):0,l=s<1?(s*a-e)/c:-e+a;function u(e){var t=n?n*e/1e3:e,t=s<1?Math.exp(-t*s*a)*(+Math.cos(c*t)+l*Math.sin(c*t)):(1+l*t)*Math.exp(-t*a);return 0===e||1===e?e:1-t}return n?u:function(){var e=Wl.springs[i];if(e)return e;for(var t=0,n=0;;)if(1===u(t+=1/6)){if(16<=++n)break}else n=0;e=t*(1/6)*1e3;return Wl.springs[i]=e}}function tu(t){return void 0===t&&(t=10),function(e){return Math.ceil(Kl(e,1e-6,1)*t)*(1/t)}}var nu,iu,ru=function(){function i(e,t){return 1-3*t+3*e}function k(e,t,n){return((i(t,n)*e+(3*n-6*t))*e+3*t)*e}function S(e,t,n){return 3*i(t,n)*e*e+2*(3*n-6*t)*e+3*t}return function(b,t,w,n){if(0<=b&&b<=1&&0<=w&&w<=1){var x=new Float32Array(11);if(b!==t||w!==n)for(var e=0;e<11;++e)x[e]=k(.1*e,b,w);return function(e){return b===t&&w===n||0===e||1===e?e:k(function(e){for(var t=0,n=1;10!==n&&x[n]<=e;++n)t+=.1;var i=t+(e-x[--n])/(x[n+1]-x[n])*.1,r=S(i,b,w);if(.001<=r){for(var o=e,a=i,s=b,c=w,l=0;l<4;++l){var u=S(a,s,c);if(0===u)return a;a-=(k(a,s,c)-o)/u}return a}if(0===r)return i;for(var h,d,p=e,f=t,m=t+.1,v=b,g=w,y=0;0<(h=k(d=f+(m-f)/2,v,g)-p)?m=d:f=d,1e-7<Math.abs(h)&&++y<10;);return d}(e),t,n)}}}}(),ou=(nu={linear:function(){return function(e){return e}}},iu={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===t&&(t=.5);var n=Kl(e=void 0===e?1:e,1,10),i=Kl(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){iu[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(iu).forEach(function(e){var i=iu[e];nu["easeIn"+e]=i,nu["easeOut"+e]=function(t,n){return function(e){return 1-i(t,n)(1-e)}},nu["easeInOut"+e]=function(t,n){return function(e){return e<.5?i(t,n)(2*e)/2:1-i(t,n)(-2*e+2)/2}},nu["easeOutIn"+e]=function(t,n){return function(e){return e<.5?(1-i(t,n)(1-2*e))/2:(i(t,n)(2*e-1)+1)/2}}}),nu);function su(e,t){if(Xl.fnc(e))return e;var n=e.split("(")[0],i=ou[n],r=Zl(e);switch(n){case"spring":return eu(e,t);case"cubicBezier":return Jl(ru,r);case"steps":return Jl(tu,r);default:return Jl(i,r)}}function au(e){try{return document.querySelectorAll(e)}catch(e){return}}function cu(e,t){for(var n,i=e.length,r=2<=arguments.length?t:void 0,o=[],a=0;a<i;a++)a in e&&(n=e[a],t.call(r,n,a,e)&&o.push(n));return o}function lu(e){return e.reduce(function(e,t){return e.concat(Xl.arr(t)?lu(t):t)},[])}function uu(e){return Xl.arr(e)?e:(e=Xl.str(e)?au(e)||e:e)instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e]}function hu(e,t){return e.some(function(e){return e===t})}function du(e){var t,n={};for(t in e)n[t]=e[t];return n}function pu(e,t){var n,i=du(e);for(n in e)i[n]=(t.hasOwnProperty(n)?t:e)[n];return i}function fu(e,t){var n,i=du(e);for(n in t)i[n]=(Xl.und(e[n])?t:e)[n];return i}function vu(e){return Xl.rgb(e)?(c=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(s=e))?"rgba("+c[1]+",1)":s:Xl.hex(e)?(c=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c),"rgba("+parseInt(c[1],16)+","+parseInt(c[2],16)+","+parseInt(c[3],16)+",1)"):Xl.hsl(e)?(s=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s=e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(s),e=parseInt(s[1],10)/360,o=parseInt(s[2],10)/100,a=parseInt(s[3],10)/100,s=s[4]||1,0==o?n=i=r=a:(n=t(o=2*a-(a=a<.5?a*(1+o):a+o-a*o),a,e+1/3),i=t(o,a,e),r=t(o,a,e-1/3)),"rgba("+255*n+","+255*i+","+255*r+","+s+")"):void 0;function t(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n,i,r,o,a,s,c}function mu(e){e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(e)return e[1]}function yu(e,t){return Xl.fnc(e)?e(t.target,t.id,t.total):e}function gu(e,t){return e.getAttribute(t)}function bu(e,t,n){if(hu([n,"deg","rad","turn"],mu(t)))return t;var i=Wl.CSS[t+n];if(!Xl.und(i))return i;var i=document.createElement(e.tagName),e=e.parentNode&&e.parentNode!==document?e.parentNode:document.body,r=(e.appendChild(i),i.style.position="absolute",i.style.width=100+n,100/i.offsetWidth),e=(e.removeChild(i),r*parseFloat(t));return Wl.CSS[t+n]=e}function wu(e,t,n){var i;if(t in e.style)return i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0",n?bu(e,t,n):t}function xu(e,t){return Xl.dom(e)&&!Xl.inp(e)&&(!Xl.nil(gu(e,t))||Xl.svg(e)&&e[t])?"attribute":Xl.dom(e)&&hu(Gl,t)?"transform":Xl.dom(e)&&"transform"!==t&&wu(e,t)?"css":null!=e[t]?"object":void 0}function _u(e){if(Xl.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function Eu(e,t,n,i){var r=Yl(t,"scale")?1:0+(Yl(r=t,"translate")||"perspective"===r?"px":Yl(r,"rotate")||Yl(r,"skew")?"deg":void 0),o=_u(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?bu(e,o,i):o}function Su(e,t,n,i){switch(xu(e,t)){case"transform":return Eu(e,t,i,n);case"css":return wu(e,t,n);case"attribute":return gu(e,t);default:return e[t]||0}}function ku(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=mu(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function Tu(e,t){if(Xl.col(e))return vu(e);if(/\s/g.test(e))return e;var n=mu(e),n=n?e.substr(0,e.length-n.length):e;return t?n+t:n}function Cu(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ou(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var o=n.getItem(r);0<r&&(i+=Cu(t,o)),t=o}return i}function Au(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*gu(e,"r");case"rect":return 2*gu(n=e,"width")+2*gu(n,"height");case"line":return Cu({x:gu(n=e,"x1"),y:gu(n,"y1")},{x:gu(n,"x2"),y:gu(n,"y2")});case"polyline":return Ou(e);case"polygon":return t=e.points,Ou(e)+Cu(t.getItem(t.numberOfItems-1),t.getItem(0))}var t,n}function Iu(t,e){var e=e||{},n=e.el||function(){for(var e=t.parentNode;Xl.svg(e)&&Xl.svg(e.parentNode);)e=e.parentNode;return e}(),i=n.getBoundingClientRect(),r=gu(n,"viewBox"),o=i.width,i=i.height,e=e.viewBox||(r?r.split(" "):[0,0,o,i]);return{el:n,viewBox:e,x:+e[0],y:+e[1],w:o,h:i,vW:e[2],vH:e[3]}}function Mu(t,n,e){function i(e){return t.el.getPointAtLength(1<=n+(e=void 0===e?0:e)?n+e:0)}var r=Iu(t.el,t.svg),o=i(),a=i(-1),s=i(1),c=e?1:r.w/r.vW,l=e?1:r.h/r.vH;switch(t.property){case"x":return(o.x-r.x)*c;case"y":return(o.y-r.y)*l;case"angle":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}}function Pu(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=Tu(Xl.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Xl.str(e)||t?i.split(n):[]}}function Du(e){return cu(e?lu(Xl.arr(e)?e.map(uu):uu(e)):[],function(e,t,n){return n.indexOf(e)===t})}function Nu(e){var n=Du(e);return n.map(function(e,t){return{target:e,id:t,total:n.length,transforms:{list:_u(e)}}})}function Ru(e,n){var t,i=du(n),r=(/^spring/.test(i.easing)&&(i.duration=eu(i.easing)),Xl.arr(e)&&(2!==(t=e.length)||Xl.obj(e[0])?Xl.fnc(n.duration)||(i.duration=n.duration/t):e={value:e}),Xl.arr(e)?e:[e]);return r.map(function(e,t){e=Xl.obj(e)&&!Xl.pth(e)?e:{value:e};return Xl.und(e.delay)&&(e.delay=t?0:n.delay),Xl.und(e.endDelay)&&(e.endDelay=t===r.length-1?n.endDelay:0),e}).map(function(e){return fu(e,i)})}function Lu(e,t){var n,i=[],r=t.keyframes;for(n in t=r?fu(function(t){for(var n=cu(lu(t.map(function(e){return Object.keys(e)})),function(e){return Xl.key(e)}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),r={},e=0;e<n.length;e++)!function(e){var i=n[e];r[i]=t.map(function(e){var t,n={};for(t in e)Xl.key(t)?t==i&&(n.value=e[t]):n[t]=e[t];return n})}(e);return r}(r),t):t)Xl.key(n)&&i.push({name:n,tweens:Ru(t[n],e)});return i}function Fu(s,c){var l;return s.tweens.map(function(e){var e=function(e,t){var n,i={};for(n in e){var r=yu(e[n],t);Xl.arr(r)&&(1===(r=r.map(function(e){return yu(e,t)})).length&&(r=r[0])),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(e,c),t=e.value,n=Xl.arr(t)?t[1]:t,i=mu(n),r=Su(c.target,s.name,i,c),o=l?l.to.original:r,a=Xl.arr(t)?t[0]:o,r=mu(a)||mu(r),i=i||r;return Xl.und(n)&&(n=o),e.from=Pu(a,i),e.to=Pu(ku(n,a),i),e.start=l?l.end:0,e.end=e.start+e.delay+e.duration+e.endDelay,e.easing=su(e.easing,e.duration),e.isPath=Xl.pth(t),e.isPathTargetInsideSVG=e.isPath&&Xl.svg(c.target),e.isColor=Xl.col(e.from.original),e.isColor&&(e.round=1),l=e})}var ju={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){var o;i.list.set(t,n),t!==i.last&&!r||(o="",i.list.forEach(function(e,t){o+=t+"("+e+") "}),e.style.transform=o)}};function $u(e,a){Nu(e).forEach(function(e){for(var t in a){var n=yu(a[t],e),i=e.target,r=mu(n),o=Su(i,t,r,e),n=ku(Tu(n,r||mu(o)),o),r=xu(i,t);ju[r](i,t,n,e.transforms,!0)}})}function zu(e,t){return cu(lu(e.map(function(o){return t.map(function(e){var t,n,i=o,r=xu(i.target,e.name);if(r)return n=(t=Fu(e,i))[t.length-1],{type:r,property:e.name,animatable:i,tweens:t,duration:n.end,delay:t[0].delay,endDelay:n.endDelay}})})),function(e){return!Xl.und(e)})}function Vu(e,t){function n(e){return e.timelineOffset||0}var i=e.length,r={};return r.duration=i?Math.max.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,r.delay=i?Math.min.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,r.endDelay=i?r.duration-Math.max.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,r}var qu=0,Uu=[],Bu=function(){var r;function o(e){for(var t=Uu.length,n=0;n<t;){var i=Uu[n];i.paused?(Uu.splice(n,1),t--):(i.tick(e),n++)}r=0<n?requestAnimationFrame(o):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){Hu.suspendWhenDocumentHidden&&(Qu()?r=cancelAnimationFrame(r):(Uu.forEach(function(e){return e._onDocumentVisibility()}),Bu()))}),function(){!(r||Qu()&&Hu.suspendWhenDocumentHidden)&&0<Uu.length&&(r=requestAnimationFrame(o))}}();function Qu(){return!!document&&document.hidden}function Hu(e){var c,l=0,u=0,h=0,d=0,p=null;function f(e){var t=window.Promise&&new Promise(function(e){return p=e});e.finished=t}t=pu(Ql,e=e=void 0===e?{}:e),n=pu(Hl,e),i=Lu(n,e),e=Nu(e.targets),i=zu(e,i),n=Vu(i,n),r=qu,qu++;var t,n,i,r,S=fu(t,{id:r,children:[],animatables:e,animations:i,duration:n.duration,delay:n.delay,endDelay:n.endDelay});function m(){var e=S.direction;"alternate"!==e&&(S.direction="normal"!==e?"normal":"reverse"),S.reversed=!S.reversed,c.forEach(function(e){return e.reversed=S.reversed})}function v(e){return S.reversed?S.duration-e:e}function o(){l=0,u=v(S.currentTime)*(1/Hu.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function y(t){for(var e=0,n=S.animations,i=n.length;e<i;){var r=n[e],o=r.animatable,a=r.tweens,s=a.length-1,c=a[s];s&&(c=cu(a,function(e){return t<e.end})[0]||c);for(var s=Kl(t-c.start-c.delay,0,c.duration)/c.duration,l=isNaN(s)?1:c.easing(s),u=c.to.strings,h=c.round,d=[],p=c.to.numbers.length,f=void 0,m=0;m<p;m++){var v=void 0,g=c.to.numbers[m],y=c.from.numbers[m]||0,v=c.isPath?Mu(c.value,l*g,c.isPathTargetInsideSVG):y+l*(g-y);!h||c.isColor&&2<m||(v=Math.round(v*h)/h),d.push(v)}var b=u.length;if(b)for(var f=u[0],w=0;w<b;w++){u[w];var x=u[w+1],k=d[w];isNaN(k)||(f+=x?k+x:k+" ")}else f=d[0];ju[r.type](o.target,r.property,f,o.transforms),r.currentValue=f,e++}}function b(e){S[e]&&!S.passThrough&&S[e](S)}function a(e){var t=S.duration,n=S.delay,i=t-S.endDelay,r=v(e);if(S.progress=Kl(r/t*100,0,100),S.reversePlayback=r<S.currentTime,c){var o=r;if(S.reversePlayback)for(var a=d;a--;)g(o,c[a]);else for(var s=0;s<d;s++)g(o,c[s])}!S.began&&0<S.currentTime&&(S.began=!0,b("begin")),!S.loopBegan&&0<S.currentTime&&(S.loopBegan=!0,b("loopBegin")),r<=n&&0!==S.currentTime&&y(0),(i<=r&&S.currentTime!==t||!t)&&y(t),n<r&&r<i?(S.changeBegan||(S.changeBegan=!0,S.changeCompleted=!1,b("changeBegin")),b("change"),y(r)):S.changeBegan&&(S.changeCompleted=!0,S.changeBegan=!1,b("changeComplete")),S.currentTime=Kl(r,0,t),S.began&&b("update"),t<=e&&(u=0,S.remaining&&!0!==S.remaining&&S.remaining--,S.remaining?(l=h,b("loopComplete"),S.loopBegan=!1,"alternate"===S.direction&&m()):(S.paused=!0,S.completed||(S.completed=!0,b("loopComplete"),b("complete"),!S.passThrough&&"Promise"in window&&(p(),f(S)))))}return f(S),S.reset=function(){var e=S.direction;S.passThrough=!1,S.currentTime=0,S.progress=0,S.paused=!0,S.began=!1,S.loopBegan=!1,S.changeBegan=!1,S.completed=!1,S.changeCompleted=!1,S.reversePlayback=!1,S.reversed="reverse"===e,S.remaining=S.loop,c=S.children;for(var t=d=c.length;t--;)S.children[t].reset();(S.reversed&&!0!==S.loop||"alternate"===e&&1===S.loop)&&S.remaining++,y(S.reversed?S.duration:0)},S._onDocumentVisibility=o,S.set=function(e,t){return $u(e,t),S},S.tick=function(e){a(((h=e)+(u-(l=l||h)))*Hu.speed)},S.seek=function(e){a(v(e))},S.pause=function(){S.paused=!0,o()},S.play=function(){S.paused&&(S.completed&&S.reset(),S.paused=!1,Uu.push(S),o(),Bu())},S.reverse=function(){m(),S.completed=!S.reversed,o()},S.restart=function(){S.reset(),S.play()},S.remove=function(e){Wu(Du(e),S)},S.reset(),S.autoplay&&S.play(),S}function Gu(e,t){for(var n=t.length;n--;)hu(e,t[n].animatable.target)&&t.splice(n,1)}function Wu(e,t){var n=t.animations,i=t.children;Gu(e,n);for(var r=i.length;r--;){var o=i[r],a=o.animations;Gu(e,a),a.length||o.children.length||i.splice(r,1)}n.length||i.length||t.pause()}Hu.version="3.2.1",Hu.speed=1,Hu.suspendWhenDocumentHidden=!0,Hu.running=Uu,Hu.remove=function(e){for(var t=Du(e),n=Uu.length;n--;)Wu(t,Uu[n])},Hu.get=Su,Hu.set=$u,Hu.convertPx=bu,Hu.path=function(e,t){var n=Xl.str(e)?au(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:Iu(n),totalLength:Au(n)*(i/100)}}},Hu.setDashoffset=function(e){var t=Au(e);return e.setAttribute("stroke-dasharray",t),t},Hu.stagger=function(e,t){var s=(t=void 0===t?{}:t).direction||"normal",c=t.easing?su(t.easing):null,l=t.grid,u=t.axis,h=t.from||0,d="first"===h,p="center"===h,f="last"===h,m=Xl.arr(e),v=m?parseFloat(e[0]):parseFloat(e),g=m?parseFloat(e[1]):0,y=mu(m?e[1]:e)||0,b=t.start||0+(m?v:0),w=[],x=0;return function(e,t,n){if(d&&(h=0),p&&(h=(n-1)/2),f&&(h=n-1),!w.length){for(var i,r,o,a=0;a<n;a++)l?(i=p?(l[0]-1)/2:h%l[0],r=p?(l[1]-1)/2:Math.floor(h/l[0]),i=i-a%l[0],r=r-Math.floor(a/l[0]),o=Math.sqrt(i*i+r*r),"x"===u&&(o=-i),w.push(o="y"===u?-r:o)):w.push(Math.abs(h-a)),x=Math.max.apply(Math,w);c&&(w=w.map(function(e){return c(e/x)*x})),"reverse"===s&&(w=w.map(function(e){return u?e<0?-1*e:-e:Math.abs(x-e)}))}return b+(m?(g-v)/x:v)*(Math.round(100*w[t])/100)+y}},Hu.timeline=function(a){var s=Hu(a=void 0===a?{}:a);return s.duration=0,s.add=function(e,t){var n=Uu.indexOf(s),i=s.children;function r(e){e.passThrough=!0}-1<n&&Uu.splice(n,1);for(var o=0;o<i.length;o++)r(i[o]);n=fu(e,pu(Hl,a)),n.targets=n.targets||a.targets,e=s.duration,n.autoplay=!1,n.direction=s.direction,n.timelineOffset=Xl.und(t)?e:ku(t,e),r(s),s.seek(n.timelineOffset),t=Hu(n),r(t),i.push(t),e=Vu(i,a);return s.delay=e.delay,s.endDelay=e.endDelay,s.duration=e.duration,s.seek(0),s.reset(),s.autoplay&&s.play(),s},s},Hu.easing=su,Hu.penner=ou,Hu.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Ku=vn(class extends mn{constructor(e){if(super(e),e.type!==fn||"style"!==e.name||2<(null==(e=e.strings)?void 0:e.length))throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(i){return Object.keys(i).reduce((e,t)=>{var n=i[t];return null==n?e:e+`${t=t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`},"")}update(e,[t]){const n=e.element["style"];if(void 0===this.ct){this.ct=new Set;for(const e in t)this.ct.add(e);return this.render(t)}this.ct.forEach(e=>{null==t[e]&&(this.ct.delete(e),e.includes("-")?n.removeProperty(e):n[e]="")});for(const e in t){var i=t[e];null!=i&&(this.ct.add(e),e.includes("-")?n.setProperty(e,i):n[e]=i)}return he}});let Yu=class extends Ae{constructor(){super(),this.name="",this.isOpen=!1,this.small=!1,dt(this,Ke),dt(this,it)}static get styles(){return R`.tooltip{display:none;background:#fff;border-radius:16px;position:absolute;width:fit-content;white-space:nowrap;justify-content:center;align-items:center;text-align:center;color:#000;font-size:14px;font-weight:700;box-shadow:0 4px 10px rgb(0,0,0,.25);top:calc(-50% - 8px);left:50%;transform:translate(-50%,-50%)}.tooltip::after{content:'';width:0;height:0;border-left:14px solid transparent;border-right:14px solid transparent;border-top:14px solid #fff;position:absolute;top:calc(100% + -1px)}:host([isOpen])>.tooltip{display:flex}:host([small]) .tooltip{top:calc(-50% + 1px)}:host([small]) .tooltip::after{border-left-width:7px;border-right-width:7px;border-top-width:7px}`}render(){return!Ke.getState()||it.getState()<Be.Optimal?"":le`<div class="tooltip"> <slot></slot> </div>`}};r([u({type:String,reflect:!0})],Yu.prototype,"name",void 0),r([u({type:Boolean,reflect:!0})],Yu.prototype,"isOpen",void 0),r([u({type:Boolean})],Yu.prototype,"small",void 0),Yu=r([c("mona-lisa-tooltip")],Yu);const Ju={rootMargin:"200px"},Xu=new Map;function Zu(e,t){return!Xu.has(e)&&t&&Xu.set(e,new IntersectionObserver(e=>{for(const t of e){const e=t.target;t.isIntersecting?e.observerIsIntersectingCallback(t):e.observerIsNotIntersectingCallback(t)}},t)),Xu.get(e)}const eh=Symbol("mixins/observer"),th=Symbol("mixins/user-action");let nh=class extends function(e){if(th in e)return e;class t extends e{constructor(){super(...arguments),this._userActionEnabled=!1,this._loadingHandleClick=()=>{this._userActionEnabled&&this.userActionCallback()},this._loadingHandleKeyDown=e=>{!this._userActionEnabled||"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),e.stopPropagation(),this.userActionCallback())}}get isActionable(){return this._userActionEnabled}enableUserActions(){this._userActionEnabled||(this._userActionEnabled=!0,this.addEventListener("click",this._loadingHandleClick),this.addEventListener("keydown",this._loadingHandleKeyDown))}disableUserActions(){this._userActionEnabled&&(this._userActionEnabled=!1,this.removeEventListener("click",this._loadingHandleClick),this.removeEventListener("keydown",this._loadingHandleKeyDown))}userActionCallback(){}}return t[th]=!0,t}(function(e){if(eh in e)return e;class t extends e{constructor(){super(...arguments),this._observerConfigObserved=null}get isObserved(){return!!this._observerConfigObserved}enableObserver(e=Ju){if(!this._observerConfigObserved){this._observerConfigObserved=JSON.stringify(e);const t=Zu(this._observerConfigObserved,e);t&&t.observe(this)}}disableObserver(){if(this._observerConfigObserved){const e=Zu(this._observerConfigObserved);e&&e.unobserve(this),this._observerConfigObserved=null}}observerIsIntersectingCallback(e){}observerIsNotIntersectingCallback(e){}}return t[eh]=!0,t}(Ae)){constructor(){super(...arguments),this.src="",this.loading=w.Lazy,this.width=0,this.height=0,this.perfmark="",this.objectfit=void 0,this.isRequestInProgress=!1}static get styles(){return R`:host{display:inline-block}:host([loading=action]) div.placeholder{cursor:pointer}div{display:flex;align-items:center;justify-content:center;text-align:center;height:inherit;width:inherit;margin:auto;max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;position:relative;overflow:hidden;border-radius:inherit}img{width:100%;height:100%}`}connectedCallback(){super.connectedCallback(),this.img||(this.loading===w.Lazy?this.enableObserver():this.loading===w.Action?this.enableUserActions():this.loading===w.Eager&&this.loadContent())}observerIsIntersectingCallback(){this.isObserved&&this.disableObserver(),this.isRequestInProgress||this.loadContent()}userActionCallback(){this.isActionable&&this.disableUserActions(),this.isRequestInProgress||this.loadContent()}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver(),this.isActionable&&this.disableUserActions()}async loadContent(){const e=this["src"],t=new Image;t.onload=()=>{this.isRequestInProgress=!1,this.img=t,this.requestUpdate(),this.perfmark&&this.updateComplete.then(()=>{performance.mark(this.perfmark)})},t.onerror=()=>{var e=new Error("Image failed to load"),e=g("faceplate-error",e);this.dispatchEvent(e)},this.isRequestInProgress=!0,t.src=e}render(){var e=this.isRequestInProgress&&this.loading===w.Action;let t=le` <slot name="${un(e?"loading":void 0)}"></slot> `;return this.img&&(t=this.objectfit?le` <img src="${this.src}" alt="${un(this.alt)}" style="${Ku({objectFit:encodeURIComponent(this.objectfit)})}"> `:le` <img src="${this.src}" alt="${un(this.alt)}"> `),le` <div class="${this.img?"loaded":"placeholder"}" style="${Ku({width:this.width?this.width+"px":"inherit",height:this.height?this.height+"px":"inherit"})}" tabindex="${un(this.isActionable?0:void 0)}"> ${t} </div> `}};r([u({type:String})],nh.prototype,"src",void 0),r([u({type:String})],nh.prototype,"loading",void 0),r([u({type:Number})],nh.prototype,"width",void 0),r([u({type:Number})],nh.prototype,"height",void 0),r([u({type:String})],nh.prototype,"perfmark",void 0),r([u({type:String})],nh.prototype,"objectfit",void 0),r([u({type:String})],nh.prototype,"alt",void 0),nh=r([c("faceplate-img")],nh);const ih=["[blocked user]"];function rh(e,t,n=Date.now()){return{when:n,where:{x:e,y:t}}}let CameraClass=class extends tn(Ae){constructor(){super(),this.pixelX=-1,this.pixelY=-1,this.tooltipName="",this.cameraBoundaries={x:0,y:0},this.cx=0,this.cy=0,this.zoom=it.getState(),this.isDragging=!1,this.isPinching=!1,this.lastMouseDown=rh(-1,-1,-1),this.firstTouch=rh(-1,-1,-1),this.lastTouch=rh(-1,-1,-1),this.movePathDistance=0,this.pinchEndedTimestamp=-1,this.prevVectorDiff=0,this.isTileHistoryEnabled=!0,this.onTouchStart=rt(e=>{var t;this.movePathDistance=0,1===e.targetTouches.length?(t=e.targetTouches.item(0))&&(this.isDragging=!0,this.firstTouch=this.lastTouch=rh(t.clientX,t.clientY)):2===e.targetTouches.length&&(t=e.targetTouches.item(0),e=e.targetTouches.item(1),t&&e&&(this.isDragging=!0,this.firstTouch=this.lastTouch=rh((t.clientX+e.clientX)/2,(t.clientY+e.clientY)/2)))}),this.onMouseDown=rt(e=>{(this.movePathDistance=0)===e.button&&(this.isDragging=!0,this.lastMouseDown=rh(e.clientX,e.clientY))}),this.onTouchMove=rt(e=>{if(this.camera&&e.composedPath().includes(this.camera)){if(e.preventDefault(),e.stopPropagation(),1===e.targetTouches.length){var t=e.targetTouches.item(0);if(t){const e=300<=Date.now()-this.pinchEndedTimestamp;if(this.isDragging&&e){const e=t.clientX-(this.lastTouch.where.x||this.lastMouseDown.where.x),i=t.clientY-(this.lastTouch.where.y||this.lastMouseDown.where.y);(e||i)&&(this.moveBy(e,i),this.movePathDistance+=ol(0,0,e,i)),this.lastTouch=rh(t.clientX,t.clientY)}}}if(2===e.targetTouches.length){var t=e.targetTouches[0],n=e.targetTouches[1];if(t&&n){const e=ol(t.clientX,t.clientY,n.clientX,n.clientY),r=(t.clientX+n.clientX)/2,o=(t.clientY+n.clientY)/2;if(this.prevVectorDiff&&this.prevVectorDiff!==e&&(this.isPinching=!0,t=(e-this.prevVectorDiff)/this.zoomMultiplier,this.zoomAt(t,{x:r,y:o})),this.isDragging){const e=r-(this.lastTouch.where.x||this.lastMouseDown.where.x),a=o-(this.lastTouch.where.y||this.lastMouseDown.where.y);(e||a)&&(this.moveBy(e,a),this.movePathDistance+=ol(0,0,e,a)),this.lastTouch=rh(r,o)}this.prevVectorDiff=e}}}}),this.onMouseMove=rt(e=>{this.camera&&e.composedPath().includes(this.camera)&&(e.preventDefault(),e.stopPropagation(),this.showColorPicker||this.trackEraseToolThrottled(e),this.isDragging&&"number"==typeof e.movementX&&"number"==typeof e.movementY&&(e.movementX||e.movementY)&&(this.moveBy(e.movementX,e.movementY),this.movePathDistance+=ol(0,0,e.movementX,e.movementY)))}),this.trackEraseTool=rt(e=>{var t;if(ct.getState()&&null!=(t=lt.getState()[0])&&t.x){const t=this.clientToCanvas(e);t&&lt.updateState([lt.getState()[0],t])}}),this.trackEraseToolThrottled=an(50,!1,this.trackEraseTool),this.onTouchStop=rt(()=>{this.isDragging=!1,this.prevVectorDiff=0,this.isPinching&&(this.isPinching=!1,this.pinchEndedTimestamp=Date.now())}),this.onMouseUp=rt(e=>{if(this.isDragging=!1,this.camera&&e.composedPath().includes(this.camera)&&0===e.button){if(0<this.firstTouch.when){const{where:t,when:n}=this.firstTouch;if(5<=ol(t.x,t.y,e.clientX,e.clientY)||300<=Date.now()-n)return}else if(0<this.lastMouseDown.when){const{where:t,when:i}=this.lastMouseDown;if(5<=ol(t.x,t.y,e.clientX,e.clientY)||300<=Date.now()-i)return}if(!(5<=this.movePathDistance||Date.now()-this.pinchEndedTimestamp<300)){const t=this.clientToCanvas(e);t&&!cl(t)&&(this.lastMouseDown=this.firstTouch=this.lastTouch=rh(-1,-1,-1),this.selectPixel(t))}}}),this.fetchPixelHistoryDebounced=cn(50,this.fetchPixelHistory),this.onWheel=rt(e=>{e.preventDefault(),e.stopPropagation();var t=-e.deltaY/this.zoomMultiplier,e=this.clientToCamera({x:e.clientX,y:e.clientY});this.zoomAt(t,e)}),this.onCameraResize=()=>{this.updateCameraDimensions(),this.applyPosition({x:this.cx,y:this.cy,zoom:this.zoom}),this.animateScheduledPositionDebounced({})},this.animatePositionDebounced=an(300,!1,this.animatePosition),this.animateScheduledPositionDebounced=cn(50,!1,this.animateScheduledPosition),dt(this,st),dt(this,at),dt(this,lt),window.camera=this}static get styles(){return R`
      :host {
        box-sizing: border-box;
        display: block;
        flex: 1 1 0%;
        width: 100%;
      }

      .camera {
        display: block;
        height: 100%;
        overflow: hidden;
        position: relative;
        width: 100%;
        -webkit-touch-callout: none !important;
        -webkit-user-select: none !important;
      }

      .position-container {
        position: absolute;
        pointer-events: none;
      }

      .zoom-container {
        position: relative;
        transform-origin: top left;
      }

      .edge {
        pointer-events: none;
        position: absolute;
        top: -155px;
        left: -109px;
        transform: rotate(3.21deg);
        user-select: none;
      }

      .frame {
        position: absolute;
        background-color: #fff;
        border: 8px solid #fff;
        box-shadow: 0 0 0 6px #505050, 0 0 0 3px rgba(67, 59, 59, 0.3) inset;
        top: -11px;
        left: -11px;
      }

      .pixel {
        position: absolute;
        left: 0;
        top: 0;
        height: ${Be.Max}px;
        width: ${Be.Max}px;
      }

      .user-prefix {
        letter-spacing: 1px;
      }

      .profile-button {
        font-family: var(--mona-lisa-font-sans);
        font-weight: 700;
        background: none;
        color: #000;
        border: 0;
        outline: 0;
        font-size: 14px;
        padding: 5px 16px;
        cursor: pointer;
        pointer-events: all;
      }
    `}get left(){return this.cx-this.cameraBoundaries.x/this.zoom}get top(){return this.cy-this.cameraBoundaries.y/this.zoom}get zoomMultiplier(){return 3*Be.Max/this.zoom}connectedCallback(){super.connectedCallback(),this.dispatchEvent(g("register-camera",this))}disconnectedCallback(){var e;super.disconnectedCallback(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),this.camera&&null!=(e=this.resizeObserver)&&e.unobserve(this.camera)}initialize(){var e;if(this.cx=et.getState(),this.nextCx=void 0,this.cy=tt.getState(),this.nextCy=void 0,this.nextZoom=void 0,this.isDragging=!1,this.isPinching=!1,this.lastMouseDown=rh(-1,-1,-1),this.firstTouch=rh(-1,-1,-1),this.lastTouch=rh(-1,-1,-1),this.movePathDistance=0,this.pinchEndedTimestamp=-1,this.lastFetchedHistoryPixel=void 0,this.prevVectorDiff=0,null!=(e=this.cameraAnimation)&&e.pause(),null!=(e=this.showTooltipAnimation)&&e.pause(),this.tooltipName="",!Je.getState()){const e=this.calculateZoomFromPx();e&&(this.zoom=e,it.updateState(this.zoom))}this.updateCameraDimensions(),this.updateCameraBoundaries(),this.applyPosition(),document.removeEventListener("mousemove",this.onMouseMove),document.addEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.addEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchStop),document.addEventListener("touchcancel",this.onTouchStop),document.removeEventListener("touchend",this.onTouchStop),document.addEventListener("touchend",this.onTouchStop),document.removeEventListener("touchmove",this.onTouchMove),document.addEventListener("touchmove",this.onTouchMove),this.camera&&(null!=(e=this.resizeObserver)&&e.unobserve(this.camera),this.resizeObserver=new ResizeObserver(this.onCameraResize),null!=(e=this.resizeObserver)&&e.observe(this.camera)),Ge.getState().camera||Ge.updateState(Object.assign(Object.assign({},Ge.getState()),{camera:!0}))}clientToCamera(e){var t;if(e)return t=null==(t=this.camera)?void 0:t.getBoundingClientRect(),t?{x:e.x-t.left,y:e.y-t.top}:void 0}cameraToCanvas(e){if(e)return{x:Math.floor(this.left+e.x/this.zoom),y:Math.floor(this.top+e.y/this.zoom)}}canvasToCamera(e){if(e)return{x:Math.floor((e.x-this.left)*this.zoom),y:Math.floor((e.y-this.top)*this.zoom)}}clientToCanvas(e){e={x:e.clientX,y:e.clientY},e=this.clientToCamera(e);return this.cameraToCanvas(e)}moveBy(e,t){var n=1/this.zoom*Be.Min;this.nextCx=void 0,this.nextCy=void 0,this.nextZoom=void 0,this.applyPosition({x:this.cx-e*n,y:this.cy-t*n})}selectPixel(e){it.updateState(this.zoom);e=g("click-canvas",e);this.dispatchEvent(e)}getTooltipOverride({x:e,y:t}){var n=ut.getState();if((null==n?void 0:n.x)===e&&(null==n?void 0:n.y)===t)return null==(e=Xe.getState())?void 0:e.name}async fetchPixelHistory(e){if(this.lastFetchedHistoryPixel=e,this.tooltipName="",this.showPixelHistory&&this.isTileHistoryEnabled&&Ke.getState()){const i=this.getTooltipOverride(e);if(i)return this.tooltipName=i,void this.showTooltip();var t={x:e.x,y:e.y},t=await fl.getPixelHistory(t),n=il();if(e.x===n.x&&e.y===n.y)if(t.type===pl.Success){const i=t["data"];this.tooltipName=this.getTooltipOverride(e)||(i&&Number.isInteger(i.lastModifiedTimestamp)?i.userInfo.username:""),this.showTooltip()}else t.type===pl.UnauthorizedError&&this.dispatchEvent(g("api-error",t))}}zoomAt(e,t){null!=(n=this.cameraAnimation)&&n.pause();var n,i=Math.max(Math.min(this.zoom+e,Be.Max),Be.Min);if(t&&this.cameraRect){const e={x:(this.cameraRect.left+this.cameraRect.right)/2,y:(this.cameraRect.top+this.cameraRect.bottom)/2},n={x:e.x-t.x,y:e.y-t.y};this.isTileHistoryEnabled=!1,this.moveBy(n.x,n.y),this.applyPosition({zoom:i}),this.isTileHistoryEnabled=!0,this.moveBy(-n.x,-n.y)}it.updateState(i)}calculateZoomFromPx(){var e,t;if(nt.getState()&&(this.updateCameraDimensions(),this.cameraRect))return e=2*nt.getState()+1,t=Math.floor(this.cameraRect.width/e),e=Math.floor(this.cameraRect.height/e),t=Math.min(t,e),Math.max(Be.Min,Math.min(Be.Max,t))}jumpTo(e,t){this.schedulePosition(Object.assign(Object.assign({},e),{zoom:t}))}moveTo(e,t){this.animatePositionDebounced(Object.assign(Object.assign({},e),{zoom:t}))}zoomIn(e){var t;1<Math.abs(this.zoom-e)?this.animatePosition({zoom:e,zoomEasing:"easeOutQuint"}):(null!=(t=this.cameraAnimation)&&t.pause(),this.nextZoom=void 0,this.applyPosition({zoom:e}))}refreshTooltip(){this.fetchPixelHistory(nl({x:this.cx,y:this.cy}))}getRandomCenter(){this.updateCameraDimensions(),this.updateCameraBoundaries();var e=this.calculateZoomFromPx()||this.zoom,t={x:this.cameraBoundaries.x/e,y:this.cameraBoundaries.y/e},n=(null==(n=this.cameraRect)?void 0:n.width)||0,i=(null==(i=this.cameraRect)?void 0:i.height)||0,r=at.getState(),o=st.getState(),a={x:Math.random()*r,y:Math.random()*o};return{x:r*e<=n?r/2:Math.min(Math.max(Math.ceil(t.x),a.x),Math.floor(r-t.x)),y:o*e<=i?o/2:Math.min(Math.max(Math.ceil(t.y),a.y),Math.floor(o-t.y))}}renderCurrentPosition(){var e,t,n,i,r;if(this.zoomContainer){const e=this.zoom/Be.Max;this.isSafari||this.isIOS?this.zoomContainer.style.zoom=e:this.zoomContainer.style.transform=`scale(${e})`}if(this.positionContainer){const e=this.cx*this.zoom-this.cameraBoundaries.x,t=this.cy*this.zoom-this.cameraBoundaries.y,o=-e+"px",a=-t+"px";this.positionContainer.style.transform=`translateX(${o}) translateY(${a})`}this.pixel&&(i=(n=(n=lt.getState()).length?nl({x:n[0].x,y:n[0].y}):nl({x:this.cx,y:this.cy})).x*Be.Max,r=n.y*Be.Max,this.pixel.style.transform=`translateX(${i}px) translateY(${r}px)`,this.showPixelHistory&&this.isTileHistoryEnabled&&((null==(e=this.lastFetchedHistoryPixel)?void 0:e.x)!==n.x||(null==(t=this.lastFetchedHistoryPixel)?void 0:t.y)!==n.y)&&(this.tooltipName="",Ke.getState()&&it.getState()>=Be.Optimal&&this.fetchPixelHistoryDebounced(n)))}applyPosition({x:e=this.cx,y:t=this.cy,zoom:n=this.zoom}={}){this.zoom=Math.max(Be.Min,Math.min(n,Be.Max)),this.updateCameraBoundaries(),this.updateVisiblePixels(),this.cx=Math.max(0,Math.min(e,at.getState()-1)),this.cy=Math.max(0,Math.min(t,st.getState()-1)),this.renderCurrentPosition(),this.sendMoveCameraEvent()}schedulePosition({x:e=this.cx,y:t=this.cy,zoom:n=this.zoom}={}){this.nextCx=Math.max(0,Math.min(e,at.getState()-1)),this.nextCy=Math.max(0,Math.min(t,st.getState()-1)),this.nextZoom=Math.max(Be.Min,Math.min(n,Be.Max))}animatePosition({x:e=this.cx,y:t=this.cy,zoom:n=this.zoom,zoomEasing:i="easeInQuint"}={}){var r;null!=(r=this.cameraAnimation)&&r.pause(),Ke.getState()?(this.schedulePosition({x:e,y:t,zoom:n}),this.animateScheduledPosition({zoomEasing:i})):this.applyPosition({x:e,y:t,zoom:n})}animateScheduledPosition({zoomEasing:e="easeInQuint"}){const t={x:this.cx,y:this.cy},n={zoom:this.zoom};this.cameraAnimation=Hu.timeline({delay:0,update:()=>{this.applyPosition(Object.assign(Object.assign({},t),n))},complete:()=>{this.nextCx=void 0,this.nextCy=void 0,this.nextZoom=void 0}}).add({targets:t,x:this.nextCx,y:this.nextCy,easing:"easeOutQuint"},0).add({targets:n,zoom:this.nextZoom,easing:e},0)}updateCameraDimensions(){this.camera&&(this.cameraRect=this.camera.getBoundingClientRect())}updateCameraBoundaries(){var e,t;this.cameraRect&&(e=(this.cameraRect.width-this.zoom)/2,t=(this.cameraRect.height-this.zoom)/2,this.cameraBoundaries={x:e,y:t})}updateVisiblePixels(){var e;this.cameraBoundaries&&(e=Math.min(Math.floor(this.cameraBoundaries.x/this.zoom),Math.floor(this.cameraBoundaries.y/this.zoom)),this.dispatchEvent(g("update-visible-pixels",{px:e})))}sendMoveCameraEvent(){this.cameraRect&&this.dispatchEvent(g("move-camera",{x:this.cx,y:this.cy}))}getVisibilityRect(){var e,t,n,i,r,o;if(this.cameraRect)return{width:n,height:i}=this.cameraRect,e=this.left,t=this.top,n=n,i=i,r=this.zoom,o=nl({x:Math.floor(e),y:Math.floor(t)}),e=nl({x:Math.ceil(e+n/r),y:Math.ceil(t+i/r)}),{x1:o.x,y1:o.y,x2:e.x,y2:e.y}}showTooltip(e=!0){var t;null!=(t=this.showTooltipAnimation)&&t.pause();const n={opacity:0};this.showTooltipAnimation=Hu({targets:n,duration:50,opacity:1,easing:e?"easeInOutQuad":"steps(1)",update:()=>{this.tooltip&&(this.tooltip.style.opacity=""+n.opacity)}})}renderFrame(){var e=st.getState(),t=at.getState();return e&&t?le`
      <faceplate-img
        class="edge"
        src="${CLIENT_CONFIG.STATIC_BASE_URL}assets/img/snoo-edge.png"
        height="226"
        width="290"
      ></faceplate-img>
      <div
        class="frame"
        style=${Ku({height:e*Be.Max+6+"px",width:t*Be.Max+6+"px"})}
      ></div>
    `:""}handleProfileClick(e){e.preventDefault(),e.stopPropagation(),ih.includes(this.tooltipName)||(this.trackEvent(Yt({source:Jt.HotPotato,action:Xt.Click,noun:Zt.Username})),this.dispatchEvent(g("host-communication",{type:Lt.OpenProfile,data:{profileName:this.tooltipName}}))),this.tooltipName=""}render(){return le`
      <div
        class="camera"
        @wheel=${this.onWheel}
        @mousedown=${this.onMouseDown}
        @touchstart=${this.onTouchStart}
      >
        <div class="position-container">
          <div class="zoom-container">
            ${this.renderFrame()}
            <slot></slot>
            <div class="pixel">
              ${this.showPixelHistory?le`
                    <mona-lisa-tooltip
                      name="pixel-history-tooltip"
                      ?isOpen=${0<this.tooltipName.length}
                    >
                      <button class="profile-button" @mousedown=${this.handleProfileClick}>
                        <span class="user-prefix">u/</span>${this.tooltipName}
                      </button>
                    </mona-lisa-tooltip>
                  `:""}
              <slot name="pixel"> </slot>
            </div>
          </div>
        </div>
      </div>
    `}},CanvasClass=(r([u({type:Boolean,attribute:"is-ios"})],CameraClass.prototype,"isIOS",void 0),r([u({type:Boolean,attribute:"is-safari"})],CameraClass.prototype,"isSafari",void 0),r([u({type:Boolean,attribute:"is-show-color-picker"})],CameraClass.prototype,"showColorPicker",void 0),r([u({type:Boolean,attribute:"show-pixel-history"})],CameraClass.prototype,"showPixelHistory",void 0),r([u({type:Number,attribute:"pixel-x"})],CameraClass.prototype,"pixelX",void 0),r([u({type:Number,attribute:"pixel-y"})],CameraClass.prototype,"pixelY",void 0),r([h()],CameraClass.prototype,"tooltipName",void 0),r([p(".camera")],CameraClass.prototype,"camera",void 0),r([p(".zoom-container")],CameraClass.prototype,"zoomContainer",void 0),r([p(".position-container")],CameraClass.prototype,"positionContainer",void 0),r([p(".pixel")],CameraClass.prototype,"pixel",void 0),r([p("mona-lisa-tooltip")],CameraClass.prototype,"tooltip",void 0),CameraClass=r([c("mona-lisa-camera")],CameraClass),class extends Ae{constructor(){super(),dt(this,Ge),window.board=this}static get styles(){return R`:host{position:relative}.container{transform-origin:top left}canvas{display:block;-ms-interpolation-mode:bicubic;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;image-rendering:pixelated}`}connectedCallback(){super.connectedCallback(),this.dispatchEvent(g("register-canvas",this))}drawPixel({x:e,y:t,colorIndex:n}){var i;const r=null==(i=this.canvas)?void 0:i.getContext("2d");r&&(r.fillStyle=wt(n)||"transparent",r.fillRect(e,t,1,1))}getPixelColor(e){try{if(!this.canvas)return;var t=this.getImageData(e.x,e.y,1,1);if(!t)return;var[n,i,r]=t.data;return o=i,a=r,"#"+Et(n)+Et(o)+Et(a)}catch(e){return}var o,a}drawImage({image:e,x:t,y:n}){var i;const r=null==(i=this.canvas)?void 0:i.getContext("2d");r&&r.drawImage(e,t,n)}initialize(){var t;const n=null==(t=this.canvas)?void 0:t.getContext("2d");if(n&&this.canvas){let e;try{e=n.getImageData(0,0,at.getState(),st.getState())}catch(t){dn(t)}this.canvas.height=st.getState(),this.canvas.width=at.getState(),e&&n.putImageData(e,0,0),Ge.getState().canvas||Ge.updateState(Object.assign(Object.assign({},Ge.getState()),{canvas:!0}))}}getImageData(e,t,n,i){var r;return null==(r=null==(r=this.canvas)?void 0:r.getContext("2d"))?void 0:r.getImageData(e,t,n,i)}render(){return le` <div class="container" style="${Ku(this.isIOS||this.isSafari?{zoom:""+Be.Max}:{transform:`scale(${Be.Max})`})}"> <canvas></canvas> </div> `}}),ah=(r([u({type:Boolean,attribute:"is-ios"})],CanvasClass.prototype,"isIOS",void 0),r([u({type:Boolean,attribute:"is-safari"})],CanvasClass.prototype,"isSafari",void 0),r([p("canvas")],CanvasClass.prototype,"canvas",void 0),CanvasClass=r([c("mona-lisa-canvas")],CanvasClass),rn("icon-close",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M18.442 2.442l-.884-.884L10 9.116 2.442 1.558l-.884.884L9.116 10l-7.558 7.558.884.884L10 10.884l7.558 7.558.884-.884L10.884 10l7.558-7.558z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M18.707 2.707l-1.414-1.414L10 8.586 2.707 1.293 1.293 2.707 8.586 10l-7.293 7.293 1.414 1.414L10 11.414l7.293 7.293 1.414-1.414L11.414 10l7.293-7.293z"/></svg>`),class extends Ae{static get styles(){return R`:host{z-index:1}icon-close{display:inline-flex}`}handleClose(){Ke.updateState(!1),this.dispatchEvent(g("host-communication",{type:Lt.Close}))}render(){return le` <mona-lisa-icon-button @click="${this.handleClose}"> <icon-close></icon-close> </mona-lisa-icon-button>`}});ah=r([c("mona-lisa-close-button")],ah),rn("icon-checkmark",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M7.5 15.583a.72.72 0 01-.513-.212L1.558 9.942l.884-.884L7.5 14.116 18.058 3.558l.884.884L8.013 15.371a.72.72 0 01-.513.212z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M7.5 15.958a1.1 1.1 0 01-.778-.322l-5.429-5.429 1.414-1.414L7.5 13.586 17.793 3.293l1.414 1.414L8.278 15.636a1.1 1.1 0 01-.778.322z"/></svg>`);const ch=CLIENT_CONFIG.REDDIT_ORIGIN+"/r/place";function lh(e){const t=new URL(e?"https://reddit.app.link/place":ch),n=il();t.searchParams.set(Ue.CX,""+n.x),t.searchParams.set(Ue.CY,""+n.y),t.searchParams.set(Ue.PX,""+Math.floor(nt.getState())),t.searchParams.set(Ue.UTMSource,"share");e=Ut()?"ios_app":qt()?"android_app":!Bt()||null==(e=null==(e=Ze.getState())?void 0:e.app)?void 0:e.name;return e&&t.searchParams.set(Ue.UTMMedium,e),t.toString()}rn("icon-history",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M13.558 14.442l-4.183-4.183V4h1.25v5.741l3.817 3.817-.884.884z"/><path d="M10 19.625A9.625 9.625 0 1119.625 10 9.636 9.636 0 0110 19.625zm0-18A8.375 8.375 0 1018.375 10 8.384 8.384 0 0010 1.625z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10 .375A9.625 9.625 0 1019.625 10 9.636 9.636 0 0010 .375zm3.47 14.155l-4.22-4.219V4h1.5v5.689l3.78 3.781z"/></svg>`);let uh=class extends Ae{constructor(){super(...arguments),this.userData=dt(this,Xe),this.isEraseToolOn=dt(this,ct)}static get styles(){return R`:host{pointer-events:all;padding:8px}button{border:none;background:0 0;margin:-8px;padding:8px}.pill{min-width:155px;height:24px;display:flex;justify-content:center;align-items:center;background-color:#fff;color:#000;border-radius:26px;font-size:14px;font-weight:700;line-height:17px;box-shadow:0 4px 10px rgba(0,0,0,.25);font-family:var(--mona-lisa-font-sans)}.timer{font-family:var(--mona-lisa-font-mono)}icon-history{display:inline-flex;font-size:18px;margin-right:3px}`}onSignInClick(){this.dispatchEvent(g("host-communication",{type:Lt.SignIn,data:{dest:lh(!1)}}))}onPlaceATileClick(){this.dispatchEvent(g("click-canvas",{x:et.getState(),y:tt.getState()}))}render(){var e;if(null==(e=this.userData.state())||!e.canParticipate)return le`<button @click="${this.onSignInClick}"> <div class="pill"> Log in to place a tile </div> </button>`;if(this.nextTileAvailableIn){const e=(""+Math.floor(this.nextTileAvailableIn/3600)).padStart(2,"0"),t=(""+Math.floor(this.nextTileAvailableIn%3600/60)).padStart(2,"0"),n=(""+Math.floor(this.nextTileAvailableIn%60)).padStart(2,"0");return le` <div class="pill timer"> <icon-history></icon-history> ${e}:${t}:${n} </div> `}return this.isEraseToolOn.state()?le` <div class="pill"> Select area to erase </div> `:le` <button @click="${this.onPlaceATileClick}"> <div class="pill"> Place a tile </div> </button> `}},hh=(r([u({type:Number,attribute:"next-tile-available-in"})],uh.prototype,"nextTileAvailableIn",void 0),uh=r([c("mona-lisa-status-pill")],uh),class extends Ae{constructor(){super(),this.isVisible=!1,this.isLocked=!1,this.onResize=()=>{var e;this.contentHeight=null==(e=this.layout)?void 0:e.offsetHeight},this.cancelPixel=()=>{this.dispatchEvent(g("cancel-pixel"))},this.confirmPixel=()=>{this.dispatchEvent(g("confirm-pixel"))},dt(this,Xe),dt(this,ot)}static get styles(){return Ve(".cancel,\n.confirm {\n  height: 40px;min-width: 40px;padding: 0;border: none;border-radius: 40px;color: #121212;font-size: 20px;position: relative;\n}\n:host {\n  display: block;\n  background-color: #fff;\n  bottom: 0px;\n  left: 0;\n  right: 0;\n  padding: 0;\n}\n.container {\n  transition: height 0.3s linear;\n  box-shadow: 0px 4px 10px #000000;\n}\n.layout {\n  padding: 16px calc(16px + var(--sail)) calc(16px + var(--saib)) calc(16px + var(--sair));\n}\n.palette {\n  bottom: 0px;\n  justify-content: center;\n  left: 0px;\n  padding: 0px;\n  display: flex;\n  flex-flow: row wrap;\n  position: relative;\n}\n@media (min-width: 800px) {\n  .palette {\n    max-height: 32px;\n    flex-flow: row nowrap;\n  }\n}\n.color-container {\n  position: relative;\n  height: 32px;\n  flex: 0 0 12.5%;\n}\n@media (min-width: 460px) {\n  .color-container {\n    flex: 0 0 calc(100% / var(--num-colors, 16) * 2);\n  }\n}\n@media (min-width: 800px) {\n  .color-container {\n    flex: 1 1 auto;\n  }\n}\n.color {\n  border: none;\n  position: relative;\n  outline: none;\n  height: 100%;\n  width: 100%;\n  border: 2px solid #fff;\n  padding: 0;\n  margin: 0;\n  background: transparent;\n  cursor: pointer;\n}\n.color.selected {\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.5);\n  z-index: 1;\n}\n.color:hover + mona-lisa-tooltip {\n  display: block;\n}\n.color div {\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n}\nmona-lisa-tooltip {\n  display: none;\n  z-index: 1;\n}\n.color-name {\n  font-weight: bold;\n  font-size: 12px;\n  min-width: 50px;\n  padding: 2px 4px;\n}\n.overlay {\n  background: rgba(233, 235, 237, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  inset: 0;\n  position: absolute;\n}\n.actions {\n  display: flex;\n  flex-flow: row nowrap;\n  margin: 12px auto 0;\n  justify-content: center;\n  max-width: calc(163.5px * 2 + 16px);\n}\nicon-close,\nicon-checkmark {\n  font-size: 20px;\n  position: relative;\n}\n.cancel {\n  background-color: #fff;\n  border: 1px solid #d4d7d9;\n  box-sizing: border-box;\n  flex: 1;\n  cursor: pointer;\n}\n.confirm {\n  --button-border-width: 4px;\n  border-image-slice: 1;\n  background-image: linear-gradient(to bottom, #ff6600, #ff4500);\n  position: relative;\n  margin-left: 16px;\n  flex: 1;\n  cursor: pointer;\n}\n.confirm::before {\n  content: '';\n  position: absolute;\n  inset: 4px;\n  border-radius: 32px;\n  background-color: #fff;\n}\n.confirm.disabled {\n  cursor: not-allowed;\n  background-image: linear-gradient(to bottom, #f1f1f1, #f1f1f1);\n}\n")}firstUpdated(e){this.resizeObserver=new ResizeObserver(this.onResize),this.layout&&this.resizeObserver.observe(this.layout),super.firstUpdated(e)}disconnectedCallback(){var e;this.layout&&null!=(e=this.resizeObserver)&&e.unobserve(this.layout),super.disconnectedCallback()}selectColor(e){var e=(null==(e=e.currentTarget)?void 0:e.dataset)["color"];e&&(e=parseInt(e),isFinite(e)&&this.dispatchEvent(g("select-color",{color:e})))}renderContent(){var e;const t=!!this.nextTileAvailableIn||!(null!=(e=Xe.getState())&&e.canParticipate),i=ct.getState()||!this.isLocked&&!t,r=null==(e=ot.getState())?void 0:e.colorPalette.colors,n=null==this.selectedColor;return le` <div class="palette"> ${null==r?void 0:r.map(e=>{var t=i&&this.selectedColor===e.index,n=(n=e.index,xt[n]);return le` <div class="color-container" style="${Ku({"--num-colors":""+r.length})}"> <button class="color ${yn({selected:t})}" data-color="${e.index}" @click="${this.selectColor}"> <div style="${Ku({backgroundColor:e.hex,border:"1px solid "+(_t(e.hex)&&!t?"#E9EBED":e.hex)})}"></div> </button> ${n?le` <mona-lisa-tooltip isOpen small> <div class="color-name">${n}</div> </mona-lisa-tooltip> `:""} </div> `})} ${i?"":le` <div class="overlay"> ${t?le` <mona-lisa-status-pill next-tile-available-in="${un(this.nextTileAvailableIn)}"></mona-lisa-status-pill> `:""} </div> `} </div> <div class="actions"> <button class="cancel" @click="${this.cancelPixel}"> <icon-close></icon-close> </button> ${i?le` <button class="confirm ${yn({disabled:n})}" ?disabled="${n}" @click="${this.confirmPixel}"> <icon-checkmark></icon-checkmark> </button>`:""} </div> `}render(){return le` <div class="container" style="${Ku({height:`${this.isVisible&&this.contentHeight||0}px`})}"> <div class="layout">${this.renderContent()}</div> </div> `}}),dh=(r([u({type:Number,attribute:"color"})],hh.prototype,"selectedColor",void 0),r([u({type:Boolean,attribute:"is-visible"})],hh.prototype,"isVisible",void 0),r([u({type:Boolean,attribute:"is-locked"})],hh.prototype,"isLocked",void 0),r([u({type:Number,attribute:"next-tile-available-in"})],hh.prototype,"nextTileAvailableIn",void 0),r([h()],hh.prototype,"contentHeight",void 0),r([p(".layout")],hh.prototype,"layout",void 0),hh=r([c("mona-lisa-color-picker")],hh),class extends Ae{constructor(){super(),this.syncCoordinatesToHost=an(500,!1,()=>{var{cx:e,cy:t,px:n}=rl();this.dispatchEvent(g("host-communication",{type:Lt.SyncCoordinates,data:{cx:e,cy:t,px:n}}))}),dt(this,et),dt(this,tt),dt(this,it)}static get styles(){return R`:host{padding:8px;margin:-8px;pointer-events:all;font-family:var(--mona-lisa-font-mono)}.layout{display:flex;min-width:155px;height:24px;justify-content:center;align-items:center;align-self:center;background-color:#fff;color:#000;border-radius:26px;font-weight:700;font-size:14px;line-height:17px;box-shadow:0 4px 10px rgba(0,0,0,.25)}`}updated(e){this.syncCoordinatesToHost(),super.updated(e)}async copyLocationUrl(){try{await navigator.clipboard.writeText(location.href)}catch(e){dn(e)}}render(){var{x:e,y:t}=il(),n=(it.getState()/10).toFixed(1).replace(/\.0$/,"");return le` <div class="layout"> (${e},${t}) ${n}x </div> `}});dh=r([c("mona-lisa-coordinates")],dh),rn("icon-help",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10 .875A9.125 9.125 0 1019.125 10 9.135 9.135 0 0010 .875zm0 17A7.875 7.875 0 1117.875 10 7.884 7.884 0 0110 17.875z"/><path d="M10.479 13.635a1.085 1.085 0 00-.547-.141 1.035 1.035 0 00-.537.145 1.009 1.009 0 00-.379.388 1.1 1.1 0 00-.137.547 1.018 1.018 0 00.143.533 1.045 1.045 0 00.387.38 1.056 1.056 0 00.536.14 1.076 1.076 0 00.54-.14 1.008 1.008 0 00.387-.385 1.08 1.08 0 00.14-.541 1.05 1.05 0 00-.533-.926zM11.507 5.641a3.213 3.213 0 00-1.425-.309 3.15 3.15 0 00-1.535.368 2.646 2.646 0 00-1.028.974 2.52 2.52 0 00-.363 1.312h1.463a1.172 1.172 0 01.181-.661 1.327 1.327 0 01.516-.468 1.623 1.623 0 011.415-.017 1.212 1.212 0 01.5.431 1.1 1.1 0 01.181.618 1.063 1.063 0 01-.119.5 1.56 1.56 0 01-.3.4 9.531 9.531 0 01-.492.43 6.846 6.846 0 00-.656.585 2.292 2.292 0 00-.431.656 2.206 2.206 0 00-.178.919v.766h1.429v-.793a1.281 1.281 0 01.13-.58 1.824 1.824 0 01.321-.459c.128-.132.3-.3.533-.493a7.691 7.691 0 00.633-.584 2.279 2.279 0 00.41-.622 2.015 2.015 0 00.167-.85A2.262 2.262 0 0012.5 6.5a2.41 2.41 0 00-.993-.859z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10 .875A9.125 9.125 0 1019.125 10 9.135 9.135 0 0010 .875zM11.107 15a1.242 1.242 0 01-.465.462 1.342 1.342 0 01-1.3 0 1.236 1.236 0 01-.465-.465 1.287 1.287 0 01-.167-.65 1.306 1.306 0 01.167-.653 1.251 1.251 0 01.465-.471 1.27 1.27 0 01.653-.175 1.253 1.253 0 01.649.175A1.322 1.322 0 0111.107 15zm1.781-6.251a2.423 2.423 0 01-.407.646 8.565 8.565 0 01-.629.615q-.335.3-.53.513A1.922 1.922 0 0011 11a1.375 1.375 0 00-.13.6v.6H9.049v-.574a2.411 2.411 0 01.181-.963 2.479 2.479 0 01.435-.694 7.663 7.663 0 01.663-.632q.287-.254.454-.421a1.56 1.56 0 00.277-.372.93.93 0 00.109-.445.856.856 0 00-.15-.5 1.029 1.029 0 00-.407-.346 1.262 1.262 0 00-.564-.127 1.314 1.314 0 00-.608.145 1.153 1.153 0 00-.448.4 1.035 1.035 0 00-.174.566H6.93a2.887 2.887 0 01.417-1.486 2.822 2.822 0 011.118-1.042 3.441 3.441 0 011.63-.377 3.483 3.483 0 011.518.322 2.535 2.535 0 011.059.9 2.331 2.331 0 01.383 1.318 2.136 2.136 0 01-.167.875z"/></svg>`);const ph=tn(Ae);let fh=class extends ph{static get styles(){return R`icon-help{display:inline-flex}`}handleClick(){this.trackEvent(Yt({source:Jt.HotPotato,action:Xt.Click,noun:Zt.Tutorial}))}render(){return le` <mona-lisa-icon-button @click="${this.handleClick}"> <icon-help></icon-help> </mona-lisa-icon-button>`}},vh=(fh=r([c("mona-lisa-help-button")],fh),class extends Ae{constructor(){super(),this.onKeyUp=e=>{"Escape"===e.key&&this.dispatchEvent(g("cancel-pixel"))},dt(this,lt)}static get styles(){return R`.pixel{display:block;border:5px solid #fff;box-sizing:border-box}`}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keyup",this.onKeyUp)}connectedCallback(){super.connectedCallback(),document.addEventListener("keyup",this.onKeyUp)}calculateDimension(e,t,n){return t.length<=1||n?100:100*(Math.abs(t[0][e]-t[1][e])+1)}render(){var e=ul(),t=this.calculateDimension("y",lt.getState(),e),e=this.calculateDimension("x",lt.getState(),e);return le` <div class="pixel" style="${Ku({height:t+"%",width:e+"%",background:this.color?wt(this.color):"repeating-linear-gradient(\n      135deg, \n      rgba(255, 255, 255, 0.4), \n      rgba(255, 255, 255, 0.4) 10px, \n      rgba(0,0,0, 0.1) 10px, \n      rgba(0,0,0, 0.1) 20px \n    )"})}"></div> `}}),mh=(r([u({type:Number,reflect:!0})],vh.prototype,"color",void 0),vh=r([c("mona-lisa-erasure-preview")],vh),rn("icon-external-link",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M15.838 16.5a1.377 1.377 0 01-1.375 1.375h-11A1.377 1.377 0 012.088 16.5v-11a1.377 1.377 0 011.375-1.375H7.11v-1.25H3.463A2.629 2.629 0 00.838 5.5v11a2.629 2.629 0 002.625 2.625h11a2.629 2.629 0 002.625-2.625v-3.6h-1.25z"/><path d="M18.5.875h-5v1.25h3.491l-8.433 8.433.884.884 8.433-8.433V6.5h1.25v-5A.625.625 0 0018.5.875z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M15 16a1 1 0 01-1 1H3.926a1 1 0 01-1-1V6a1 1 0 011-1h3.3V3h-3.3a3 3 0 00-3 3v10a3 3 0 003 3H14a3 3 0 003-3v-3.225h-2z"/><path d="M18 1.375h-5a.625.625 0 00-.442 1.067l1.793 1.793-6.058 6.058 1.414 1.414 6.058-6.058 1.793 1.793a.625.625 0 00.442.183.64.64 0 00.239-.047.626.626 0 00.386-.578V2A.625.625 0 0018 1.375z"/></svg>`),class extends Ae{constructor(){super(...arguments),this.name="modal",this.header="Place",this.isOpen=!1,this.handleKeyPress=e=>{"Escape"===e.key&&this.handleModalClose()},this.handleModalClose=()=>this.dispatchEvent(g(this.name,this))}static get styles(){return R`:host{display:none;width:100vw;height:100vh;z-index:100;font-family:var(--mona-lisa-font-sans)}:host([isOpen]){display:block}.overlay{position:fixed;background:rgba(0,0,0,.5);top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;z-index:1}.modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;display:flex;flex-direction:column;color:#000;border-radius:8px;min-width:200px;max-width:275px;padding:16px;z-index:1}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.modal-header>h2{font-size:24px;line-height:22px;font-weight:700;margin:0;padding:0}.close-button{width:20px;height:20px;font-size:20px;cursor:pointer}.modal-footer{margin-top:32px;display:flex;justify-content:center;align-items:center;position:relative}mona-lisa-mute-button{position:absolute;bottom:-6px;left:-10px}.help-link{position:absolute;bottom:-6px;right:-10px;background:0 0;cursor:pointer;border:none;pointer-events:all;border-radius:50%;padding:8px}.help-link-layout{background-color:#fff;display:flex;align-items:center;justify-content:center;border-radius:50%;height:36px;width:36px;box-shadow:rgb(0 0 0 / 25%) 0 4px 10px;color:#000;font-size:20px;pointer-events:all;box-sizing:border-box}icon-external-link{display:inline-flex}@media (min-width:460px){.modal{max-width:325px;min-width:325px;padding:24px}}@media (min-width:800px){.modal-footer{margin-top:56px}}`}connectedCallback(){super.connectedCallback()}render(){return le` <div class="overlay" @click="${this.handleModalClose}" @keyup="${this.handleKeyPress}"></div> <div class="modal"> <div class="modal-header"> <h2>${this.header}</h2> <icon-close class="close-button" @click="${this.handleModalClose}"></icon-close> </div> <div class="modal-content"> <slot></slot> </div> <div class="modal-footer"> <mona-lisa-mute-button></mona-lisa-mute-button> ${this.showHelpLink?le` <a class="help-link" target="_blank" href="https://www.reddit.com/r/place/comments/ttqdrt/welcome_to_rplace/" rel="noopener nofollow"> <div class="help-link-layout"> <icon-external-link></icon-external-link> </div> </a> `:""} <img alt="Place Logo" src="${CLIENT_CONFIG.STATIC_BASE_URL}assets/img/place-logo.svg" height="40" width="40"> </div> </div>`}}),yh=(r([u({type:String,reflect:!0})],mh.prototype,"name",void 0),r([u({type:String})],mh.prototype,"header",void 0),r([u({type:Boolean,reflect:!0})],mh.prototype,"isOpen",void 0),r([u({type:Boolean,attribute:"show-help-link"})],mh.prototype,"showHelpLink",void 0),mh=r([c("mona-lisa-modal")],mh),rn("icon-volume",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10.543.5a1.12 1.12 0 00-1.182.117L3.789 4.875h-1.8A1.127 1.127 0 00.868 6v8a1.127 1.127 0 001.125 1.125h1.8l5.572 4.258a1.117 1.117 0 00.681.232 1.128 1.128 0 001.127-1.126V1.511A1.119 1.119 0 0010.543.5zm-.624 17.736l-5.708-4.361H2.118v-7.75h2.093l5.708-4.361zM13 3.375v1.25a5.375 5.375 0 010 10.75v1.25a6.625 6.625 0 000-13.25z"/><path d="M16.125 10A3.129 3.129 0 0013 6.875v1.25a1.875 1.875 0 010 3.75v1.25A3.129 3.129 0 0016.125 10z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10.543.5a1.12 1.12 0 00-1.182.117L3.789 4.875h-1.8A1.127 1.127 0 00.868 6v8a1.127 1.127 0 001.125 1.125h1.8l5.572 4.258a1.117 1.117 0 00.681.232 1.128 1.128 0 001.127-1.126V1.511A1.119 1.119 0 0010.543.5zM13 3v2a5 5 0 010 10v2a7 7 0 000-14z"/><path d="M16.5 10A3.5 3.5 0 0013 6.5v2a1.5 1.5 0 010 3v2a3.5 3.5 0 003.5-3.5z"/></svg>`),rn("icon-volume-mute",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M19.442 7.442l-.884-.884L16.5 8.616l-2.058-2.058-.884.884L15.616 9.5l-2.058 2.058.884.884 2.058-2.058 2.058 2.058.884-.884L17.384 9.5l2.058-2.058zM10.543.5a1.12 1.12 0 00-1.182.117L3.789 4.875h-1.8A1.127 1.127 0 00.868 6v8a1.127 1.127 0 001.125 1.125h1.8l5.572 4.258a1.117 1.117 0 00.681.232 1.128 1.128 0 001.127-1.126V1.511A1.119 1.119 0 0010.543.5zm-.624 17.736l-5.708-4.361H2.118v-7.75h2.093l5.708-4.361z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M19.707 7.707l-1.414-1.414L16.5 8.086l-1.793-1.793-1.414 1.414L15.086 9.5l-1.793 1.793 1.414 1.414 1.793-1.793 1.793 1.793 1.414-1.414L17.914 9.5l1.793-1.793zM10.543.5a1.12 1.12 0 00-1.182.117L3.789 4.875h-1.8A1.127 1.127 0 00.868 6v8a1.127 1.127 0 001.125 1.125h1.8l5.572 4.258a1.117 1.117 0 00.681.232 1.128 1.128 0 001.127-1.126V1.511A1.119 1.119 0 0010.543.5z"/></svg>`),class extends Ae{constructor(){super(...arguments),this.audioIsMuted=!1}static get styles(){return R`:host{pointer-events:all;cursor:pointer}mona-lisa-icon-button{display:inline-flex;margin:0;padding:0}icon-volume,icon-volume-mute{padding-top:3px}`}toggleMute(){this.audioIsMuted=!this.audioIsMuted,ml(yl)(this.audioIsMuted);try{localStorage.setItem("ml-muted-state",JSON.stringify(this.audioIsMuted))}catch(e){dn(e)}}connectedCallback(){super.connectedCallback();try{this.audioIsMuted=JSON.parse(""+localStorage.getItem("ml-muted-state")),ml(yl)(this.audioIsMuted)}catch(e){dn(e)}}render(){return le` <mona-lisa-icon-button class="${yn({muted:!this.audioIsMuted})}" @click="${this.toggleMute}"> ${this.audioIsMuted?le`<icon-volume-mute></icon-volume-mute>`:le`<icon-volume></icon-volume>`} </mona-lisa-icon-button> `}}),gh=(r([h()],yh.prototype,"audioIsMuted",void 0),yh=r([c("mona-lisa-mute-button")],yh),class extends Ae{constructor(){super(...arguments),this.height="24",this.width="24"}static get styles(){return R`svg{display:block}`}render(){return le` <svg fill="none" height="${this.height}" viewBox="0 0 24 24" width="${this.width}" xmlns="http://www.w3.org/2000/svg"> <g stroke-opacity=".6" stroke-width="2"> <g stroke="#000"> <path d="m3 9v-6h6"/> <path d="m14.9999 3h6v6"/> <path d="m20.9999 15.0001v6h-6"/> <path d="m9 21.0001h-6v-6"/> </g> <path d="m1 9v-8h8" stroke="#fff"/> <path d="m15 1h8v8" stroke="#fff"/> <path d="m23 15v8h-8" stroke="#fff"/> <path d="m9 23h-8v-8" stroke="#fff"/> </g> </svg> `}}),bh=(r([u({type:String})],gh.prototype,"height",void 0),r([u({type:String})],gh.prototype,"width",void 0),gh=r([c("mona-lisa-target")],gh),class extends Ae{static get styles(){return R`.pixel{display:block;transform:translate(-5px,-5px);transition:background-color .3s linear 0s,border-color .3s linear 0s;width:100%;height:100%}:host([color]) .pixel{border:5px solid #fff;box-shadow:0 4px 10px 0 rgba(0,0,0,.5)}`}render(){return le` <div class="pixel" style="${Ku({backgroundColor:wt(this.color)})}"> ${"number"!=typeof this.color?le`<mona-lisa-target height="120%" width="120%"></mona-lisa-target>`:""} </div> `}});r([u({type:Number,reflect:!0})],bh.prototype,"color",void 0),bh=r([c("mona-lisa-pixel-preview")],bh),rn("icon-share-android",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M15.5 13.375a3.108 3.108 0 00-2.295 1.025l-5.769-3.369a2.907 2.907 0 000-2.062L13.205 5.6a3.113 3.113 0 10-.83-2.1 3.075 3.075 0 00.189 1.031L6.8 7.9a3.125 3.125 0 100 4.208l5.769 3.365a3.075 3.075 0 00-.189 1.031 3.125 3.125 0 103.12-3.129zm0-11.75A1.875 1.875 0 1113.625 3.5 1.877 1.877 0 0115.5 1.625zm-11 10.25A1.875 1.875 0 116.375 10 1.877 1.877 0 014.5 11.875zm11 6.5a1.875 1.875 0 111.875-1.875 1.877 1.877 0 01-1.875 1.875z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M15.5 13.375a3.109 3.109 0 00-2.131.852L7.574 10.5a3.083 3.083 0 00.051-.5 3.083 3.083 0 00-.051-.5l5.8-3.725a3.116 3.116 0 10-.999-2.275 3.083 3.083 0 00.051.5L6.631 7.727a3.125 3.125 0 100 4.546L12.426 16a3.083 3.083 0 00-.051.5 3.125 3.125 0 103.125-3.125z"/></svg>`),rn("icon-share-ios",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M17.875 11v5.5a1.377 1.377 0 01-1.375 1.375h-13A1.377 1.377 0 012.125 16.5V11H.875v5.5A2.629 2.629 0 003.5 19.125h13a2.629 2.629 0 002.625-2.625V11z"/><path d="M9.375 3.009V14h1.25V3.009l2.933 2.933.884-.884-4-4a.625.625 0 00-.884 0l-4 4 .884.884z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M17 11v5a1 1 0 01-1 1H4a1 1 0 01-1-1v-5H1v5a3 3 0 003 3h12a3 3 0 003-3v-5z"/><path d="M9 4.414V13h2V4.414l2.293 2.293 1.414-1.414-4-4a1 1 0 00-1.414 0l-4 4 1.414 1.414z"/></svg>`);const wh=tn(Ae);let xh=class extends wh{constructor(){super(...arguments),this.isAndroid=qt()||navigator.userAgent.match(/Android/i)}static get styles(){return R`icon-share-android,icon-share-ios{display:inline-flex}`}openShareSheet(){this.dispatchEvent(g("toggle-share-sheet",{isVisible:!0})),this.trackEvent(Yt({source:Jt.HotPotato,action:Xt.Click,noun:Zt.Share}))}render(){return le` <mona-lisa-icon-button @click="${this.openShareSheet}"> ${this.isAndroid?le`<icon-share-android></icon-share-android>`:le`<icon-share-ios></icon-share-ios>`} </mona-lisa-icon-button> `}};function _h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eh(e,t){return(Eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sh(e){return(Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Th(e,t,n){return(Th=kh()?Reflect.construct:function(e,t,n){var i=[null],t=(i.push.apply(i,t),new(Function.bind.apply(e,i)));return n&&Eh(t,n.prototype),t}).apply(null,arguments)}function Ch(e){var n="function"==typeof Map?new Map:void 0;return(Ch=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return Th(e,arguments,Sh(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Eh(t,e)})(e)}xh=r([c("mona-lisa-share-button")],xh);var Oh={1:"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\n\n",2:"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\n\n",3:"Passed an incorrect argument to a color function, please pass a string representation of a color.\n\n",4:"Couldn't generate valid rgb string from %s, it returned %s.\n\n",5:"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\n\n",6:"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\n\n",7:"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\n\n",8:"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\n\n",9:"Please provide a number of steps to the modularScale helper.\n\n",10:"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",11:'Invalid value passed as base to modularScale, expected number or em string but got "%s"\n\n',12:'Expected a string ending in "px" or a number passed as the first argument to %s(), got "%s" instead.\n\n',13:'Expected a string ending in "px" or a number passed as the second argument to %s(), got "%s" instead.\n\n',14:'Passed invalid pixel value ("%s") to %s(), please pass a value like "12px" or 12.\n\n',15:'Passed invalid base value ("%s") to %s(), please pass a value like "12px" or 12.\n\n',16:"You must provide a template to this method.\n\n",17:"You passed an unsupported selector state to this method.\n\n",18:"minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",19:"fromSize and toSize must be provided as stringified numbers with the same units.\n\n",20:"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",21:"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",22:"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",23:"fontFace expects a name of a font-family.\n\n",24:"fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",25:"fontFace expects localFonts to be an array.\n\n",26:"fontFace expects fileFormats to be an array.\n\n",27:"radialGradient requries at least 2 color-stops to properly render.\n\n",28:"Please supply a filename to retinaImage() as the first argument.\n\n",29:"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",30:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",31:"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\n\n",32:"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\n\n",33:"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\n\n",34:"borderRadius expects a radius value as a string or number as the second argument.\n\n",35:'borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.\n\n',36:"Property must be a string value.\n\n",37:"Syntax Error at %s.\n\n",38:"Formula contains a function that needs parentheses at %s.\n\n",39:"Formula is missing closing parenthesis at %s.\n\n",40:"Formula has too many closing parentheses at %s.\n\n",41:"All values in a formula must have the same unit or be unitless.\n\n",42:"Please provide a number of steps to the modularScale helper.\n\n",43:"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",44:"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\n\n",45:"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\n\n",46:"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\n\n",47:"minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",48:"fromSize and toSize must be provided as stringified numbers with the same units.\n\n",49:"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",50:"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\n\n",51:"Expects the first argument object to have the properties prop, fromSize, and toSize.\n\n",52:"fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",53:"fontFace expects localFonts to be an array.\n\n",54:"fontFace expects fileFormats to be an array.\n\n",55:"fontFace expects a name of a font-family.\n\n",56:"linearGradient requries at least 2 color-stops to properly render.\n\n",57:"radialGradient requries at least 2 color-stops to properly render.\n\n",58:"Please supply a filename to retinaImage() as the first argument.\n\n",59:"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",60:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",61:"Property must be a string value.\n\n",62:"borderRadius expects a radius value as a string or number as the second argument.\n\n",63:'borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.\n\n',64:"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\n\n",65:"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\n\n",66:"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\n\n",67:"You must provide a template to this method.\n\n",68:"You passed an unsupported selector state to this method.\n\n",69:'Expected a string ending in "px" or a number passed as the first argument to %s(), got %s instead.\n\n',70:'Expected a string ending in "px" or a number passed as the second argument to %s(), got %s instead.\n\n',71:'Passed invalid pixel value %s to %s(), please pass a value like "12px" or 12.\n\n',72:'Passed invalid base value %s to %s(), please pass a value like "12px" or 12.\n\n',73:"Please provide a valid CSS variable.\n\n",74:"CSS variable not found and no default was provided.\n\n",75:"important requires a valid style object, got a %s instead.\n\n",76:"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\n\n",77:'remToPx expects a value in "rem" but you provided it in "%s".\n\n',78:'base must be set in "px" or "%" but you set it in "%s".\n'};function Ah(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],r=[],o=1;o<t.length;o+=1)r.push(t[o]);return r.forEach(function(e){i=i.replace(/%[a-z]/,e)}),i}var Ih=function(o){var e,t;function n(e){var t;if("production"===process.env.NODE_ENV)t=o.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+e+" for more information.")||this;else{for(var n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t=o.call(this,Ah.apply(void 0,[Oh[e]].concat(i)))||this}return _h(t)}return t=o,(e=n).prototype=Object.create(t.prototype),Eh(e.prototype.constructor=e,t),n}(Ch(Error));function Mh(e){return Math.round(255*e)}function Ph(e,t,n){return Mh(e)+","+Mh(t)+","+Mh(n)}function Dh(e,t,n,i){if(void 0===i&&(i=Ph),0===t)return i(n,n,n);var e=(e%360+360)%360/60,t=(1-Math.abs(2*n-1))*t,r=t*(1-Math.abs(e%2-1)),o=0,a=0,s=0,e=(0<=e&&e<1?(o=t,a=r):1<=e&&e<2?(o=r,a=t):2<=e&&e<3?(a=t,s=r):3<=e&&e<4?(a=r,s=t):4<=e&&e<5?(o=r,s=t):5<=e&&e<6&&(o=t,s=r),n-t/2);return i(o+e,a+e,s+e)}var Rh,Nh={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Lh=/^#[a-fA-F0-9]{6}$/,Fh=/^#[a-fA-F0-9]{8}$/,jh=/^#[a-fA-F0-9]{3}$/,$h=/^#[a-fA-F0-9]{4}$/,zh=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Vh=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,qh=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Uh=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function Bh(e){if("string"!=typeof e)throw new Ih(3);e=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Nh[t]?"#"+Nh[t]:e}(e);if(e.match(Lh))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(Fh))return t=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2)),{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:t};if(e.match(jh))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match($h))return t=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2)),{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:t};var t=zh.exec(e);if(t)return{red:parseInt(""+t[1],10),green:parseInt(""+t[2],10),blue:parseInt(""+t[3],10)};t=Vh.exec(e.substring(0,50));if(t)return{red:parseInt(""+t[1],10),green:parseInt(""+t[2],10),blue:parseInt(""+t[3],10),alpha:parseFloat(""+t[4])};t=qh.exec(e);if(t){var t="rgb("+Dh(parseInt(""+t[1],10),parseInt(""+t[2],10)/100,parseInt(""+t[3],10)/100)+")",n=zh.exec(t);if(n)return{red:parseInt(""+n[1],10),green:parseInt(""+n[2],10),blue:parseInt(""+n[3],10)};throw new Ih(4,e,t)}n=Uh.exec(e.substring(0,50));if(n){var t="rgb("+Dh(parseInt(""+n[1],10),parseInt(""+n[2],10)/100,parseInt(""+n[3],10)/100)+")",i=zh.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+n[4])};throw new Ih(4,e,t)}throw new Ih(5)}function Qh(e){if("transparent"===e)return 0;var t=Bh(e),e=Object.keys(t).map(function(e){e=t[e]/255;return e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4)}),n=e[0],i=e[1],e=e[2];return parseFloat((.2126*n+.7152*i+.0722*e).toFixed(3))}!function(e){e.Coordinates="coordinate",e.Image="canvas_image"}(Rh=Rh||{});let Hh=class extends Ae{constructor(){super(...arguments),this.height=32,this.width=32}render(){return le` <svg fill="none" height="${this.height}" viewBox="0 0 32 32" width="${this.width}" xmlns="http://www.w3.org/2000/svg"> <g fill="#ff4500"> <path d="m6.4 0h-6.4v6.4h6.4z"/> <path d="m12.8 0h-6.4v6.4h6.4z"/> <path d="m19.2 0h-6.4v6.4h6.4z"/> <path d="m25.6 0h-6.4v6.4h6.4z"/> <path d="m32 6.4h-6.4v6.4h6.4z"/> <path d="m32 12.8h-6.4v6.4h6.4z"/> <path d="m32 19.2h-6.4v6.4h6.4z"/> <path d="m32 25.6h-6.4v6.4h6.4z"/> <path d="m19.2 25.6h-6.4v6.4h6.4z"/> <path d="m25.6 25.6h-6.4v6.4h6.4z"/> <path d="m6.4 25.6h-6.4v6.4h6.4z"/> </g> <path d="m19.2 12.8h-6.4v6.4h6.4z" fill="#000"/> <g fill="#ff4500"> <path d="m6.4 19.2h-6.4v6.4h6.4z"/> <path d="m6.4 12.8h-6.4v6.4h6.4z"/> <path d="m6.4 6.4h-6.4v6.4h6.4z"/> </g> <path d="m19.2 6.4h-12.8v25.6h6.4v-6.4h12.8v-19.2zm0 12.8h-6.4v-6.4h6.4z" fill="#fff"/> </svg> `}},Gh=(r([u({type:Number})],Hh.prototype,"height",void 0),r([u({type:Number})],Hh.prototype,"width",void 0),Hh=r([c("mona-lisa-logo")],Hh),rn("icon-download",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M17.875 11v5.5a1.377 1.377 0 01-1.375 1.375h-13A1.377 1.377 0 012.125 16.5V11H.875v5.5A2.629 2.629 0 003.5 19.125h13a2.629 2.629 0 002.625-2.625V11z"/><path d="M9.741 14.583H10l.33-.029 4.112-4.112-.884-.884-2.933 2.933V1h-1.25v11.491L6.442 9.558l-.884.884 3.929 3.929.254.212z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M17.5 11v5.5a1 1 0 01-1 1h-13a1 1 0 01-1-1V11h-2v5.5a3 3 0 003 3h13a3 3 0 003-3V11z"/><path d="M9.586 14.958H10l.485-.029 4.222-4.222-1.414-1.414L11 11.586V1H9v10.586L6.707 9.293l-1.414 1.414 3.929 3.929.364.322z"/></svg>`),rn("icon-location",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10 .375A8.134 8.134 0 001.875 8.5c0 5.569 6.932 10.445 7.721 10.981a.716.716 0 00.4.126.7.7 0 00.4-.125c.791-.537 7.723-5.413 7.723-10.982A8.134 8.134 0 0010 .375zm0 17.861c-1.378-1-6.875-5.257-6.875-9.736a6.875 6.875 0 0113.75 0c0 4.477-5.493 8.736-6.875 9.736z"/><path d="M10 4.264a4.181 4.181 0 104.181 4.18A4.185 4.185 0 0010 4.264zm0 7.111a2.931 2.931 0 112.931-2.931A2.934 2.934 0 0110 11.375z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M10 .375A8.134 8.134 0 001.875 8.5c0 5.569 6.932 10.445 7.721 10.981a.716.716 0 00.4.126.7.7 0 00.4-.125c.791-.537 7.723-5.413 7.723-10.982A8.134 8.134 0 0010 .375zM10 12a3.556 3.556 0 113.556-3.556A3.556 3.556 0 0110 12z"/></svg>`),rn("icon-image-post",ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M17.5.875h-15A1.627 1.627 0 00.875 2.5v15A1.627 1.627 0 002.5 19.125h15a1.627 1.627 0 001.625-1.625v-15A1.627 1.627 0 0017.5.875zM2.125 17.5v-2.741l2.7-2.7a2.377 2.377 0 013.358 0l5.812 5.812H2.5a.375.375 0 01-.375-.371zm15.75 0a.375.375 0 01-.375.375h-1.741l-6.7-6.7a3.629 3.629 0 00-5.126 0l-1.808 1.816V2.5a.375.375 0 01.375-.375h15a.375.375 0 01.375.375z"/><path d="M13 3.875A3.125 3.125 0 1016.125 7 3.129 3.129 0 0013 3.875zm0 5A1.875 1.875 0 1114.875 7 1.877 1.877 0 0113 8.875z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" data-name="icons final" viewBox="0 0 20 20"><path d="M8.179 12.063a2.377 2.377 0 00-3.358 0L.942 15.942l-.067-.067V17.5A1.627 1.627 0 002.5 19.125h12.741z"/><circle cx="13" cy="7" r="1.875"/><path d="M17.5.875h-15A1.627 1.627 0 00.875 2.5v11.741l3.062-3.062a3.629 3.629 0 015.126 0l7.879 7.879-.067.067h.625a1.627 1.627 0 001.625-1.625v-15A1.627 1.627 0 0017.5.875zm-4.5 9.25A3.125 3.125 0 1116.125 7 3.129 3.129 0 0113 10.125z"/></svg>`),class extends Ae{constructor(){super(...arguments),this.isPending=!1,this.mode=Rh.Image}static get styles(){return Ve(".cancel,\n.share {\n  height: 40px;min-width: 40px;padding: 0;border: none;border-radius: 40px;color: #121212;font-size: 20px;position: relative;\n}\n:host {\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 0;\n  pointer-events: all;\n}\n.controls {\n  background: #fff;\n  flex: 0 0 auto;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n  padding: 8px calc(var(--sair) + 8px) calc(var(--saib) + 8px) calc(var(--sail) + 8px);\n  position: relative;\n}\n.modes {\n  background: #edeff1;\n  border: 4px solid #edeff1;\n  border-radius: 40px;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  margin: 0 16px;\n  padding: 2px;\n  box-sizing: border-box;\n}\n.modes label {\n  width: 58px;\n  height: 32px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.modes label.selected {\n  background: #ffffff;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.12);\n  border-radius: 32px;\n}\n.modes label input {\n  display: none;\n}\n.modes label icon-image-post,\n.modes label icon-location {\n  color: #121212;\n  font-size: 20px;\n}\n.cancel {\n  background-color: #fff;\n  border: 1px solid #d4d7d9;\n  box-sizing: border-box;\n  flex: 1 1 0%;\n  max-width: 163.5px;\n}\n.share {\n  --button-border-width: 4px;\n  border-image-slice: 1;\n  background-image: linear-gradient(to bottom, #ff6600, #ff4500);\n  position: relative;\n  flex: 1 1 0%;\n  max-width: 163.5px;\n}\n.share::before {\n  content: '';\n  position: absolute;\n  inset: 4px;\n  border-radius: 32px;\n  background-color: #fff;\n}\n.share[disabled] {\n  cursor: not-allowed;\n  background-image: linear-gradient(to bottom, #f1f1f1, #f1f1f1);\n  transition: background-image 0.3s ease-out;\n}\nmona-lisa-loader {\n  position: relative;\n}\nicon-close,\nicon-checkmark {\n  font-size: 20px;\n  position: relative;\n}\n")}onCancelClick(){this.dispatchEvent(g("toggle-share-sheet",{isVisible:!1}))}async onShareClick(){this.dispatchEvent(g("share",{mode:this.mode}))}changeMode(e){this.mode=e.target.value,this.dispatchEvent(g("change-share-mode",{mode:this.mode}))}render(){return le` <div class="controls"> <button class="cancel" @click="${this.onCancelClick}"> <icon-close></icon-close> </button> <div class="modes"> ${[Rh.Image,Rh.Coordinates].map(e=>le` <label class="${yn({selected:e===this.mode})}"> <input type="radio" name="mode" value="${e}" ?checked="${e===this.mode}" @change="${this.changeMode}"> ${e===Rh.Coordinates?le`<icon-location></icon-location>`:e===Rh.Image?le`<icon-image-post></icon-image-post>`:""} </label> `)} </div> <button class="share" @click="${this.onShareClick}" ?disabled="${this.isPending}"> ${this.isPending?le`<mona-lisa-loader></mona-lisa-loader>`:le`<icon-checkmark></icon-checkmark>`} </button> </div> `}});r([u({type:Boolean,attribute:"is-pending"})],Gh.prototype,"isPending",void 0),r([u({type:String})],Gh.prototype,"mode",void 0),Gh=r([c("mona-lisa-share-sheet")],Gh);const Wh=tn(Ae);let Kh=class extends Wh{constructor(){super(),this.isSafari=!1,this.isSheetOpen=!1,this.timestamp=Date.now(),this.mode=Rh.Image,this.renderShareUI=!1,this.renderAllFrames=!1,this.isSharing=!1,this._events=new Le(this),this.onRegisterCamera=this._events.define("register-camera",e=>{this.camera=e.detail}),this.onRegisterCanvas=this._events.define("register-canvas",e=>{this.canvas=e.detail}),this.onShare=this._events.define("share",async()=>{this.isSharing=!0,await this.updateComplete,await this.share(),this.isSharing=!1}),this.onChangeShareMode=this._events.define("change-share-mode",e=>{this.mode=e.detail.mode,this.renderAllFrames=!0}),this.renderCoordinates=e=>{var t=il(),n=this.getCanvasPixelColor(t);return le` <div class="shadow ${yn({selected:e})}"> <div class="coordinates"> <div class="backdrop" style="${Ku({backgroundColor:n,color:n&&(Qh(n)<.5?"#fff":"#000")})}"> <span>${(""+t.x).padStart(4,"0")}</span> <span class="coordinate-y">${(""+t.y).padStart(4,"0")}</span> </div> <mona-lisa-logo></mona-lisa-logo> </div> </div> `},this.renderImage=e=>le` <div class="lense ${yn({selected:e})}"></div> `,dt(this,et),dt(this,tt),dt(this,Ke)}static get styles(){return Ve(":host {\n  display: flex;\n  flex-flow: column nowrap;\n}\n.share {\n  display: flex;\n  flex-flow: column nowrap;\n  position: fixed;\n  height: calc(var(--vh, 1vh) * 100);\n  padding: 0;\n  width: 100vw;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.frame {\n  flex: 1;\n  position: relative;\n}\n.shadow {\n  position: absolute;\n  inset: 0;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.53);\n  animation: fade-out 0.3s 0s linear both;\n}\n:host([is-sheet-open]) .shadow.selected {\n  animation: fade-in 0.3s 0.3s linear both;\n}\n.lense {\n  position: absolute;\n  inset: calc(var(--sait) + 32px) calc(var(--sair) + 8px) 8px calc(var(--sail) + 8px);\n}\n.lense:before {\n  content: '';\n  position: absolute;\n  box-shadow: 0 0 0 128px rgba(0, 0, 0, 0.5);\n  inset: 0;\n  animation: focus-out 0.3s 0s linear both;\n}\n:host([is-sheet-open]) .lense.selected:before {\n  animation: focus-in 0.3s 0.3s linear both;\n}\n.coordinates {\n  background-color: #fff;\n  box-sizing: border-box;\n  border-radius: 8px;\n  padding: 8px 8px 12px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  font-family: var(--font-mono);\n}\n.coordinates mona-lisa-logo {\n  margin-top: 16px;\n  flex: 0 0 32px;\n}\n.backdrop {\n  height: 256px;\n  width: 256px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column nowrap;\n  background-color: #ff4500;\n  font-weight: 600;\n  font-size: 85px;\n  line-height: 85px;\n  border-radius: 4px;\n}\n.coordinate-y {\n  margin-top: 10px;\n}\nmona-lisa-share-sheet {\n  animation: slide-out 0.3s 0.3s linear both;\n}\n:host([is-sheet-open]) mona-lisa-share-sheet {\n  animation: slide-in 0.3s 0s linear both;\n}\n@keyframes slide-in {\n  0% {\n    transform: translateY(100%);\n  }\n  100% {\n    transform: translateY(0%);\n  }\n}\n@keyframes slide-out {\n  0% {\n    transform: translateY(0%);\n  }\n  100% {\n    transform: translateY(100%);\n  }\n}\n@keyframes focus-in {\n  0% {\n    inset: -32px;\n    border-radius: 0;\n    opacity: 0;\n  }\n  100% {\n    inset: 0px;\n    border-radius: 8px;\n    opacity: 1;\n  }\n}\n@keyframes focus-out {\n  0% {\n    inset: 0px;\n    border-radius: 8px;\n    opacity: 1;\n  }\n  100% {\n    inset: -32px;\n    border-radius: 0;\n    opacity: 0;\n  }\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes fade-out {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n")}updated(e){Ke.getState()?this.isSheetOpen?e.has("isSheetOpen")&&(this.renderShareUI=!0):this.renderAllFrames=!1:(this.renderShareUI=!1,this.renderAllFrames=!1),super.updated(e)}blobToFile(e,t){return new File([e],`${t}_${this.timestamp}.png`,{type:"image/png"})}async loadWatermarkImages(){let e,t;try{e=await bl(CLIENT_CONFIG.STATIC_BASE_URL+"assets/img/reddit-logo@3x.png")}catch(e){dn(e)}try{t=await bl(CLIENT_CONFIG.STATIC_BASE_URL+"assets/img/r-place-logo@3x.png")}catch(e){dn(e)}return{redditLogo:e,rPlaceLogo:t}}async getFile(){if(this.mode===Rh.Coordinates){if(this.coordinates)try{const s=(await import("./es-f0b7f1ca.js"))["toBlob"],c=await s(this.coordinates);if(!c)return;var e=il();return{blob:c,file:this.blobToFile(c,e.x+"_"+e.y)}}catch(e){dn(e)}}else if(this.mode===Rh.Image&&this.lense&&this.camera&&this.canvas){var e=this.lense.getBoundingClientRect(),t=this.camera.cameraToCanvas({x:e.left,y:e.top});if(t){e=this.camera.cameraToCanvas({x:e.left+e.width,y:e.top+e.height});if(e){var{x:t,y:n}=nl(t),e=nl(e),i=e.x-t,r=e.y-n,o=this.canvas.getImageData(t,n,i,r);if(o){const{redditLogo:l,rPlaceLogo:u}=await this.loadWatermarkImages(),h=!!l||!!u,d=(((null==l?void 0:l.width)||0)+((null==u?void 0:u.width)||0)+168)/3,p=3*Math.round(Math.max(it.getState(),d/i)),f=document.createElement("canvas"),m=(f.height=r*p+(h?120:0),f.width=i*p,f.getContext("2d"));if(m){m.putImageData(function(e,i,r){const o=e.createImageData(i.width*r,i.height*r),a=e.createImageData(r,1).data;for(let n=0;n<i.height;n++)for(let t=0;t<i.width;t++){var s=i.data.subarray(4*(n*i.width+t),4*(n*i.width+t)+4);for(let e=0;e<r;e++)a.set(s,4*e);for(let e=0;e<r;e++){var c=n*r+e,l=t*r;o.data.set(a,4*(c*o.width+l))}}return o}(m,o,p),0,0),h&&(m.fillStyle="#fff",m.fillRect(0,r*p,i*p,120),l&&m.drawImage(l,24,r*p+(120-l.height)/2),u&&m.drawImage(u,i*p-u.width,r*p+(120-u.height)/2));try{var a=await new Promise(e=>{f.toBlob(e,"image/png")});return a?{blob:a,file:this.blobToFile(a,`${Math.max(0,t)}_${Math.max(0,n)}_${Math.min(at.getState(),e.x-1)}_${Math.min(st.getState(),e.y-1)}.png`)}:void 0}catch(e){dn(e)}}}}}}}closeShareSheet(){this.dispatchEvent(g("toggle-share-sheet",{isVisible:!1}))}async share(){const e=lh(this.mode===Rh.Image),t=await this.getFile();if(t){const{blob:r,file:o}=t;try{if(Qt()){n=r;const t=await new Promise(e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(n)});if(t)return this.dispatchEvent(g("host-communication",{type:Lt.Share,data:{fileName:o.name,fileData:t,mode:this.mode,url:e}})),void this.closeShareSheet()}}catch(e){dn("Error while trying to share via Native Share API",e)}var n,i;this.trackEvent((i=this.mode,Yt({source:Jt.HotPotato,action:Xt.Complete,noun:Zt.Share},{action_info:{reason:i}})));try{if("share"in navigator){const t="canShare"in navigator&&navigator.canShare({files:[o]});return await navigator.share(Object.assign({url:e},t?{files:[o]}:{})),void this.closeShareSheet()}}catch(e){dn("Error while trying to share via WebShare API",e)}try{if(navigator.clipboard.write&&ClipboardItem){const t=new Blob([e],{type:"text/plain"}),o=(await navigator.clipboard.write([new ClipboardItem(this.isSafari?{[r.type]:new Promise(async e=>e(r)),"text/plain":new Promise(async e=>e(t))}:{[r.type]:r,"text/plain":t})]),g("faceplate-alert",{level:b.info,message:"Image and link copied to your clipboard and ready to share"}));this.dispatchEvent(o)}else{await navigator.clipboard.writeText(e);const t=g("faceplate-alert",{level:b.info,message:"Link copied to your clipboard and ready to share"});this.dispatchEvent(t)}}catch(e){dn("Error while trying to share via Clipboard API",e)}const a=window.URL.createObjectURL(r),s=document.createElement("a");s.style.display="none",s.href=a,s.download=o.name,document.body.appendChild(s),s.click(),this.closeShareSheet()}}getCanvasPixelColor({x:e,y:t}){if(Ge.getState().camera&&Ge.getState().canvas&&this.canvas)return this.canvas.getPixelColor({x:e,y:t})}renderShareMode(e,t){e=this.mode===e;return this.renderAllFrames||e?t(e):""}render(){return le` <slot></slot> ${Ke.getState()&&this.renderShareUI?le` <div class="share"> <div class="frame"> ${this.renderShareMode(Rh.Coordinates,this.renderCoordinates)} ${this.renderShareMode(Rh.Image,this.renderImage)} </div> <mona-lisa-share-sheet ?is-pending="${this.isSharing}" mode="${this.mode}"></mona-lisa-share-sheet> </div> `:""} `}},Yh=(r([u({type:Boolean,attribute:"is-safari"})],Kh.prototype,"isSafari",void 0),r([u({type:Boolean,attribute:"is-sheet-open"})],Kh.prototype,"isSheetOpen",void 0),r([u({type:Number})],Kh.prototype,"timestamp",void 0),r([h()],Kh.prototype,"mode",void 0),r([h()],Kh.prototype,"renderShareUI",void 0),r([h()],Kh.prototype,"renderAllFrames",void 0),r([h()],Kh.prototype,"isSharing",void 0),r([p(".coordinates")],Kh.prototype,"coordinates",void 0),r([p(".lense")],Kh.prototype,"lense",void 0),Kh=r([c("mona-lisa-share-container")],Kh),class extends Ae{constructor(){super(),dt(this,it)}static get styles(){return R`
      .slider {
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 36px;
        display: flex;
        flex-flow: row nowrap;
        align-items: center;
        height: 36px;
        width: 340px;
        transform: rotate(-90deg);
        transform-origin: bottom left;
        font-family: var(--mona-lisa-font-sans);
      }

      .control-wrapper {
        position: relative;
        flex: 1 1 0%;
      }

      .dots {
        background: #ffffff;
        box-sizing: border-box;
        height: 4px;
        position: absolute;
        inset: 50% ${18}px 0px;
        transform: translate(0px, -1px);
        width: calc(100% - 40px);
      }

      .dot {
        background: #ffffff;
        width: 15px;
        height: 15px;
        top: 50%;
        transform: translate(-50%, -50%);
        position: absolute;
        border-radius: 50%;
      }

      input {
        display: block;
        -webkit-appearance: none;
        height: ${36}px;
        width: calc(100% - ${36}px);
        margin: 0;
        outline: none;
        position: relative;
        transform: rotate(-90deg);
        transform-origin: bottom left;
        margin-top: -${36}px;
        cursor: pointer;
        background: none;
        border-radius: ${36}px 0 0 ${36}px;
      }

      input::-moz-range-thumb {
        border: none;
        box-shadow: -4px 0px 4px rgba(0, 0, 0, 0.25);
        border-radius: 50%;
        width: ${36}px;
        height: ${36}px;
        cursor: ns-resize;
        background-color: #ffffff;
        background-image: url(${N(CLIENT_CONFIG.STATIC_BASE_URL)}assets/img/zoom-icon.svg);
        background-size: 20px;
        background-repeat: no-repeat;
        background-position: 50%;
        transform: matrix(-1, 0, 0, -1, 0, 0);
      }

      input::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;

        border: none;
        box-shadow: 4px 0px 10px rgba(0, 0, 0, 0.25);
        border-radius: 50%;
        width: ${36}px;
        height: ${36}px;
        cursor: ns-resize;
        background-color: #ffffff;
        background-image: url(${N(CLIENT_CONFIG.STATIC_BASE_URL)}assets/img/zoom-icon.svg);
        background-size: 20px;
        background-repeat: no-repeat;
        background-position: 50%;
        transform: matrix(-1, 0, 0, -1, 0, 0);
      }

      .zoom {
        font-size: 14px;
        line-height: 18px;
        font-weight: 700;
        color: #ffffff;
        transform: rotate(90deg);
        width: 40px;
        text-align: center;
        margin-left: -10px;
        cursor: default;
      }
    `}updated(){this.input&&(this.input.value=""+it.getState())}onRangeInput(e){e=parseInt(e.currentTarget.value);isFinite(e)&&this.dispatchEvent(g("change-zoom",{zoom:e}))}render(){return le`
      <div class="slider">
        <div class="control-wrapper">
          <div class="dots">
            ${Array.from({length:5}).map((e,t,n)=>le`
                <div
                  class="dot"
                  style=${Ku({left:t/(n.length-1)*100+"%"})}
                ></div>
              `)}
          </div>
        </div>
        <div class="zoom">${(it.getState()/10).toFixed(1).replace(/\.0$/,"")}x</div>
      </div>
      <input
        type="range"
        min=${Be.Min}
        max=${Be.Max}
        .value=${it.getState()}
        @input=${this.onRangeInput}
        @change=${this.onRangeInput}
      />
    `}}),Jh=(r([p("input")],Yh.prototype,"input",void 0),Yh=r([c("mona-lisa-zoom-control")],Yh),class extends Ae{constructor(){super(...arguments),this._handleOutsideClick=e=>{e.composedPath().includes(this.childElements[0])||this.dispatchEvent(g("click-outside",{event:e}))}}updated(e){e.has("active")&&this.active?(window.addEventListener("mousedown",this._handleOutsideClick,{capture:!0}),window.addEventListener("touchend",this._handleOutsideClick,{capture:!0})):(window.removeEventListener("mousedown",this._handleOutsideClick,{capture:!0}),window.removeEventListener("touchend",this._handleOutsideClick,{capture:!0}))}disconnectedCallback(){super.disconnectedCallback(),this.active&&(window.removeEventListener("mousedown",this._handleOutsideClick,{capture:!0}),window.removeEventListener("touchend",this._handleOutsideClick,{capture:!0}))}render(){return le`<slot></slot>`}}),Xh=(r([u({type:Boolean})],Jh.prototype,"active",void 0),r([m({flatten:!0})],Jh.prototype,"childElements",void 0),Jh=r([c("mona-lisa-outside-click-wrapper")],Jh),rn("icon-search",ue`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.4 18.6l-4.8-4.8c2.9-3.4 2.5-8.6-.9-11.5S5.2-.2 2.3 3.2s-2.5 8.6.9 11.5c3.1 2.6 7.6 2.6 10.6 0l4.8 4.8.8-.9zM8.5 15.4c-3.8 0-6.9-3.1-6.9-6.9s3.1-6.9 6.9-6.9 6.9 3.1 6.9 6.9c0 3.8-3.1 6.9-6.9 6.9z"/></svg>`,ue`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.7 18.3l-4.5-4.5c2.9-3.7 2.3-9.1-1.4-12S4.7-.5 1.8 3.2s-2.3 9.1 1.4 12c3.1 2.4 7.5 2.4 10.6 0l4.5 4.5 1.4-1.4zM8.5 15C4.9 15 2 12.1 2 8.5S4.9 2 8.5 2 15 4.9 15 8.5 12.1 15 8.5 15z"/></svg>`),class extends Ae{constructor(){super(...arguments),this.showZoomControl=!1,this.isActive=!1}static get styles(){return R`:host{pointer-events:all}.zoom-wrapper{position:relative}icon-search{display:inline-flex;transform:matrix(-1,0,0,1,0,0)}mona-lisa-icon-button{opacity:0;display:block}mona-lisa-icon-button.visible{opacity:1}mona-lisa-zoom-control{position:absolute;bottom:16px;left:44px}`}toggleZoomControl(){this.isActive=!this.isActive,this.dispatchEvent(g("toggle-zoom-control"))}render(){return le` <mona-lisa-outside-click-wrapper ?active="${this.showZoomControl}" @click-outside="${this.toggleZoomControl}"> <div class="zoom-wrapper"> <mona-lisa-icon-button class="${yn({visible:!this.showZoomControl})}" @click="${this.toggleZoomControl}"> <icon-search></icon-search> </mona-lisa-icon-button> ${this.showZoomControl?le`<mona-lisa-zoom-control></mona-lisa-zoom-control>`:""} </div> </mona-lisa-outside-click-wrapper> `}});r([u({type:Boolean})],Xh.prototype,"showZoomControl",void 0),r([h()],Xh.prototype,"isActive",void 0),Xh=r([c("mona-lisa-zoom-button")],Xh);const Zh=function(e){if(wl in e)return e;class t extends e{constructor(){super(...arguments),this.timeout=0,this.status=xl.Active,this.pageActivityEvents={document:["mousemove","mouseup","keyup","touchcancel","touchend","touchmove"],window:["resize","message"]},this.pageVisibilityEvents={document:["visibilitychange"],window:["blur","focus","pagehide"]},this.onAppInitializationUpdate=()=>{We()&&this.stopIdleTimer()},this.stopIdleTimer=()=>{clearTimeout(this.timeout),this.timeout=void 0},this.startIdleTimer=()=>{if(this.stopIdleTimer(),We()){let e;e=document.hidden?(this.hide(),3e5):(this.wakeUp(),6e5),this.tickUntil(e+Date.now())}},this.tickUntil=e=>{e>=Date.now()?this.timeout=window.setTimeout(()=>this.tickUntil(e),1e3):this.idle()},this.startIdleTimerThrottled=an(1e3,!1,this.startIdleTimer),this.registerPageActivityThrottled=()=>{this.status===xl.Active?this.startIdleTimerThrottled():this.startIdleTimer()},this.idle=()=>{this.changeStatus(xl.Idle)&&this.onInactive()},this.wakeUp=()=>{this.status===xl.Idle&&this.onActive(),this.changeStatus(xl.Active)},this.hide=()=>{this.changeStatus(xl.Hidden)}}toggleEvents(t,n){[...this.pageActivityEvents.document,...this.pageVisibilityEvents.document].forEach(e=>document[t](e,n)),[...this.pageActivityEvents.window,...this.pageVisibilityEvents.window].forEach(e=>window[t](e,n))}connectedCallback(){var e;null!=(e=super.connectedCallback)&&e.call(this),this.toggleEvents("addEventListener",this.registerPageActivityThrottled),Ge.subscribe({requestUpdate:this.onAppInitializationUpdate})}disconnectedCallback(){var e;null!=(e=super.disconnectedCallback)&&e.call(this),this.toggleEvents("removeEventListener",this.registerPageActivityThrottled),this.stopIdleTimer()}onActive(){throw new Error("Not implemented")}onInactive(){throw new Error("Not implemented")}changeStatus(e){return this.status!==e&&(hn("Page activity status "+(this.status=e)),!0)}}return t[wl]=!0,t}(function(e){if(_l in e)return e;class t extends e{constructor(){super(...arguments),this.expirationTimer=0,this.injectAuthHeaders=(t,n)=>{if(hn("_injectAuthHeaders called"),t&&0!==Object.keys(t).length){let e=!0;this.headers?hn((e=JSON.stringify(this.headers)!==JSON.stringify(t))?"Replacing with new headers":"Received identical headers"):hn("Initializing headers"),this.expirationTimer&&(window.clearTimeout(this.expirationTimer),this.expirationTimer=0),this.headers=t,this.onUpdateAuthHeaders(t,e);const i=n-Date.now();0<i?(hn("Setting timer to request refresh: "+i.toString()+"ms"),this.expirationTimer=window.setTimeout(this.requestAuthRefresh,i)):hn(`App injected expired auth (${n})! Will not attempt further auth refresh unless app injects valid auth`)}else hn("Received empty headers")},this.requestAuthRefresh=()=>{this.dispatchEvent(g("host-communication",{type:Lt.RefreshAuth}))},this.onInjectAuthHeaders=e=>{gl(e.origin)&&e.data.type===Ft.InjectAuthHeaders&&this.injectAuthHeaders(e.data.headers,e.data.expiration)}}onUpdateAuthHeaders(e,t){throw new Error("Not implemented")}connectedCallback(){var e;null!=(e=super.connectedCallback)&&e.call(this),window._injectAuthHeaders=this.injectAuthHeaders,window.addEventListener("message",this.onInjectAuthHeaders),this.requestAuthRefresh()}disconnectedCallback(){var e;window.removeEventListener("message",this.onInjectAuthHeaders),window._injectAuthHeaders=void 0,null!=(e=super.disconnectedCallback)&&e.call(this)}}return t[_l]=!0,t}(function(e){if(El in e)return e;class t extends e{constructor(){super(...arguments),this.hostClient=qt()?new $t:Ut()?new zt:Bt()?new Vt:void 0,this.communicateToHost=e=>{var t,n,i,r,o,a;e.detail.type!==Lt.SyncCoordinates&&hn("Notifying host apps to "+e.detail.type);try{switch(e.detail.type){case Lt.Close:null!=(t=this.hostClient)&&t.close();break;case Lt.RefreshAuth:null!=(n=this.hostClient)&&n.refreshAuth();break;case Lt.SignIn:null!=(i=this.hostClient)&&i.signIn(e.detail.data.dest);break;case Lt.Share:null!=(r=this.hostClient)&&r.share(e.detail.data);break;case Lt.SyncCoordinates:null!=(o=this.hostClient)&&o.syncCoordinates(e.detail.data);break;case Lt.OpenProfile:null!=(a=this.hostClient)&&a.openProfile(e.detail.data)}}catch(e){dn("Error notifying host client: "+e)}}}}return t[El]=!0,t}(function(e){if(Sl in e)return e;class r extends e{constructor(){super(...arguments),this.timeoutId=0,this.startedAt=0,this.expireAt=0}startTimer(e){this.startedAt=Date.now(),this.expireAt=this.startedAt+r.INTERVAL*e,this.start()}updateTimer(e){if(this.expireAt=this.startedAt+r.INTERVAL*e,0===this.timeoutId)this.start();else{const e=this.getRemainingSeconds();this.notify(e)}}disconnectedCallback(){var e;this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0),null!=(e=super.disconnectedCallback)&&e.call(this)}start(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0);var e=this.getRemainingSeconds();if(this.notify(e),0!==e){let n=this.startedAt+r.INTERVAL;const i=()=>{var e=Date.now()-n,t=(n+=r.INTERVAL,this.getRemainingSeconds());this.notify(t),this.timeoutId=0!==t?window.setTimeout(i,Math.max(0,r.INTERVAL-e)):0};this.timeoutId=window.setTimeout(i,r.INTERVAL)}}notify(e){this.dispatchEvent(g("tick-timer",{expireIn:e}))}getRemainingSeconds(){return Math.max(0,Math.round((this.expireAt-Date.now())/r.INTERVAL))}}return r[Sl]=!0,r.INTERVAL=1e3,r}(tn(function(e){if(ln in e)return e;class t extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback();for(let e=0;e<this.constructor._eventListeners.length;e++){const t=this.constructor._eventListeners[e],n=t.options.useShadowRoot?this.shadowRoot:this;t.options.useShadowRoot&&t.options.shouldBindMethod&&(this[t.method]=this[t.method].bind(this),t.options.shouldBindMethod=!1),n.addEventListener(t.event,this[t.method],t.useCapture)}}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback();for(let e=0;e<this.constructor._eventListeners.length;e++){var t=this.constructor._eventListeners[e];(t.options.useShadowRoot?this.shadowRoot:this).removeEventListener(t.event,this[t.method],t.useCapture)}}}return t[ln]=!0,t._eventListeners=[],t}(Ae))))));let ed=class extends Zh{constructor(){super(),(window.awesomeShit=this)._events=new Le(this),this.showZoomControl=!1,this.isSharing=!1,this.canvasStateById={},this.isPlacingPixel=!1,this.showColorPicker=!1,this.helpModalOpen=!1,this.isSynchronizingConfiguration=!1,this.isRestoringAuthorization=!1,this.isRestoringAfterInactive=!1,this.isGameOver=!1,this.isFullScreen=dt(this,Ke),this.pxRatio=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth,this.helpModalName="help-modal",this._handleResize=()=>{this._handleZooming(),this._setViewportCustomProperty()},this.onError=e=>{this.haltAndAskToReload(e.message)},this.onUnhandledRejection=e=>{this.haltAndAskToReload(e.reason)},this.syncValuesToURL=an(500,!1,()=>{if(history){var e=Ge.getState();if(e.camera&&e.canvas){const t=new URL(location.href),{cx:n,cy:i,px:r}=rl();t.searchParams.set(Ue.CX,""+n),t.searchParams.set(Ue.CY,""+i),t.searchParams.set(Ue.PX,""+r),history.replaceState({},"",t.toString())}}}),this.cleanSynchronizeConfigurationTimeout=()=>{this.synchronizeConfigurationTimeout&&(clearTimeout(this.synchronizeConfigurationTimeout),this.synchronizeConfigurationTimeout=void 0)},this.cleanReleaseSyncLockTimeout=()=>{this.releaseSyncLockTimeout&&(clearTimeout(this.releaseSyncLockTimeout),this.releaseSyncLockTimeout=void 0)},this.cleanRestoreAuthTimeout=()=>{this.restoreAuthTimeout&&(clearTimeout(this.restoreAuthTimeout),this.restoreAuthTimeout=void 0)},this.cleanReleaseAuthLockTimeout=()=>{this.releaseAuthLockTimeout&&(clearTimeout(this.releaseAuthLockTimeout),this.releaseAuthLockTimeout=void 0)},this.onEmbedHostMessage=e=>{(Qt()||gl(e.origin))&&(e.data.type===Ft.SetFullScreen?this.setFullScreen(e.data.state):e.data.type===Ft.InjectTelemetryDefaults&&(e=e.data["telemetryDefaults"],"object"==typeof e&&Object.keys(e).length&&Ze.updateState(e)))},this.setFullScreen=e=>{if(this.isFullScreen.state(e),this._setViewportCustomProperty(),!1===e)this.helpModalOpen=!1,this.isPlacingPixel=!1,this.isSharing=!1,this.selectedColor=void 0,this.selectedPixel=void 0,this.showColorPicker=!1;else if(Je.getState()&&!this.isGameOver&&Je.getState()){const e={x:et.getState(),y:tt.getState()},t=al(e);t&&this.canvasStateById[t.index]&&this.selectPixel(e)}e&&this.reactivateAfterInactive()},this.onConfigurationUpdateMessage=async e=>{if(hn("Received configuration message",e),e.__typename===dl.ConfigurationUpdate){var t=i(e,["__typename"]),{width:n,height:r}=sl(t.canvasConfigurations,t.canvasWidth,t.canvasHeight);if(n===at.getState()&&r===st.getState())ot.updateState(t),this.isRestoringAfterInactive&&this.expandCanvas(t);else if(We())if(n<at.getState()||r<st.getState())this.shrinkCanvas(t);else{const e=i(t,["canvasConfigurations","canvasHeight","canvasWidth"]);ot.updateState(Object.assign(Object.assign({},ot.getState()),e)),this.scheduleCanvasExpansion(t),this.isRestoringAfterInactive&&this.expandCanvas(ot.getState())}else this.expandCanvas(t),null!=(n=Xe.getState())&&n.readonlyMode&&fl.unsubscribeFromConfigUpdates();this.isRestoringAfterInactive&&(this.isRestoringAfterInactive=!1)}else dn("Unsupported message data received over configuration channel "+e.__typename)},this.expandCanvas=async e=>{ot.updateState(e),this.updateCanvasSize(e),this.initializeCamera(),this.updateVisibleCanvasIndexList(),this.canvasStateById={},this.subscribeToCanvasUpdates()},this.subscribeToCanvasUpdates=async e=>{try{const n=e?[e]:ot.getState().canvasConfigurations;await Promise.all(n.map(e=>fl.subscribeToCanvasUpdates(this.onCanvasMessage,e)))}catch(e){var t=g("faceplate-alert",{level:b.error,message:e.message});dn("Error while expanding canvas",e),this.dispatchEvent(t)}},this.onCanvasMessage=async(e,t)=>{var n,i;if(hn("Received canvas message",t,e),this.canvas){switch(e.__typename){case dl.FullFrame:if(this.drawCanvasImage(e.name,t),this.canvasStateById[t]={isTainted:!1},Je.getState()&&Ke.getState()){const e={x:et.getState(),y:tt.getState()},n=al(e);t===(null==n?void 0:n.index)&&this.selectPixel(e)}null!=(n=Xe.getState())&&n.readonlyMode&&fl.unsubscribeFromCanvasUpdates(t),this.releaseSyncLock();break;case dl.DiffFrame:{const n=this.canvasStateById[t];if(!n)break;const{previousDiffTimestamp:i,isTainted:o}=n;if(o)break;if(i&&i!==e.previousTimestamp){n.isTainted=!0;const e=null==(r=ot.getState())?void 0:r.canvasConfigurations.find(e=>e.index===t);e&&this.subscribeToCanvasUpdates(e);break}n.previousDiffTimestamp=e.currentTimestamp,this.drawCanvasImage(e.name,t);var r=ut.getState();r&&r.timestamp>e.currentTimestamp?this.canvas.drawPixel(r):ut.updateState(null);break}default:dn("Unsupported API message data received over canvas subscription",e)}null!=(i=Xe.getState())&&i.readonlyMode&&ot.getState().canvasConfigurations.every(e=>this.canvasStateById[e.index])&&(fl.createReadonlyClient(),hn("Websocket connection severed, reinstantiated w/ readonly client"))}},this.drawCanvasImage=async(e,t)=>{var n=this.getCanvasConfig(t);if(this.canvas&&n)try{const t=await bl(e);this.canvas.drawImage({image:t,x:n.dx,y:n.dy})}catch(e){dn(e)}},this.onUpdateVisiblePixels=this._events.define("update-visible-pixels",e=>{nt.updateState(e.detail.px)}),this.onCancelPixel=this._events.define("cancel-pixel",()=>{this.cancelPixel()}),this.onClickCanvas=this._events.define("click-canvas",async e=>{this.selectPixel(e.detail);var{x:e,y:t}=e.detail,n=null==(n=this.canvas)?void 0:n.getPixelColor({x:e,y:t});this.trackEvent(({x:e,y:t,color:n}=[{x:e,y:t,color:n}][0],Yt({source:Jt.HotPotato,action:Xt.Click,noun:Zt.Pixel},{action_info:{setting_value:n,reason:[e,t].join(",")}})))}),this.onChangeZoom=this._events.define("change-zoom",e=>{var t,e=e.detail["zoom"];it.updateState(e),null!=(t=this.camera)&&t.zoomIn(e)}),this.onConfirmPixel=this._events.define("confirm-pixel",async()=>{if(null!=(n=Xe.getState())&&n.canParticipate){if(ct.getState())return this.dispatchEvent(g("confirm-erase")),void this.cancelPixel();if(this.canvas&&this.showColorPicker&&"number"==typeof this.selectedColor&&!this.nextTileAvailableIn){var e,t,n={x:et.getState(),y:tt.getState(),colorIndex:this.selectedColor},i=(this.canvas.drawPixel(n),ut.updateState(Object.assign(Object.assign({},n),{timestamp:Date.now()})),null!=(e=this.camera)&&e.refreshTooltip(),this.trackEvent(({x:e,y:t,colorIndex:i}=[n][0],Yt({source:Jt.HotPotato,action:Xt.Click,noun:Zt.Submit},{action_info:{setting_value:wt(i)||"",reason:[e,t].join(",")}}))),this.isPlacingPixel=!0,await fl.setPixel(n));if(i.type===pl.Success){const n=i["data"],e=(null!=n&&n.nextAvailablePixelTimestamp&&this.startTimer(Math.ceil((n.nextAvailablePixelTimestamp-Date.now())/1e3)),window._api_&&window._api_.updateStats(n.nextAvailablePixelTimestamp),ut.getState());e&&null!=n&&n.timestamp&&ut.updateState(Object.assign(Object.assign({},e),{timestamp:n.timestamp})),this.showColorPicker=!1,this.selectedColor=void 0}else if(i.type===pl.PixelRateLimit){const n=g("faceplate-alert",{level:b.warning,message:Jc});this.dispatchEvent(n),this.startTimer(Math.ceil((i.nextAvailablePixelTimestamp-Date.now())/1e3)),window._api_&&window._api_.updateStats(i.nextAvailablePixelTimestamp)}else this.handleFailedResponse(i),ut.updateState(null);this.isPlacingPixel=!1}}}),this.superPuperSend=async(e,t,n)=>{var i,r,e={x:e,y:t,colorIndex:n},t=(this.canvas.drawPixel(e),ut.updateState(Object.assign(Object.assign({},e),{timestamp:Date.now()})),null!=(r=this.camera)&&r.refreshTooltip(),this.trackEvent(({x:t,y:n,colorIndex:r}=[e][0],Yt({source:Jt.HotPotato,action:Xt.Click,noun:Zt.Submit},{action_info:{setting_value:wt(r)||"",reason:[t,n].join(",")}}))),this.isPlacingPixel=!0,await fl.setPixel(e));if(t.type===pl.Success){const i=t["data"],r=(null!=i&&i.nextAvailablePixelTimestamp&&this.startTimer(Math.ceil((i.nextAvailablePixelTimestamp-Date.now())/1e3)),window._api_&&window._api_.updateStats(i.nextAvailablePixelTimestamp),ut.getState());r&&null!=i&&i.timestamp&&ut.updateState(Object.assign(Object.assign({},r),{timestamp:i.timestamp})),this.showColorPicker=!1,this.selectedColor=void 0}else if(t.type===pl.PixelRateLimit){const i=g("faceplate-alert",{level:b.warning,message:Jc});this.dispatchEvent(i),this.startTimer(Math.ceil((t.nextAvailablePixelTimestamp-Date.now())/1e3)),window._api_&&window._api_.updateStats(t.nextAvailablePixelTimestamp)}else this.handleFailedResponse(t),ut.updateState(null);this.isPlacingPixel=!1},this.haltAndAskToReload=e=>{this.isGameOver=!0,dn("Game over: "+e),this.cleanSynchronizeConfigurationTimeout(),this.cleanReleaseSyncLockTimeout(),this.cleanReleaseAuthLockTimeout(),this.canvasStateById={},fl.destroy()},this.onContextMenu=this._events.define("contextmenu",e=>{e.preventDefault(),this.showColorPicker=!1}),this.onMoveCamera=this._events.define("move-camera",e=>{ct.getState()&&lt.getState().length||(e=nl(e.detail),et.updateState(e.x),tt.updateState(e.y),this.updateVisibleCanvasIndexListThrottled())}),this.updateVisibleCanvasIndexList=()=>{var e=null==(e=this.camera)?void 0:e.getVisibilityRect();e&&(e=function(e,t){if(1===t.canvasConfigurations.length)return[t.canvasConfigurations[0].index];var{width:n,height:i}=sl(t.canvasConfigurations,t.canvasWidth,t.canvasHeight);return ll({x1:Math.max(e.x1,0),y1:Math.max(e.y1,0),x2:Math.min(e.x2,n),y2:Math.min(e.y2,i)},t).map(e=>e.canvasIndex)}(e,ot.getState()),fl.toggleVisibleCanvasListSubscription(e))},this.updateVisibleCanvasIndexListThrottled=an(1e3,!1,this.updateVisibleCanvasIndexList),this.onMouseMove=this._events.define("mousemove",e=>{var t;null!=(t=this.cursor)&&t.move(e.clientX,e.clientY)}),this.onFaceplateRequest=this._events.define("faceplate-request",e=>{if("/svc/mona-lisa/perf-metrics"===e.detail.resource){const t=e.detail.request["body"];t.meta=Object.assign(Object.assign({},t.meta),{route_name:"embed",page_type:"embed"})}}),this.onRegisterCamera=this._events.define("register-camera",async e=>{this.camera=e.detail}),this.onRegisterCanvas=this._events.define("register-canvas",async e=>{this.canvas=e.detail}),this.onRegisterCursor=this._events.define("register-cursor",e=>{this.cursor=e.detail}),this.onSelectColor=this._events.define("select-color",e=>{this.selectedColor=e.detail.color}),this.onHelpModalClose=this._events.define(this.helpModalName,()=>{this.helpModalOpen=!1}),this.onWebSocketConnection=e=>{e.type===pl.Success?(this.releaseAuthLock(),this.isGameOver=!1):e.type===pl.GenericError&&this.haltAndAskToReload("Failed to instantiate a connection to the Realtime API")},this.onToggleZoomButton=this._events.define("toggle-zoom-control",()=>{this.showZoomControl=!this.showZoomControl}),this.onTickTimer=this._events.define("tick-timer",e=>{this.nextTileAvailableIn=e.detail.expireIn}),this.onToggleShareSheet=this._events.define("toggle-share-sheet",e=>{this.isSharing=e.detail.isVisible,this.isSharing&&(this.showColorPicker=!1)}),this.onToggleEraseTool=this._events.define("toggle-admin-erase-tool",()=>{var e=ct.getState();e&&lt.updateState([]),e||this.dispatchEvent(g("cancel-pixel")),ct.updateState(!e)}),this.onConfirmErase=this._events.define("confirm-erase",()=>{var e=lt.getState(),t=ul(),{x:n,y:i}=e[0];let{x:r,y:o}=e[1];t&&(r=n,o=i);const a=ll({x1:n,y1:i,x2:r,y2:o},ot.getState());a?(a.forEach(async e=>{e=await fl.setRect(Object.assign(Object.assign({},e),{colorIndex:"number"==typeof this.selectedColor?this.selectedColor:31}));e.type!==pl.Success&&this.handleFailedResponse(e)}),this.trackEvent((e=n,t=i,n=r,i=o,Yt({source:Jt.HotPotato,action:Xt.Set,noun:Zt.Rectangle},{action_info:{setting_value:`x1: ${e}, y1: ${t}, x2: ${n}, y2: `+i}}))),this.dispatchEvent(g("toggle-admin-erase-tool"))):dn("Failed to split the area into canvas rectangles")}),this.onHostCommunication=this._events.define("host-communication",this.communicateToHost),this.onApiError=this._events.define("api-error",e=>{this.handleFailedResponse(e.detail)}),this.onHelpButtonClick=()=>{this.helpModalOpen=!0,this.trackEvent(Yt({source:Jt.HotPotato,action:Xt.View,noun:Zt.Tutorial}))},this._setViewportCustomProperty(),dt(this,et),dt(this,tt),dt(this,nt),dt(this,Xe),dt(this,ct),dt(this,lt),dt(this,Ge);var e=He();Ke.updateState(e.fullscreen),Ye.updateState(CLIENT_CONFIG.USE_DEBUG||e.debug)}static get styles(){return Ve(":host {\n  display: block;\n  color: var(--color-global-white);\n}\n.layout {\n  display: flex;\n  flex-direction: column;\n  height: calc(var(--vh, 1vh) * 100);\n}\n.shadow-styles,\n.top-shadow,\n.bottom-shadow {\n  content: '';\n  position: fixed;\n  left: 0;\n  right: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.6) 0%, rgba(196, 196, 196, 0) 100%);\n  height: 120px;\n  pointer-events: none;\n}\n.top-shadow {\n  top: 0;\n}\n.bottom-shadow {\n  bottom: 0;\n  transform: rotate(180deg);\n}\n.controls,\n.top-controls,\n.bottom-controls {\n  position: fixed;\n  left: calc(var(--sail) + 16px);\n  right: calc(var(--sair) + 16px);\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  height: 40px;\n  pointer-events: none;\n}\n.top-controls {\n  top: calc(var(--sait) + 16px);\n}\nmona-lisa-close-button {\n  position: fixed;\n  left: calc(var(--sail) + 16px);\n  top: calc(var(--sait) + 16px - 8px);\n}\nmona-lisa-mute-button {\n  position: fixed;\n  left: calc(var(--sail) + 76px);\n  top: calc(var(--sait) + 16px - 8px);\n}\nmona-lisa-share-button {\n  position: absolute;\n  top: -8px;\n  left: 0;\n}\nmona-lisa-help-button,\nmona-lisa-zoom-button {\n  position: absolute;\n  top: -8px;\n  right: 0;\n}\n.bottom-controls {\n  bottom: calc(var(--saib) + 16px);\n}\nmona-lisa-share-container {\n  flex: 1;\n}\nmona-lisa-color-picker {\n  position: relative;\n  flex: 0 0 auto;\n}\n.help-modal {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.help-modal p {\n  font-size: 16px;\n  line-height: 18px;\n  margin: 0 0 18px;\n}\n@media (min-width: 800px) {\n  .help-modal p {\n    font-size: 18px;\n    line-height: 20px;\n    margin: 0 0 20px;\n  }\n}\n")}_setViewportCustomProperty(){var e=.01*window.innerHeight;e!==this.vhUnit&&(document.documentElement.style.setProperty("--vh",e+"px"),this.vhUnit=e)}_handleZooming(){var e=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth;e!=this.pxRatio&&(this.pxRatio=e,e=g("faceplate-alert",{level:b.warning,message:"For the best experience 100% browser zoom is recommended, consider using our zoom tool instead."}),this.dispatchEvent(e))}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this._handleResize),window.addEventListener("message",this.onEmbedHostMessage),this.shouldGameOverOnError&&(window.addEventListener("error",this.onError),window.addEventListener("unhandledrejection",this.onUnhandledRejection)),window._setFullScreen=this.setFullScreen,this.setVHUnitInterval=window.setInterval(this._setViewportCustomProperty,1e3)}firstUpdated(e){this.user&&Xe.updateState(this.user),super.firstUpdated(e)}update(e){const t=[];try{!e.has("showColorPicker")||!1!==this.showColorPicker||!0!==e.get("showColorPicker")||e.has("nextTileAvailableIn")&&0<this.nextTileAvailableIn&&(0===e.get("nextTileAvailableIn")||void 0===e.get("nextTileAvailableIn"))||(yl["close-pallette"].currentTime=0,t.push(yl["close-pallette"].play())),e.has("selectedPixel")&&this.selectedPixel!==e.get("selectedPixel")&&(0<this.nextTileAvailableIn?(yl.invalid.currentTime=0,t.push(yl.invalid.play())):(yl.highlight.currentTime=0,t.push(yl.highlight.play()))),e.has("selectedColor")&&this.selectedColor!==e.get("selectedColor")&&void 0!==this.selectedColor&&(0<this.nextTileAvailableIn?(yl.invalid.currentTime=0,t.push(yl.invalid.play())):(yl["select-color"].currentTime=0,t.push(yl["select-color"].play()))),e.has("nextTileAvailableIn")&&(0===this.nextTileAvailableIn&&1===e.get("nextTileAvailableIn")&&t.push(yl["cooldown-end"].play()),0<this.nextTileAvailableIn&&(0===e.get("nextTileAvailableIn")||void 0===e.get("nextTileAvailableIn"))&&t.push(yl["cooldown-start"].play()))}catch(e){}super.update(e),Promise.all(t).catch(()=>{})}updated(e){this.syncValuesToURL(),super.updated(e)}disconnectedCallback(){window.removeEventListener("resize",this._handleResize),window.removeEventListener("message",this.onEmbedHostMessage),window.removeEventListener("error",this.onError),window.removeEventListener("unhandledrejection",this.onUnhandledRejection),this.cleanSynchronizeConfigurationTimeout(),this.cleanReleaseSyncLockTimeout(),this.cleanRestoreAuthTimeout(),this.cleanReleaseAuthLockTimeout(),clearInterval(this.setVHUnitInterval),super.disconnectedCallback()}initializeCamera(){var e,t,n;this.camera&&(n=He(),nt.updateState(null!=(e=n.px)?e:nt.getState()),t=!cl(e={x:null!=(e=n.cx)?e:-1,y:null!=(e=n.cy)?e:-1}),Je.updateState(n.edit&&t),n=nl(t?e:this.camera.getRandomCenter()),et.updateState(n.x),tt.updateState(n.y),this.camera.initialize())}initializeCanvas(){var e;null!=(e=this.canvas)&&e.initialize()}scheduleCanvasExpansion(e){this.isSynchronizingConfiguration||(this.nextCanvasConfig=e,this.synchronizeConfigurationTimeout||(hn(`Scheduled a config update in ${e=Math.round(9e5*Math.random())}ms`),this.synchronizeConfigurationTimeout=window.setTimeout(async()=>{this.synchronizeConfigurationTimeout=void 0,this.nextCanvasConfig?(this.isSynchronizingConfiguration=!0,await this.updateComplete,this.expandCanvas(this.nextCanvasConfig)):dn("Should not happen: Missing canvas config when trying to apply a scheduled config")},e)))}updateCanvasSize(e){var{width:e,height:t}=sl(e.canvasConfigurations,e.canvasWidth,e.canvasHeight);at.updateState(e),st.updateState(t),this.initializeCanvas()}onActive(){Ke.getState()&&this.reactivateAfterInactive()}reactivateAfterInactive(){this.isRestoringAfterInactive&&!this.isGameOver&&(hn("Page active. Enable the connection"),this.isRestoringAuthorization=!1,this.cleanRestoreAuthTimeout(),this.lockUIAndRefreshAuth())}onInactive(){hn("Page inactive. Destroy the connection"),this.isGameOver||(fl.destroy(),this.isRestoringAfterInactive=!0)}async shrinkCanvas(e){if(!this.synchronizeConfigurationTimeout){this.isSynchronizingConfiguration=!0,await this.updateComplete;const t=new Set(e.canvasConfigurations.map(e=>e.index));for(const e of ot.getState().canvasConfigurations)t.has(e.index)||(delete this.canvasStateById[e.index],fl.unsubscribeFromCanvasUpdates(e.index));this.updateCanvasSize(e),ot.updateState(e);var e=nl({x:et.getState(),y:tt.getState()});e.x===et.getState()&&e.y===tt.getState()||(et.updateState(e.x),tt.updateState(e.y),null!=(e=this.camera)&&e.initialize()),this.releaseSyncLock()}}releaseSyncLock(){var e;ot.getState()?null!=(e=ot.getState())&&e.canvasConfigurations.find(e=>!this.canvasStateById[e.index]||this.canvasStateById.isTainted)||this.releaseSyncLockTimeout||(this.releaseSyncLockTimeout=window.setTimeout(()=>{this.releaseSyncLockTimeout=void 0,this.isSynchronizingConfiguration=!1},3e3)):dn("Should not happen: Missing global config when trying to release the lock")}getCanvasConfig(t){const e=ot.getState();return null==e?void 0:e.canvasConfigurations.find(e=>e.index===t)}cancelPixel(){this.showColorPicker=!1,this.selectedColor=void 0,ct.getState()&&lt.updateState([])}selectPixel(e){var t,n;if(!this.isSharing){if(Je.updateState(!1),this.showColorPicker||null!=(n=Xe.getState())&&n.readonlyMode)null!=(n=this.camera)&&n.moveTo(e);else{const n=Math.max(it.getState(),Be.Optimal);it.updateState(n),null!=(t=this.camera)&&t.moveTo(e,n)}if(ct.getState())return 2===lt.getState().length?void(this.showColorPicker=!0):void lt.updateState([e]);this.selectedPixel=e,null!=(n=Xe.getState())&&n.readonlyMode||(this.showColorPicker=!0)}}lockUIAndRefreshAuth(){this.isRestoringAuthorization||this.restoreAuthTimeout||(this.isRestoringAuthorization=!0,this.requestAuthRefresh(),this.restoreAuthTimeout=window.setTimeout(()=>{this.haltAndAskToReload("Failed to restore authorization")},15e3))}releaseAuthLock(){this.isRestoringAuthorization&&!this.releaseAuthLockTimeout&&(this.cleanRestoreAuthTimeout(),this.releaseAuthLockTimeout=window.setTimeout(()=>{this.releaseAuthLockTimeout=void 0,this.isRestoringAuthorization=!1},3e3))}handleFailedResponse(e){var t;e.type===pl.UnauthorizedError?this.lockUIAndRefreshAuth():e.type===pl.PixelRateLimit?this.startTimer(Math.ceil((e.nextAvailablePixelTimestamp-Date.now())/1e3)):(t=g("faceplate-alert",{level:b.error,message:e.message}),this.dispatchEvent(t),e.type!==pl.GenericError&&dn("Error while making an API request: "+e.message,e))}async onUpdateAuthHeaders(e,t){if(!this.isGameOver&&(t||this.isRestoringAfterInactive)){t=(null==(t=Xe.getState())?void 0:t.readonlyMode)&&ot.getState().canvasConfigurations.every(e=>this.canvasStateById[e.index])&&We();fl.setAuthHeaders(e,this.onWebSocketConnection,t);try{await Promise.all([fl.subscribeToConfigUpdates(this.onConfigurationUpdateMessage),this.fetchUserData(),this.initializeCooldownTimer()])}catch(e){const t=g("faceplate-alert",{level:b.error,message:e.message});dn("Error while updating auth headers",e),this.dispatchEvent(t)}}}async fetchUserData(){if(!Xe.getState())try{var e=await fl.fetchUserData();e.type===pl.Success?Xe.updateState(e.data):this.handleFailedResponse(e)}catch(e){dn("Error while fetching user data",e)}}async initializeCooldownTimer(){var e,t,n;if(!Ge.getState().cooldown){if(null!=(e=Xe.getState())&&e.canParticipate)try{const e=await fl.getUserCooldown();if(e.type===pl.Success){if(null!=(t=e.data)&&t.nextAvailablePixelTimestamp){const t=((null==(n=e.data)?void 0:n.nextAvailablePixelTimestamp)-Date.now())/1e3;this.startTimer(t)}window._api_&&window._api_.updateStats((n||t).nextAvailablePixelTimestamp||0)}else e.type!==pl.GenericError&&this.handleFailedResponse(e)}catch(e){dn("Error while fetching user cooldown",e)}Ge.updateState(Object.assign(Object.assign({},Ge.getState()),{cooldown:!0}))}}render(){var e=We(),t=this.isFullScreen.state(),n=Qt(),i=null==(i=Xe.getState())?void 0:i.readonlyMode;return le` ${this.isAdminOverride&&e&&!n&&t?le`<mona-lisa-admin-controls></mona-lisa-admin-controls>`:""} <div class="layout"> <mona-lisa-share-container ?is-safari="${this.isSafari}" ?is-sheet-open="${this.isSharing}"> <mona-lisa-camera ?is-ios="${this.isIOS}" ?is-safari="${this.isSafari}" ?is-show-color-picker="${this.showColorPicker}" ?show-pixel-history="${this.showPixelHistory}"> <mona-lisa-canvas ?is-ios="${this.isIOS}" ?is-safari="${this.isSafari}"></mona-lisa-canvas> ${t&&!ct.getState()?le` <mona-lisa-pixel-preview slot="pixel" color="${un(this.selectedColor)}"></mona-lisa-pixel-preview> `:""} ${ct.getState()&&null!=(n=lt.getState())&&n.length?le`<mona-lisa-erasure-preview slot="pixel" color="${un(this.selectedColor)}"></mona-lisa-erasure-preview>`:""} </mona-lisa-camera> ${t?le` <div class="top-shadow"></div> <div class="bottom-shadow"></div> <div class="top-controls"> ${this.isSharing?"":le`<mona-lisa-coordinates></mona-lisa-coordinates>`} ${this.isSharing?"":le`<mona-lisa-help-button @click="${this.onHelpButtonClick}"></mona-lisa-help-button>`} </div> `:""} <div class="bottom-controls"> ${t?le`<mona-lisa-share-button></mona-lisa-share-button>`:""} ${i?"":le` <mona-lisa-status-pill next-tile-available-in="${un(this.nextTileAvailableIn)}"></mona-lisa-status-pill> `} ${t?le`<mona-lisa-zoom-button ?showzoomcontrol="${this.showZoomControl}"></mona-lisa-zoom-button> `:""} </div> ${t&&!i?le` <mona-lisa-color-picker color="${un(this.selectedColor)}" ?is-visible="${this.showColorPicker}" ?is-locked="${this.isPlacingPixel||!!this.nextTileAvailableIn}" next-tile-available-in="${un(this.nextTileAvailableIn)}"></mona-lisa-color-picker> `:""} </mona-lisa-share-container> </div> <mona-lisa-modal name="${this.helpModalName}" header="Place" ?isOpen="${this.helpModalOpen}" ?show-help-link="${this.showHelpLink}"> <div class="help-modal"> <p> There is an empty canvas. </p> <p> You may place a tile upon it, but you must wait to place another. </p> <p> Individually you can create something. </p> <p> Together you can create something more. </p> </div> </mona-lisa-modal> <faceplate-perfmark name="${pn.FIRST_CONTENTFUL_PAINT}"></faceplate-perfmark> ${e?le` <faceplate-perfmark name="${pn.FIRST_MEANINGFUL_PAINT}"></faceplate-perfmark> `:""} <slot></slot> <mona-lisa-overlay type="${un(this.isGameOver&&wn.GameOver||!e&&wn.Init||this.isSynchronizingConfiguration&&wn.Sync||this.isRestoringAuthorization&&wn.Auth||void 0)}"></mona-lisa-overlay> ${t&&!this.isSharing?le`<mona-lisa-close-button></mona-lisa-close-button>`:""} `}};r([u({type:Boolean,attribute:"is-ios"})],ed.prototype,"isIOS",void 0),r([u({type:Boolean,attribute:"is-safari"})],ed.prototype,"isSafari",void 0),r([u({type:Boolean,attribute:"is-admin-override"})],ed.prototype,"isAdminOverride",void 0),r([u({type:Boolean,attribute:"show-help-link"})],ed.prototype,"showHelpLink",void 0),r([u({type:Boolean,attribute:"show-pixel-history"})],ed.prototype,"showPixelHistory",void 0),r([u({type:Boolean,attribute:"game-over-on-error"})],ed.prototype,"shouldGameOverOnError",void 0),r([u({type:Object})],ed.prototype,"user",void 0),r([h()],ed.prototype,"selectedColor",void 0),r([h()],ed.prototype,"nextTileAvailableIn",void 0),r([h()],ed.prototype,"selectedPixel",void 0),r([h()],ed.prototype,"showZoomControl",void 0),r([h()],ed.prototype,"isSharing",void 0),r([h()],ed.prototype,"canvasStateById",void 0),r([h()],ed.prototype,"isPlacingPixel",void 0),r([h()],ed.prototype,"showColorPicker",void 0),r([h()],ed.prototype,"helpModalOpen",void 0),r([h()],ed.prototype,"isSynchronizingConfiguration",void 0),r([h()],ed.prototype,"isRestoringAuthorization",void 0),r([h()],ed.prototype,"isRestoringAfterInactive",void 0),r([h()],ed.prototype,"isGameOver",void 0),ed=r([c("mona-lisa-embed")],ed),(async()=>{async function c(t){return new Promise(e=>setTimeout(e,t))}for(console.log("Awaiting for components...");!window.board&&!window.camera&&!window.socket;)await c(100);window.FingerprintJS||(console.error("Fingerprint lib is not loaded, shit."),window.FingerprintJS={load:()=>({get:()=>{var e;return{visitorId:(e=document.cookie.match("edgebucket=(.+?);"))?e[1]:(1e8*Math.random()|0).toString(10)}}})}),await window.FingerprintJS.load(),console.log("All components are loaded.");const i=window.jQuery;function l(t,e=!1){let n="",i=e?-14:14;for(let e=0;e<t.length;e++)n+=String.fromCharCode(t.charCodeAt(e)+i);return n}window._api_={updateStats(e){void 0!==e&&a.updateCooldown(e)},onPixels(e){n+=e}};const u={IDLE:0,PLACING:1,WAITING:2,ERROR:3},t=Object.keys(u);function h(){return Math.max(Math.ceil((a.cooldown-Date.now())/1e3),0)}const r={0:{name:"Ð½Ð¾ÑÐ¼Ð°Ð»ÑÐ°Ð³ Ñ Ð¿Ð¸ÐºÐ°Ð±Ñ",color:"white"},240:{name:"Ð·Ð°Ð»ÑÑÐ½ÑÐ¹",color:"#FF00CD"},480:{name:"Ð½ÑÑÑÐ°Ð³",color:"#d11717"},780:{name:"ÑÐ¶ÐµÐ½ÐµÐ½ÑÑÑÐ°Ð³",color:"#5281b9"},970:{name:"Ð±ÑÐ´Ð»Ð¾ÑÑÑÐ´ÐµÐ½Ñ",color:"#c3d117"},1200:{name:"Ð¾Ð»Ð´ÑÐ°Ð³",color:"#d99323"}},o=Object.keys(r).map(e=>+e).sort((e,t)=>t-e);let d=!0,n=0;async function p(e,t,n){window.camera.moveTo({x:e,y:t},20),window.camera.sendMoveCameraEvent();var i=window.board.getPixelColor({x:e,y:t});return n!=i&&(await c(500),await window.awesomeShit.superPuperSend(e,t,n),!0)}setInterval(()=>{i("#totalSpeed").text(n),n=0},1e3),setInterval(()=>{a.setCooldown(h())},1e3);let a={initiated:!1,element:i('<style>*{padding:0;margin:0;border:0}:focus,:active{outline:none}a:focus,a:active{outline:none}nav,footer,header,aside{display:block}html,body{height:100%;width:100%;font-size:100%;line-height:1;-ms-text-size-adjust:100%;-moz-text-size-adjust:100%;-webkit-text-size-adjust:100%}input,button,textarea{font-family:inherit}input::-ms-clear{display:none}button{cursor:pointer}button::-moz-focus-inner{padding:0;border:0}a,a:visited{text-decoration:none}a:hover{text-decoration:none}ul li{list-style:none}img{vertical-align:top}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:400}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{background-color:rgba (42,42,42,0)}::-webkit-scrollbar-track:hover{background-color:rgba(42,42,42,1)}::-webkit-scrollbar-thumb{background-color:#474747}::-webkit-scrollbar-thumb:hover{background-color:#d99323}@font-face{font-family:"FuturaBookC";src:local("FuturaBookC"), url("https://nomail.com.ua/files/eot/363c763618808869720c6ca7b4059566.eot?#iefix") format("embedded-opentype")}#pixelsPlaced,#totalSpeed{color:#d99323}.box{position:fixed;z-index:999999;padding:4px;padding-top:14px;padding-bottom:14px;background:url(https://gistcdn.githack.com/dvachevskaya/4dc06d33f3ba58dd60fe05b90f2a787c/raw/4f8fa5e7cb03e888f1ffb9b4568a43979681d8ae/3rdc.svg) #2a2a2a center center;box-shadow:0 3px 24px 0 rgba(0,0,0,.24);font-family:FuturaBookC,sans-serif;letter-spacing:2.4px;display:flex;overflow:auto;flex-direction:column;color:white;text-align:center;scrollbar-color:#d99323 #2a2a2a;scrollbar-width:thin;user-select:none}.box.main{z-index:1000000;left:5px;top:5px}.box.info{bottom:5px;left:5px;width:450px}.box.alert{z-index:1000001;top:50%;left:50%;width:50%;max-height:60%;transform:translate(-50%,-50%);background-size:contain;padding:14px;align-items:center;flex-direction:column}.block{margin-bottom:5px;background-color:#474747;padding:5px;padding-right:7px;padding-left:7px;display:flex;justify-content:space-between;font-size:15px}.block:last-child{margin-bottom:0px}.block.header{font-size:22px;background-color:#d11717}.subblock{margin-top:10px;display:flex;flex-direction:column}.button{margin:7px;margin-top:0px;background-color:#474747;color:#858585;letter-spacing:1.5px;font-size:14px;padding:4px;padding-right:7px;padding-left:7px;box-shadow:0 3px 24px 0 rgba(0,0,0,.24);transition:all .1s linear;display:inline}.button:hover,.button.active{color:white;background-color:#d99323}.button:disabled{background-color:#2a2a2a;color:#474747;cursor:not-allowed}.block.link{text-decoration:underline;font-size:14px;color:#858585;background:none;display:inline}.showSubblockButton{width:272px;height:14px;background:#474747;margin-top:5px;align-self:center;transition:all .1s linear}.showSubblockButton:hover{background-color:#d99323 }.strelka{background:center / contain no-repeat url(https://gistcdn.githack.com/dvachevskaya/20c08f0e3f614b4821c8dd67bca7893a/raw/6d9f8310db85bd899342431e6b1fb23e2a1bb495/strelkaDown.svg);margin:1px;height:10px}.showSubblockButton:hover .strelka{background-image:url(https://gistcdn.githack.com/dvachevskaya/4118c4f0c6d1767b28f14fd3ad535e66/raw/ea6992d5d007a31af39402d9b377cfcfafbc4fb6/strelkaDownW.svg)}.showSubblockButton.active .strelka{background-image:url(https://gistcdn.githack.com/dvachevskaya/2c543d111f9205e895b13bd078e25d8d/raw/1923d436722f9c68f6ec633f12e2dd6623a1504a/strelkaUp.svg)}.showSubblockButton.active:hover .strelka{background-image:url(https://gistcdn.githack.com/dvachevskaya/bf71db9a54a0bf276e301fbe8129c36e/raw/e518d743866aa03579fef4f32aa27d2784e9992b/strelkaUpW.svg)}.info span{color:#858585}.block.link:hover{color:#d99323}.alert .block{font-size:25px;text-align:center;background:none}.alert .header{font-size:34px;text-align:center;color:#d99323;font-weight:900}.alert .button{font-size:25px;margin-top:17px}</style><div class="box main"><div id="statusColor" class="block header"><p id="statusText">NULL</p><p id="waitToNext">0</p></div><div class="block">Ð¿Ð¸ÐºÑÐµÐ»ÐµÐ¹ Ð¿Ð¾ÑÑÐ°Ð²Ð»ÐµÐ½Ð¾<p id="pixelsPlaced">0</p></div><div class="block">Ð¼Ð°ÑÑÑ<p id="lvlName">Ð·Ð°Ð»ÑÑÐ½ÑÐ¹</p></div><div class="subblock"> <button id="showInfo" class="button active">ÑÐ²Ð¸ÑÑÐ¾Ð¿ÐµÑÐ´ÐµÐ»ÐºÐ¸</button> <button id="offBot" class="button">Ð²ÑÐºÐ»ÑÑÐ¸ÑÑ Ð±Ð¾ÑÐ°</button> <a class="block link" href="https://youtu.be/OahWFqteuDw?t=15" target="_blank">Ð¸Ð½ÑÐ¾ Ð¾ Ð±Ð¾ÑÐµ</a></div> <a class="block link" href="https://t.me/pixel2ch" target="_blank">Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ°Ð½Ð°Ð» Ñ ÐºÐ¾Ð¾ÑÐ´Ð¸Ð½Ð°ÑÐ¸ÐµÐ¹</a> <button class="showSubblockButton active"><div class="strelka"></div></button></div><div class="box info"><div class="block">ÑÐºÐ¾ÑÐ¾ÑÑÑ ÑÐ¾Ð»ÑÑÐ°<div><span id="totalSpeed">0</span><span>Ð¿Ð¸ÐºÑ/ÑÐµÐº</span></div></div></div>'),state:u.IDLE,speeds:{count:0,aviable:0,endTime:0},timeout:null,placedPixels:0,cooldown:0,init(){this.initiated=!0,this.placedPixels=localStorage.getItem("boot.pla")||0,this.updateMast(),i(document.body).append(this.element),i("#useSpeedup").click(()=>{this.useSpeed()}),i("#showInfo").click(()=>{i("#showInfo").toggleClass("active"),i(".box.info").toggle()}),i(".showSubblockButton").click(()=>{i(".showSubblockButton").toggleClass("active"),i(".subblock").toggle()}),this.setState(u.IDLE),this.sendHandhake().catch(e=>{console.error(e);{e="ÐÑÑ Ð¿Ð»Ð¾ÑÐ¾ :)";var t="ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð±Ð¾ÑÑ. ÐÐµÑÐµÐ·Ð°Ð³ÑÑÐ·Ð¸ ÑÑÑÐ°Ð½Ð¸ÑÑ Ð²ÑÑÑÐ½ÑÑ.";const n=i(`<div class="box alert">
                <div class="header"></div>
                <div class="block"></div>
                <button class="button">Ð¯ Ð²ÑÑ Ð¿Ð¾Ð½ÑÐ», Ð¸Ð·Ð²Ð¸Ð½Ð¸ÑÐµ</button>
            </div>`);return i(".header",n).text(e),i(".block",n).html(t),i(".button",n).on("click",()=>n.remove()),void i("body").append(n)}})},async sendHandhake(){var e={"dry-star":(await(await window.FingerprintJS.load()).get()).visitorId,"lucky-rice":"14883939","autumn-breeze":"performanceStats"};const n=l(JSON.stringify(e));await new Promise((e,t)=>{window.window.GM_xmlhttpRequest({method:"POST",url:"http://murmuring-temple-91957.herokuapp.com/twilight-bonus",data:n,nocache:!0,revalidate:!0,onload:e,onerror:t})})},setState(e){this.state=e,i("#statusText",this.element).text(t[e])},setCooldown(e){i("#waitToNext",this.element).text(Math.floor(e))},updateCooldown(e){var t=(e-Date.now())/1e3;this.cooldown=e,this.setCooldown(Math.max(t,0)),this.initiated||this.init(),this.state!==u.PLACING&&(this.setState(u.WAITING),clearTimeout(this.timeout),this.timeout=setTimeout(this.sendPixel.bind(this),Math.max(e-Date.now(),0)))},updateMast(){i("#pixelsPlaced").text(this.placedPixels);var e,t=this.placedPixels;for(e of o)if(t>=e){var n=r[e];i("#lvlName").text(n.name),i("#lvlName").css("color",n.color);break}},async sendPixel(){try{if(clearTimeout(this.timeout),0!=h())return this.updateCooldown(this.cooldown);this.setState(u.PLACING),d&&(await c(5e3),d=!1);const s=JSON.stringify({"dry-star":(await(await window.FingerprintJS.load()).get()).visitorId,"lucky-rice":"14883939"});var e=await new Promise((e,t)=>{try{window.GM_xmlhttpRequest({method:"POST",url:"http://murmuring-temple-91957.herokuapp.com/cold-tooth",data:l(s),nocache:!0,revalidate:!0,onload:e,onerror:t})}catch(e){t(e)}});if(200!==e.status)throw new Error("Bad Status: "+e.status);var t=l(e.responseText,!0);if("pixel"!==(t=JSON.parse(t)).result)throw new Error("Wrong response");var{x:n,y:i,col:r}=t.pixel;if(!await p(n,i,r))return setTimeout(this.sendPixel.bind(this),100);this.placedPixels++,this.updateMast(),o="pla",a=this.placedPixels,localStorage.setItem("boot."+o,a)}catch(e){this.setState(u.ERROR),console.log("ERROR",e),this.timeout=setTimeout(this.sendPixel.bind(this),3e3)}var o,a}}})();